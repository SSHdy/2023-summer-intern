webpackJsonp([30],{RQlz:function(t,e){},agIH:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("r7bC"),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"houseType"}},[a("div",{staticClass:"query-box",attrs:{id:"queryBox"}},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"query-item"},[a("div",{staticClass:"query-title"},[t._v("使用单位：")]),t._v(" "),a("div",{staticClass:"query-input"},[a("el-select",{attrs:{filterable:"",multiple:"",placeholder:"请选择使用单位"},model:{value:t.unitIdList,callback:function(e){t.unitIdList=e},expression:"unitIdList"}},t._l(t.unitOptions,function(t){return a("el-option",{key:t.unitId,attrs:{label:t.unitName,value:t.unitId}})}))],1)]),t._v(" "),a("div",{staticClass:"query-item",staticStyle:{"margin-left":"50px"}},[a("div",{staticClass:"query-title"},[t._v("楼栋：")]),t._v(" "),a("div",{staticClass:"query-input"},[a("el-select",{attrs:{filterable:"",placeholder:"请选择楼栋"},model:{value:t.buildId,callback:function(e){t.buildId=e},expression:"buildId"}},t._l(t.buildOpts,function(t){return a("el-option",{key:t.buildId,attrs:{label:t.buildName,value:t.buildId}})}))],1)]),t._v(" "),a("div",{staticClass:"query-btn"},[a("search-btn",{on:{clickBtn:t.search}}),t._v(" "),a("reset-btn",{on:{clickBtn:t.reset}})],1)])]),t._v(" "),a("div",{staticClass:"table-box"},[a("table-component",{attrs:{tableData:t.tableData,tableHeight:t.tableHeight}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"houseTypeName",label:"房屋类型",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"houseNum",label:"房间数量",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalBuildArea",label:"建筑面积(m²)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalUseArea",label:"使用面积(m²)",align:"center"}})],1),t._v(" "),a("div",{staticClass:"table-operate-box",attrs:{id:"operateBox"}},[a("div",{staticClass:"operate-btn"},[t._v("\n        总计  \n        "),a("span",[t._v("房间数量:"+t._s(t.unitNums))]),t._v(" "),a("span",[t._v("使用面积:"+t._s(t.houseUseAreaSum)+"m²")]),t._v(" "),a("span",[t._v("建筑面积:"+t._s(t.houseBuildAreaSum)+"m²")])])])],1)])},staticRenderFns:[]};var s=function(t){a("RQlz")},n=a("VU/8")(i.a,l,!1,s,null,null);e.default=n.exports},r7bC:function(t,e,a){"use strict";(function(t){var i=a("hmyF"),l=(a("zu8U"),a("yzMb"),a("5kkW")),s=a("3a1n"),n=a("WHmA"),u=a("uSev"),o=a("FAvH"),r=a("GR1E");e.a={components:{searchBtn:l.a,resetBtn:s.a,treeSelect:n.a,tableBtnGroup:o.a,tablePagination:r.a,tableComponent:u.a},data:function(){return{unitIdList:[],buildId:null,unitOptions:[],treeShow:!0,tableData:[],tableHeight:100,loading:null,buildOpts:[],unitNums:0,houseUseAreaSum:0,houseBuildAreaSum:0}},created:function(){this.getUnit()},methods:{loadingStart:function(t){this.loading||(this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"el-icon-loading",target:t,customClass:"loading-box"}))},loadingEnd:function(){this.loading&&(this.loading.close(),this.loading=null)},GetBuildPositon:function(){var t=this;Object(i.c)().then(function(e){t.buildOpts=[],e.forEach(function(e){1===e.type&&t.buildOpts.push(e)});t.buildOpts.unshift({buildId:"",buildName:"全部"})}).catch(function(e){var a=e.result?e.result:"楼座名称获取失败";t.$message({message:a,type:"error"})})},search:function(){this.getList()},reset:function(){this.unitIdList=[],this.buildId=null,this.getList()},getUnit:function(){var t=this;Object(i.g)().then(function(e){t.unitOptions=e})},getList:function(){var t=this;this.loadingStart(".table-box"),Object(i.k)(this.buildId,this.unitIdList).then(function(e){var a;t.unitNums=0,t.houseUseAreaSum=0,t.houseBuildAreaSum=0,e.forEach(function(t){1===t.useBuildArea&&(t.totalBuildArea=t.totalUseArea,t.totalUseArea="-")}),e.forEach(function(e){"number"==typeof e.totalUseArea&&(t.houseUseAreaSum+=e.totalUseArea),"number"==typeof e.totalBuildArea&&(t.houseBuildAreaSum+=e.totalBuildArea)}),a=e.length;for(var i=0;i<a;i++)t.unitNums+=e[i].houseNum;t.houseUseAreaSum=t.houseUseAreaSum?t.houseUseAreaSum.toFixed(2):t.houseUseAreaSum,t.houseBuildAreaSum=t.houseBuildAreaSum?t.houseBuildAreaSum.toFixed(2):t.houseBuildAreaSum,t.tableData=e,t.loadingEnd()}).catch(function(e){t.loadingEnd();var a=e.result?e.result:"获取超标房间信息列表失败";t.$message({message:a,type:"error"})})}},mounted:function(){var e=this;setTimeout(function(){var a=t("#mainDiv").height(),i=t("#queryBox").outerHeight(!0),l=t("#operateBox").height();e.tableHeight=a-i-l,e.GetBuildPositon(),e.getList()},1)}}}).call(e,a("7t+N"))}});
//# sourceMappingURL=30.cc462547ce1f15b6dc65.js.map