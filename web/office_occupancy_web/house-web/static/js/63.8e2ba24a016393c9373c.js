webpackJsonp([63],{"0LoU":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("OMcc"),n=(a("yzMb"),a("+JHs")),l=a("fYBn"),r=a("02tb"),i=a("5kkW"),s=a("3a1n"),c=a("162o"),p={components:{tableComponent:n.a,cancelBtn:l.a,confirmBtn:r.a,searchBtn:i.a,resetBtn:s.a},data:function(){return{month:"",loading:null,tableData:[],Form:{allocationPlan:"",approvalNum:"",approvalNumTb:"",approvalNumHb:"",approvalMoney:"",approvalMoneyTb:"",approvalMoneyHb:"",approvalArea:"",approvalAreaTb:"",approvalAreaHb:""},pickerOptions:{},datePickerDisabled:!1,currentTime:""}},created:function(){this.getStatisticsDateRange()},mounted:function(){this.month=this.formatDate((new Date).getTime(),"yyyy-MM"),this.currentTime=this.month,this.getList(this.month)},methods:{loadingStart:function(t){this.loading||(this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"el-icon-loading",target:t,customClass:"loading-box"}))},loadingEnd:function(){this.loading&&(this.loading.close(),this.loading=null)},changeSize:function(t){this.pageSize=t,this.getList()},changePage:function(t){this.currentPage=t,this.getList()},getList:function(t){var e=this;this.loadingStart(".table-box"),Object(o.a)(t).then(function(t){t.forEach(function(t){for(var a in t.allocationPlan=e.getReviewAuditState(t.allocationPlan),e.Form)t[a]||(t[a]="-")}),e.tableData=t,e.loadingEnd()}).catch(function(t){e.loadingEnd();var a=t.result?t.result:"配置工作统计信息获取失败";e.$message({message:a,type:"error"})})},getReviewAuditState:function(t){switch(t){case 1:return"调剂";case 2:return"置换";case 3:return"租用";case 4:return"建设";case 5:return"合计"}},formatDate:function(t,e){var a=new Date(t),o={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return e},dateChange:function(t){var e=this;if(null===t)return this.$message({message:"月份不能为空！",type:"warning"}),void Object(c.setTimeout)(function(){e.month=e.currentTime},1);this.currentTime=t,this.getList(t)},getStatisticsDateRange:function(){var t=this;Object(o.g)(3).then(function(e){if(e){var a=e.maxMonth+"-31 23:59:59",o=e.minMonth+"-01 00:00:00";t.pickerOptions.disabledDate=function(t){return t.getTime()>new Date(a).getTime()||t.getTime()<new Date(o).getTime()}}else t.datePickerDisabled=!0}).catch(function(e){var a=e.result?e.result:"工作统计日期范围获取失败";t.$message({message:a,type:"error"})})}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"config_month"}},[a("div",{staticClass:"query-box",attrs:{id:"queryBox"}},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"query-item"},[a("div",{staticClass:"query-title"},[t._v("选择月份：")]),t._v(" "),a("div",{staticClass:"query-input"},[a("el-date-picker",{attrs:{type:"month",placeholder:"选择月份","picker-options":t.pickerOptions,format:"yyyy 年 MM 月","value-format":"yyyy-MM",disabled:t.datePickerDisabled},on:{change:t.dateChange},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1)])])]),t._v(" "),a("div",{staticClass:"table-box"},[a("table-component",{attrs:{tableData:t.tableData}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"allocationPlan",label:"分配方案",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"approvalNum",label:"审批数量",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"approvalNumTb",label:"审批数量同比",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"approvalNumHb",label:"审批数量环比",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"approvalArea",label:"审批面积(m²)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"approvalAreaTb",label:"审批面积同比(m²)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"approvalAreaHb",label:"审批面积环比(m²)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"approvalMoney",label:"审批金额(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"approvalMoneyTb",label:"审批金额同比(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"approvalMoneyHb",label:"审批金额环比(元)",align:"center"}})],1)],1)])},staticRenderFns:[]};var g=a("VU/8")(p,u,!1,function(t){a("SIHj")},null,null);e.default=g.exports},SIHj:function(t,e){}});
//# sourceMappingURL=63.8e2ba24a016393c9373c.js.map