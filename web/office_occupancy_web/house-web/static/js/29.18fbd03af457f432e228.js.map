{"version":3,"sources":["webpack:///src/pages/useManagement/rentRoomReport.vue","webpack:///./src/pages/useManagement/rentRoomReport.vue?4d40","webpack:///./src/pages/useManagement/rentRoomReport.vue"],"names":["__webpack_exports__","components","searchBtn","__WEBPACK_IMPORTED_MODULE_4__components_button_searchBtn__","resetBtn","__WEBPACK_IMPORTED_MODULE_5__components_button_resetBtn__","searchTreeSelect","__WEBPACK_IMPORTED_MODULE_6__components_treeSelect_treeSelect_3__","tableBtnGroup","__WEBPACK_IMPORTED_MODULE_8__components_tableGroup_tableBtnGroup__","tablePagination","__WEBPACK_IMPORTED_MODULE_9__components_tableGroup_tablePagination__","tableComponent","__WEBPACK_IMPORTED_MODULE_7__components_table_table2_vue__","data","unitIdList","housetypeId","housetype","form","yardId","buildId","floorName","houseId","houseIds","floorNames","buildIds","yardIds","loading","tableData","tableHeight","currentPage","pageSize","total","houseUseAreaSum","houseBuildAreaSum","address","id","label","prop","width","allTreeData","searchTreeName","unitOptions","created","this","getHouseType","getList","selectAllHandlePo","methods","loadingStart","classname","$loading","lock","text","spinner","target","customClass","loadingEnd","close","handleSelectionChange","selectData","changeSize","size","changePage","page","search","reset","__WEBPACK_IMPORTED_MODULE_3__eventBus_eventBus__","$emit","_this","Object","__WEBPACK_IMPORTED_MODULE_2__axios_commonApi__","then","res","_this2","__WEBPACK_IMPORTED_MODULE_0__api__","spareRoomDtoPage","records","length","toFixed","forEach","item","useBuildArea","houseUseArea","houseBuildArea","catch","err","msg","result","$message","message","type","_this3","handleSearchCheckChange","checkedNodes","halfCheckedNodes","_this4","concat","node","push","value","getUserUnitList","_this5","mounted","_this6","setTimeout","mainDivH","$","height","queryBoxH","outerHeight","operateBoxH","useManagement_rentRoomReport","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","placeholder","model","callback","$$v","expression","_l","key","housetypeName","staticStyle","margin-left","filterable","multiple","unitId","unitName","treeData","treeShow","inputWidth","inputHeight","treeName","on","handleCheckChange","clickBtn","select","align","show-overflow-tooltip","_s","size-change","page-change","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","rentRoomReport"],"mappings":"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","file":"static/js/29.18fbd03af457f432e228.js","sourcesContent":["<template>\r\n  <div id=\"rentRoomReport\">\r\n    <div class=\"query-box\" id=\"queryBox\">\r\n      <div class=\"clearfix\">\r\n        <div class=\"query-item\">\r\n          <div class=\"query-title\">房屋类型：</div>\r\n          <div class=\"query-input\">\r\n            <el-select v-model=\"housetypeId\" placeholder=\"请选择房屋类型\">\r\n              <el-option\r\n                v-for=\"item in housetype\"\r\n                :key=\"item.housetypeId\"\r\n                :label=\"item.housetypeName\"\r\n                :value=\"item.housetypeId\"\r\n              ></el-option>\r\n            </el-select>\r\n          </div>\r\n        </div>\r\n        <div class=\"query-item\" style=\"margin-left:50px\">\r\n          <div class=\"query-title\">单位名称：</div>\r\n          <div class=\"query-input\">\r\n            <el-select v-model=\"unitIdList\" filterable multiple placeholder=\"请选择\">\r\n              <el-option\r\n                v-for=\"item in unitOptions\"\r\n                :key=\"item.unitId\"\r\n                :label=\"item.unitName\"\r\n                :value=\"item.unitId\"\r\n              ></el-option>\r\n            </el-select>\r\n          </div>\r\n        </div>\r\n        <div class=\"query-item\" style=\"margin-left:50px\">\r\n          <div class=\"query-title\">位置：</div>\r\n          <div class=\"query-input\">\r\n            <search-tree-select\r\n              @handleCheckChange=\"handleSearchCheckChange\"\r\n              :treeData=\"allTreeData\"\r\n              :treeShow=\"true\"\r\n              :inputWidth=\"'100%'\"\r\n              :inputHeight=\"'32px'\"\r\n              :treeName=\"searchTreeName\"\r\n            ></search-tree-select>\r\n          </div>\r\n        </div>\r\n        <div class=\"query-btn\">\r\n          <search-btn @clickBtn=\"search\"></search-btn>\r\n          <reset-btn @clickBtn=\"reset\"></reset-btn>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"table-box\">\r\n      <table-component\r\n        :tableData=\"tableData\"\r\n        :tableHeight=\"tableHeight\"\r\n        @select=\"handleSelectionChange\"\r\n      >\r\n        <el-table-column type=\"index\" width=\"50\" label=\"编号\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"position\" label=\"位置\" align=\"center\">\r\n          <el-table-column\r\n            v-for=\"item in address\"\r\n            :label=\"item.label\"\r\n            align=\"center\"\r\n            :prop=\"item.prop\"\r\n            :width=\"item.width\"\r\n            :show-overflow-tooltip=\"true\"\r\n            :key=\"item.id\"\r\n          ></el-table-column>\r\n        </el-table-column>\r\n        <el-table-column prop=\"houseUseArea\" label=\"使用面积(m²)\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"houseBuildArea\" label=\"建筑面积(m²)\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"contacts\" label=\"联系人\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"contactPhone\" label=\"联系电话\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"lesseeYears\" label=\"承租年限（年）\" align=\"center\"></el-table-column>\r\n      </table-component>\r\n      <div class=\"table-operate-box\" id=\"operateBox\">\r\n        <div class=\"operate-btn\">\r\n          总计&nbsp;&nbsp;\r\n          <span>房间数量:{{total}}</span>\r\n          <span>使用面积:{{houseUseAreaSum}}m²</span>\r\n          <span>建筑面积:{{houseBuildAreaSum}}m²</span>\r\n        </div>\r\n        <div class=\"operate-pager\">\r\n          <table-pagination\r\n            @size-change=\"changeSize\"\r\n            @page-change=\"changePage\"\r\n            :currentPage=\"currentPage\"\r\n            :pageSize=\"pageSize\"\r\n            :total=\"total\"\r\n          ></table-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getRentRoomReport, selectAllHandlePo, getUnitLists } from \"./api\";\r\nimport { getYardTree } from \"../home/api\";\r\nimport { getHouseTypeList, getUserUnitList } from \"@/axios/commonApi\";\r\nimport { eventBus } from \"@/eventBus/eventBus\";\r\nimport searchBtn from \"@/components/button/searchBtn\";\r\nimport resetBtn from \"@/components/button/resetBtn\";\r\nimport searchTreeSelect from \"@/components/treeSelect/treeSelect_3\";\r\nimport tableComponent from \"@/components/table/table2.vue\";\r\nimport tableBtnGroup from \"@/components/tableGroup/tableBtnGroup\";\r\nimport tablePagination from \"@/components/tableGroup/tablePagination\";\r\nimport { log } from \"util\";\r\nexport default {\r\n  components: {\r\n    searchBtn,\r\n    resetBtn,\r\n    searchTreeSelect,\r\n    tableBtnGroup,\r\n    tablePagination,\r\n    tableComponent\r\n  },\r\n  data() {\r\n    return {\r\n      unitIdList: [],\r\n      housetypeId: null,\r\n      housetype: [],\r\n      form: {\r\n        yardId: \"\",\r\n        buildId: \"\",\r\n        floorName: \"\",\r\n        houseId: \"\"\r\n      },\r\n      houseIds: [],\r\n      floorNames: [],\r\n      buildIds: [],\r\n      yardIds: [],\r\n      loading: null,\r\n      tableData: [],\r\n      tableHeight: 0,\r\n      currentPage: 1,\r\n      pageSize: 15,\r\n      total: 1,\r\n      houseUseAreaSum: 0,\r\n      houseBuildAreaSum: 0,\r\n      address: [\r\n        {\r\n          id: 1,\r\n          label: \"院落\",\r\n          prop: \"yardName\",\r\n          width: 200\r\n        },\r\n        {\r\n          id: 2,\r\n          label: \"楼座\",\r\n          prop: \"buildName\",\r\n          width: 100\r\n        },\r\n        {\r\n          id: 3,\r\n          label: \"楼层\",\r\n          prop: \"floorName\",\r\n          width: 100\r\n        },\r\n        {\r\n          id: 4,\r\n          label: \"房间\",\r\n          prop: \"houseNumber\",\r\n          width: 100\r\n        }\r\n      ],\r\n      allTreeData: [],\r\n      searchTreeName: 'disposeSearchTree',\r\n      unitOptions: []\r\n    };\r\n  },\r\n  created() {\r\n    this.getHouseType();\r\n    this.getList();\r\n    this.selectAllHandlePo();\r\n  },\r\n  methods: {\r\n    // 开始加载\r\n    loadingStart(classname) {\r\n      if (!this.loading) {\r\n        this.loading = this.$loading({\r\n          lock: true,\r\n          text: '正在加载...',\r\n          spinner: 'el-icon-loading',\r\n          target: classname,\r\n          customClass: 'loading-box'\r\n        });\r\n      }\r\n    },\r\n    // 结束加载\r\n    loadingEnd() {\r\n      if (this.loading) {\r\n        this.loading.close();\r\n        this.loading = null;\r\n      }\r\n    },\r\n    // 获取选中的row\r\n    handleSelectionChange(data) {\r\n      this.selectData = data;\r\n    },\r\n    // 改变页面条数\r\n    changeSize(size) {\r\n      this.currentPage = 1\r\n      this.pageSize = size;\r\n      this.getList();\r\n    },\r\n    // 改变页面页数\r\n    changePage(page) {\r\n      this.currentPage = page;\r\n      this.getList();\r\n    },\r\n    search() {\r\n      this.currentPage = 1;\r\n      this.getList();\r\n    },\r\n    reset() {\r\n      this.currentPage = 1;\r\n      eventBus.$emit(`${this.searchTreeName}_clear`);\r\n      this.housetypeId = null;\r\n      this.yardIds = []\r\n      this.floorNames = []\r\n      this.buildIds = []\r\n      this.houseIds = []\r\n      this.form.yardId = \"\";\r\n      this.form.buildId = \"\";\r\n      this.form.floorName = \"\";\r\n      this.form.houseId = \"\";\r\n      this.unitIdList = []\r\n      this.getList();\r\n    },\r\n    //获取使用房屋类型\r\n    getHouseType() {\r\n      getHouseTypeList().then(res => {\r\n        this.housetype = res;\r\n      });\r\n    },\r\n    getList() {\r\n      this.loadingStart('.table-box');\r\n      getRentRoomReport(\r\n        this.currentPage,\r\n        this.pageSize,\r\n        this.yardIds,\r\n        this.buildIds,\r\n        this.floorNames,\r\n        this.houseIds,\r\n        this.housetypeId,\r\n        this.unitIdList\r\n      )\r\n        .then(res => {\r\n          this.loadingEnd();\r\n          if (res.spareRoomDtoPage.records.length > 0) {\r\n            this.tableData = res.spareRoomDtoPage.records;\r\n            this.total = res.spareRoomDtoPage.total;\r\n            this.houseUseAreaSum = res.houseUseAreaSum ? res.houseUseAreaSum.toFixed(2) : 0;\r\n            this.houseBuildAreaSum = res.houseBuildAreaSum ? res.houseBuildAreaSum.toFixed(2) : 0;\r\n            this.tableData.forEach(item => {\r\n              if (item.useBuildArea) {\r\n                if (item.houseUseArea) {\r\n                  item.houseBuildArea = item.houseUseArea.toFixed(2);\r\n                } else {\r\n                  item.houseBuildArea = '-'\r\n                }\r\n                item.houseUseArea = '-'\r\n              } else {\r\n                item.houseBuildArea = item.houseBuildArea ? item.houseBuildArea : '-'\r\n                item.houseUseArea = item.houseUseArea ? item.houseUseArea : '-'\r\n              }\r\n            });\r\n          } else {\r\n            this.tableData = [];\r\n            this.total = 0;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.loadingEnd();\r\n          const msg = err.result ? err.result : \"获取超标房间信息列表失败\";\r\n          this.$message({\r\n            message: msg,\r\n            type: \"error\"\r\n          });\r\n        });\r\n    },\r\n    // 获取搜索树的数据\r\n    selectAllHandlePo() {\r\n      selectAllHandlePo().then(res => {\r\n        this.allTreeData = res;\r\n      }).catch(err => {\r\n        const msg = err.result ? err.result : '处置位置获取失败';\r\n        this.$message({\r\n          message: msg,\r\n          type: \"error\"\r\n        });\r\n      })\r\n    },\r\n    handleSearchCheckChange(checkedNodes, halfCheckedNodes) {\r\n      this.houseIds = [];\r\n      const nodes = checkedNodes.concat(halfCheckedNodes);\r\n      nodes.forEach(node => {\r\n        if (node.type === 3) {\r\n          this.houseIds.push(node.value);\r\n        } else if (node.type === 2) {\r\n          this.floorNames.push(node.value);\r\n        } else if (node.type === 1) {\r\n          this.buildIds.push(node.value);\r\n        } else if (node.type === 0) {\r\n          this.yardIds.push(node.value);\r\n        }\r\n      });\r\n    },\r\n    // 用户权限下的单位列表\r\n    getUserUnitList() {\r\n      getUnitLists().then(res => {\r\n        this.unitOptions = res;\r\n      }).catch(err => {\r\n        const msg = err.result ? err.result : '单位获取失败';\r\n        this.$message({\r\n          message: msg,\r\n          type: \"error\"\r\n        });\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getUserUnitList();\r\n    setTimeout(() => {\r\n      let mainDivH = $(\"#mainDiv\").height();\r\n      let queryBoxH = $(\"#queryBox\").outerHeight(true);\r\n      let operateBoxH = $(\"#operateBox\").height();\r\n      this.tableHeight = mainDivH - queryBoxH - operateBoxH;\r\n    }, 1);\r\n  }\r\n};\r\n</script>\r\n<style>\r\n#rentRoomReport .query-box {\r\n  position: relative;\r\n  margin-bottom: 20px;\r\n}\r\n#rentRoomReport .query-item {\r\n  font-size: 16px;\r\n  /* height: 32px; */\r\n  line-height: 32px;\r\n  float: left;\r\n  width: 20%;\r\n}\r\n#rentRoomReport .query-item > div {\r\n  float: left;\r\n}\r\n#rentRoomReport .query-item > .query-input {\r\n  width: calc(100% - 80px);\r\n}\r\n#rentRoomReport .query-item .el-select {\r\n  width: 100%;\r\n}\r\n#rentRoomReport .query-item .el-date-editor.el-input,\r\n#rentRoomReport .query-item .el-input__inner {\r\n  height: 32px;\r\n  line-height: 32px;\r\n  width: 100%;\r\n}\r\n#rentRoomReport .query-btn {\r\n  float: right;\r\n}\r\n#rentRoomReport .table-operate-box {\r\n  width: 100%;\r\n  height: 66px;\r\n  background: #d9eef6;\r\n  position: relative;\r\n}\r\n#rentRoomReport .operate-btn {\r\n  position: absolute;\r\n  left: 19px;\r\n  top: 17px;\r\n  height: 32px;\r\n  line-height: 32px;\r\n}\r\n#rentRoomReport .operate-btn span {\r\n  display: inline-block;\r\n  margin-right: 40px;\r\n}\r\n#rentRoomReport .operate-pager {\r\n  position: absolute;\r\n  right: 19px;\r\n  top: 17px;\r\n}\r\n/* #rentRoomReport .query-box .el-input,\r\n#rentRoomReport .query-box  .el-input__inner{\r\n  width: 200px ;\r\n} */\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/useManagement/rentRoomReport.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"rentRoomReport\"}},[_c('div',{staticClass:\"query-box\",attrs:{\"id\":\"queryBox\"}},[_c('div',{staticClass:\"clearfix\"},[_c('div',{staticClass:\"query-item\"},[_c('div',{staticClass:\"query-title\"},[_vm._v(\"房屋类型：\")]),_vm._v(\" \"),_c('div',{staticClass:\"query-input\"},[_c('el-select',{attrs:{\"placeholder\":\"请选择房屋类型\"},model:{value:(_vm.housetypeId),callback:function ($$v) {_vm.housetypeId=$$v},expression:\"housetypeId\"}},_vm._l((_vm.housetype),function(item){return _c('el-option',{key:item.housetypeId,attrs:{\"label\":item.housetypeName,\"value\":item.housetypeId}})}))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"query-item\",staticStyle:{\"margin-left\":\"50px\"}},[_c('div',{staticClass:\"query-title\"},[_vm._v(\"单位名称：\")]),_vm._v(\" \"),_c('div',{staticClass:\"query-input\"},[_c('el-select',{attrs:{\"filterable\":\"\",\"multiple\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.unitIdList),callback:function ($$v) {_vm.unitIdList=$$v},expression:\"unitIdList\"}},_vm._l((_vm.unitOptions),function(item){return _c('el-option',{key:item.unitId,attrs:{\"label\":item.unitName,\"value\":item.unitId}})}))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"query-item\",staticStyle:{\"margin-left\":\"50px\"}},[_c('div',{staticClass:\"query-title\"},[_vm._v(\"位置：\")]),_vm._v(\" \"),_c('div',{staticClass:\"query-input\"},[_c('search-tree-select',{attrs:{\"treeData\":_vm.allTreeData,\"treeShow\":true,\"inputWidth\":'100%',\"inputHeight\":'32px',\"treeName\":_vm.searchTreeName},on:{\"handleCheckChange\":_vm.handleSearchCheckChange}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"query-btn\"},[_c('search-btn',{on:{\"clickBtn\":_vm.search}}),_vm._v(\" \"),_c('reset-btn',{on:{\"clickBtn\":_vm.reset}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"table-box\"},[_c('table-component',{attrs:{\"tableData\":_vm.tableData,\"tableHeight\":_vm.tableHeight},on:{\"select\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\",\"label\":\"编号\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"position\",\"label\":\"位置\",\"align\":\"center\"}},_vm._l((_vm.address),function(item){return _c('el-table-column',{key:item.id,attrs:{\"label\":item.label,\"align\":\"center\",\"prop\":item.prop,\"width\":item.width,\"show-overflow-tooltip\":true}})})),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"houseUseArea\",\"label\":\"使用面积(m²)\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"houseBuildArea\",\"label\":\"建筑面积(m²)\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"contacts\",\"label\":\"联系人\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"contactPhone\",\"label\":\"联系电话\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"lesseeYears\",\"label\":\"承租年限（年）\",\"align\":\"center\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"table-operate-box\",attrs:{\"id\":\"operateBox\"}},[_c('div',{staticClass:\"operate-btn\"},[_vm._v(\"\\n        总计  \\n        \"),_c('span',[_vm._v(\"房间数量:\"+_vm._s(_vm.total))]),_vm._v(\" \"),_c('span',[_vm._v(\"使用面积:\"+_vm._s(_vm.houseUseAreaSum)+\"m²\")]),_vm._v(\" \"),_c('span',[_vm._v(\"建筑面积:\"+_vm._s(_vm.houseBuildAreaSum)+\"m²\")])]),_vm._v(\" \"),_c('div',{staticClass:\"operate-pager\"},[_c('table-pagination',{attrs:{\"currentPage\":_vm.currentPage,\"pageSize\":_vm.pageSize,\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"page-change\":_vm.changePage}})],1)])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f991c030\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/useManagement/rentRoomReport.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f991c030\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./rentRoomReport.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./rentRoomReport.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./rentRoomReport.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f991c030\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./rentRoomReport.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/useManagement/rentRoomReport.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}