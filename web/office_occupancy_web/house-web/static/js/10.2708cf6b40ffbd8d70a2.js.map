{"version":3,"sources":["webpack:///./static/base64/base64.js","webpack:///./src/assets/imgs/login-national-emblem.png","webpack:///./src/assets/imgs/login-bg-2.png","webpack:///./src/assets/imgs/loginry1.png","webpack:///src/pages/login/login.vue","webpack:///./src/pages/login/login.vue?41f1","webpack:///./src/pages/login/login.vue","webpack:///./src/pages/login/api.js","webpack:///./src/assets/imgs/login-bg-1-sy.png"],"names":["Base64","_keyStr","this","encode","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","i","_utf8_encode","length","charCodeAt","isNaN","charAt","decode","replace","indexOf","String","fromCharCode","_utf8_decode","string","utftext","n","c","c2","c3","__webpack_require__","d","__webpack_exports__","module","exports","p","login_login","name","data","clientHeight","PRO_TYPE","global","loginTitleUrl","bgUrl","user","password","remeberPwd","rules","required","message","trigger","mounted","_this","console","log","document","documentElement","window","onresize","getCookie","watch","changeFixed","methods","$refs","login","style","height","_this2","loginForm","validate","valid","base64code","base64","username","encodeURIComponent","url","axios","post","headers","Content-Type","Authorization","then","response","sessionStorage","setItem","access_token","refresh_token","cookie","setCookie","clearCookie","Object","api","res","userId","roleBanner","telephone","$router","push","path","catch","err","msg","result","$message","type","error_description","decodeURIComponent","c_name","c_pwd","exdays","exdate","Date","setTime","getTime","pwd","toGMTString","arr","split","arr2","pages_login_login","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","id","src","_v","_m","model","label-width","status-icon","nativeOn","keyup","$event","_k","keyCode","key","label","prop","directives","rawName","value","callback","$$v","$set","expression","size","on","click","staticRenderFns","Component","normalizeComponent","ssrContext","token","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","resolve","reject","url_name_2"],"mappings":"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","file":"static/js/10.2708cf6b40ffbd8d70a2.js","sourcesContent":["function Base64() {\r\n\r\n    // private property\r\n    var _keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n\r\n    // public method for encoding\r\n    this.encode = function (input) {\r\n        var output = \"\";\r\n        var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n        var i = 0;\r\n        input = _utf8_encode(input);\r\n        while (i < input.length) {\r\n            chr1 = input.charCodeAt(i++);\r\n            chr2 = input.charCodeAt(i++);\r\n            chr3 = input.charCodeAt(i++);\r\n            enc1 = chr1 >> 2;\r\n            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n            enc4 = chr3 & 63;\r\n            if (isNaN(chr2)) {\r\n                enc3 = enc4 = 64;\r\n            } else if (isNaN(chr3)) {\r\n                enc4 = 64;\r\n            }\r\n            output = output +\r\n                _keyStr.charAt(enc1) + _keyStr.charAt(enc2) +\r\n                _keyStr.charAt(enc3) + _keyStr.charAt(enc4);\r\n        }\r\n        return output;\r\n    }\r\n\r\n    // public method for decoding\r\n    this.decode = function (input) {\r\n        var output = \"\";\r\n        var chr1, chr2, chr3;\r\n        var enc1, enc2, enc3, enc4;\r\n        var i = 0;\r\n        input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\r\n        while (i < input.length) {\r\n            enc1 = _keyStr.indexOf(input.charAt(i++));\r\n            enc2 = _keyStr.indexOf(input.charAt(i++));\r\n            enc3 = _keyStr.indexOf(input.charAt(i++));\r\n            enc4 = _keyStr.indexOf(input.charAt(i++));\r\n            chr1 = (enc1 << 2) | (enc2 >> 4);\r\n            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n            chr3 = ((enc3 & 3) << 6) | enc4;\r\n            output = output + String.fromCharCode(chr1);\r\n            if (enc3 != 64) {\r\n                output = output + String.fromCharCode(chr2);\r\n            }\r\n            if (enc4 != 64) {\r\n                output = output + String.fromCharCode(chr3);\r\n            }\r\n        }\r\n        output = _utf8_decode(output);\r\n        return output;\r\n    }\r\n\r\n    // private method for UTF-8 encoding\r\n    var _utf8_encode = function (string) {\r\n        string = string.replace(/\\r\\n/g, \"\\n\");\r\n        var utftext = \"\";\r\n        for (var n = 0; n < string.length; n++) {\r\n            var c = string.charCodeAt(n);\r\n            if (c < 128) {\r\n                utftext += String.fromCharCode(c);\r\n            } else if ((c > 127) && (c < 2048)) {\r\n                utftext += String.fromCharCode((c >> 6) | 192);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            } else {\r\n                utftext += String.fromCharCode((c >> 12) | 224);\r\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n\r\n        }\r\n        return utftext;\r\n    }\r\n\r\n    // private method for UTF-8 decoding\r\n    var _utf8_decode = function (utftext) {\r\n        var string = \"\";\r\n        var i = 0;\r\n        var c = 0, c2 = 0, c3 = 0;\r\n        while (i < utftext.length) {\r\n            c = utftext.charCodeAt(i);\r\n            if (c < 128) {\r\n                string += String.fromCharCode(c);\r\n                i++;\r\n            } else if ((c > 191) && (c < 224)) {\r\n                c2 = utftext.charCodeAt(i + 1);\r\n                string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\r\n                i += 2;\r\n            } else {\r\n                c2 = utftext.charCodeAt(i + 1);\r\n                c3 = utftext.charCodeAt(i + 2);\r\n                string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n                i += 3;\r\n            }\r\n        }\r\n        return string;\r\n    }\r\n}\r\nexport {\r\n    Base64\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/base64/base64.js\n// module id = 0xzQ\n// module chunks = 9 10","module.exports = __webpack_public_path__ + \"static/img/login-national-emblem.461f719.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/login-national-emblem.png\n// module id = 8BHQ\n// module chunks = 9 10","module.exports = __webpack_public_path__ + \"static/img/login-bg-2.efc638f.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/login-bg-2.png\n// module id = J+bv\n// module chunks = 9 10","module.exports = __webpack_public_path__ + \"static/img/loginry1.6fe8fcf.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/loginry1.png\n// module id = NXB/\n// module chunks = 9 10","<template>\r\n  <div id=\"login\" ref=\"login\" class=\"login\">\r\n    <div class=\"login-bg-1\">\r\n      <img :src=\"bgUrl\" />\r\n    </div>\r\n    <div class=\"login-bg-2\">\r\n      <img src=\"../../assets/imgs/login-bg-2.png\" />\r\n    </div>\r\n    <div class=\"login-bg-3\">\r\n      <img :src=\"loginTitleUrl\" />\r\n    </div>\r\n    <div class=\"login-bg-4\">\r\n      <img src=\"../../assets/imgs/login-national-emblem.png\" />\r\n    </div>\r\n    <el-form\r\n      ref=\"loginForm\"\r\n      @keyup.enter.native=\"login()\"\r\n      class=\"msg\"\r\n      :model=\"user\"\r\n      label-width=\"25%\"\r\n      :rules=\"rules\"\r\n      status-icon\r\n    >\r\n      <el-form-item label=\"用户名:\" prop=\"name\">\r\n        <el-input v-model=\"user.name\" v-enter-trim></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密 码:\" prop=\"password\">\r\n        <el-input\r\n          v-model=\"user.password\"\r\n          type=\"password\"\r\n          @keyup.enter.native=\"login()\"\r\n          v-enter-trim\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-checkbox\r\n          label=\"记住密码\"\r\n          v-model=\"user.remeberPwd\"\r\n          @keyup.enter.native=\"login()\"\r\n        ></el-checkbox>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button\r\n          type=\"warning\"\r\n          @click=\"login()\"\r\n          size=\"medium\"\r\n          class=\"loginbtn\"\r\n          >登录</el-button\r\n        >\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"@/axios/index\";\r\nimport { url_name_2, PRO_TYPE } from \"@/axios/global\";\r\nimport { Base64 } from \"../../../static/base64/base64\";\r\nimport { getUserDetail } from \"./api\";\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      clientHeight: \"\",\r\n      PRO_TYPE: PRO_TYPE,\r\n      loginTitleUrl: \"\",\r\n      bgUrl: \"\",\r\n      user: {\r\n        name: \"\",\r\n        password: \"\",\r\n        remeberPwd: false,\r\n      },\r\n      rules: {\r\n        name: [{ required: true, message: \"用户名不能为空\", trigger: \"blur\" }],\r\n        password: [\r\n          { required: true, message: \"密码不能为空\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.loginTitleUrl = require(`../../assets/imgs/loginry1.png`);\r\n    this.bgUrl = require(`../../assets/imgs/login-bg-1-sy.png`);\r\n    console.log(this.bgUrl);\r\n    this.clientHeight = `${document.documentElement.clientHeight}`;\r\n    window.onresize = () => {\r\n      this.clientHeight = `${document.documentElement.clientHeight}`;\r\n    };\r\n    this.getCookie();\r\n  },\r\n  watch: {\r\n    clientHeight() {\r\n      this.changeFixed(this.clientHeight);\r\n    },\r\n  },\r\n  methods: {\r\n    changeFixed(clientHeight) {\r\n      this.$refs.login.style.height = clientHeight + \"px\";\r\n    },\r\n    login() {\r\n      this.$refs.loginForm.validate((valid) => {\r\n        if (valid) {\r\n          const b = new Base64();\r\n          const base64code = b.encode(\"app:123456\");\r\n          const username = encodeURIComponent(this.user.name);\r\n          const password = encodeURIComponent(this.user.password);\r\n          const url = `${url_name_2}/oauth/token?client_id=app&client_secret=123456&grant_type=password&username=${username}&password=${password}`;\r\n          axios\r\n            .post(url, null, {\r\n              headers: {\r\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                Authorization: `Basic ${base64code}`,\r\n              },\r\n            })\r\n            .then((response) => {\r\n              sessionStorage.setItem(\"TOKEN\", response.access_token);\r\n              sessionStorage.setItem(\"REFRESH_TOKEN\", response.refresh_token);\r\n              if (this.user.remeberPwd) {\r\n                if (!document.cookie.length) {\r\n                  this.setCookie(this.user.name, this.user.password, 7);\r\n                }\r\n              } else {\r\n                this.clearCookie();\r\n              }\r\n              // 获取用户信息\r\n              getUserDetail(response.access_token)\r\n                .then((res) => {\r\n                  sessionStorage.setItem(\"name\", res.name);\r\n                  sessionStorage.setItem(\"username\", res.username);\r\n                  sessionStorage.setItem(\"userId\", res.userId);\r\n                  sessionStorage.setItem(\"roleBanner\", res.roleBanner);\r\n                  sessionStorage.setItem(\"telephone\", res.telephone);\r\n                  this.$router.push({\r\n                    path: \"/home/nav\",\r\n                  });\r\n                })\r\n                .catch((err) => {\r\n                  const msg = err.result ? err.result : \"用户信息获取失败！\";\r\n                  this.$message({\r\n                    message: msg,\r\n                    type: \"error\",\r\n                  });\r\n                });\r\n            })\r\n            .catch((err) => {\r\n              let msg;\r\n              if (err.error_description) {\r\n                err.error_description = decodeURIComponent(\r\n                  err.error_description\r\n                );\r\n                msg = err.error_description;\r\n              } else {\r\n                msg = \"token获取失败\";\r\n              }\r\n              this.$message({\r\n                message: msg,\r\n                type: \"error\",\r\n              });\r\n            });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    //设置cookie\r\n    setCookie(c_name, c_pwd, exdays) {\r\n      var exdate = new Date();\r\n      exdate.setTime(exdate.getTime() + 24 * 60 * 60 * 1000 * exdays);\r\n      const b = new Base64();\r\n      const pwd = b.encode(`${c_pwd}`);\r\n      window.document.cookie =\r\n        \"userName\" + \"=\" + c_name + \";path=/;expires=\" + exdate.toGMTString();\r\n      window.document.cookie =\r\n        \"userPwd\" + \"=\" + pwd + \";path=/;expires=\" + exdate.toGMTString();\r\n    },\r\n    //读取cookie\r\n    getCookie: function () {\r\n      if (document.cookie.length > 0) {\r\n        var arr = document.cookie.split(\"; \");\r\n        for (var i = 0; i < arr.length; i++) {\r\n          var arr2 = arr[i].split(\"=\");\r\n          if (arr2[0] == \"userName\") {\r\n            this.user.name = arr2[1];\r\n          } else if (arr2[0] == \"userPwd\") {\r\n            const b = new Base64();\r\n            const pwd = b.decode(`${arr2[1]}`);\r\n            this.user.password = pwd;\r\n          }\r\n        }\r\n        this.user.remeberPwd = true;\r\n      }\r\n    },\r\n    //清除cookie\r\n    clearCookie: function () {\r\n      this.setCookie(\"\", \"\", -1);\r\n    },\r\n  },\r\n};\r\n</script> \r\n\r\n<style>\r\n#login {\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n.login-bg-1 > img,\r\n.login-bg-2 > img,\r\n.login-bg-4 > img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.login-bg-1 {\r\n  width: 100%;\r\n  height: 50%;\r\n  top: 0;\r\n  left: 0;\r\n  position: absolute;\r\n}\r\n.login-bg-2 {\r\n  width: 100%;\r\n  height: 53%;\r\n  top: 47%;\r\n  left: 0;\r\n  position: absolute;\r\n}\r\n.login-bg-3 {\r\n  position: absolute;\r\n  top: 33%;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n.login-bg-4 {\r\n  width: 120px;\r\n  top: 16%;\r\n  left: calc(50% - 60px);\r\n  position: absolute;\r\n}\r\n.loginbtn {\r\n  width: 100%;\r\n}\r\n.login .el-form-item__label {\r\n  color: white;\r\n}\r\n.msg {\r\n  position: absolute;\r\n  top: calc(47% + 60px);\r\n  color: white;\r\n}\r\n.loginButton {\r\n  border: 0px;\r\n  height: 36px;\r\n  width: 100%;\r\n}\r\n.login .el-checkbox {\r\n  color: white;\r\n}\r\n.remeberPwd {\r\n  padding-left: 25%;\r\n}\r\n@media only screen and (max-width: 1920px) {\r\n  .msg {\r\n    left: calc(50% - 230px);\r\n    width: 400px;\r\n  }\r\n}\r\n@media only screen and (max-width: 1440px) {\r\n  .msg {\r\n    left: calc(50% - 200px);\r\n    width: 350px;\r\n  }\r\n}\r\n@media only screen and (max-width: 1366px) {\r\n  .msg {\r\n    left: calc(50% - 165px);\r\n    width: 300px;\r\n    top: 50%;\r\n  }\r\n  .login-bg-3 {\r\n    height: 40px;\r\n  }\r\n  .login-bg-3 > img {\r\n    height: 100%;\r\n  }\r\n  .login-bg-4 {\r\n    width: 80px;\r\n  }\r\n  .el-form-item {\r\n    margin-bottom: 10px;\r\n  }\r\n  .el-input__inner {\r\n    height: 32px;\r\n    line-height: 32px;\r\n  }\r\n}\r\n</style> \n\n\n// WEBPACK FOOTER //\n// src/pages/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"login\",staticClass:\"login\",attrs:{\"id\":\"login\"}},[_c('div',{staticClass:\"login-bg-1\"},[_c('img',{attrs:{\"src\":_vm.bgUrl}})]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"login-bg-3\"},[_c('img',{attrs:{\"src\":_vm.loginTitleUrl}})]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('el-form',{ref:\"loginForm\",staticClass:\"msg\",attrs:{\"model\":_vm.user,\"label-width\":\"25%\",\"rules\":_vm.rules,\"status-icon\":\"\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.login()}}},[_c('el-form-item',{attrs:{\"label\":\"用户名:\",\"prop\":\"name\"}},[_c('el-input',{directives:[{name:\"enter-trim\",rawName:\"v-enter-trim\"}],model:{value:(_vm.user.name),callback:function ($$v) {_vm.$set(_vm.user, \"name\", $$v)},expression:\"user.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密 码:\",\"prop\":\"password\"}},[_c('el-input',{directives:[{name:\"enter-trim\",rawName:\"v-enter-trim\"}],attrs:{\"type\":\"password\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.login()}},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-checkbox',{attrs:{\"label\":\"记住密码\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.login()}},model:{value:(_vm.user.remeberPwd),callback:function ($$v) {_vm.$set(_vm.user, \"remeberPwd\", $$v)},expression:\"user.remeberPwd\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"loginbtn\",attrs:{\"type\":\"warning\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.login()}}},[_vm._v(\"登录\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-bg-2\"},[_c('img',{attrs:{\"src\":require(\"../../assets/imgs/login-bg-2.png\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-bg-4\"},[_c('img',{attrs:{\"src\":require(\"../../assets/imgs/login-national-emblem.png\")}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-27086ca3\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/login/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-27086ca3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-27086ca3\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login/login.vue\n// module id = null\n// module chunks = ","import axios from '@/axios/index'\r\nimport { url_name_2 } from \"@/axios/global\"\r\n\r\n/**\r\n * 获取用户详情\r\n */\r\nexport function getUserDetail(token) {\r\n    return new Promise((resolve, reject) => {\r\n        axios.post(`${url_name_2}/user/detail`, null, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then(response => {\r\n            resolve(response);\r\n        }, err => {\r\n            reject(err)\r\n        })\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/api.js","module.exports = __webpack_public_path__ + \"static/img/login-bg-1-sy.d972f4e.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/login-bg-1-sy.png\n// module id = mlLq\n// module chunks = 9 10"],"sourceRoot":""}