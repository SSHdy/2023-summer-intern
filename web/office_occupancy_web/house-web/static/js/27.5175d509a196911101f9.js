webpackJsonp([27],{"7bBY":function(e,t){},KTDI:function(e,t,a){"use strict";(function(e){var i=a("hmyF"),n=a("5kkW"),l=a("3a1n"),o=a("uSev"),s=a("GR1E"),r=a("OMJi");a.n(r);t.a={components:{searchBtn:n.a,resetBtn:l.a,tablePagination:s.a,tableComponent:o.a},data:function(){return{unitIdList:[],unitOptions:[],loading:null,tableData:[],tableHeight:0,baseOffice:[{id:1,label:"实际使用面积(m²)",prop:"jiBenUseArea",width:100},{id:2,label:"核定使用面积(m²)",prop:"jiBenStandardArea",width:100},{id:3,label:"超标面积(m²)",prop:"jiBenExcessArea"},{id:4,label:"超标比例(%)",prop:"jiBenExcessRatio"}],office:[{id:1,label:"实际使用面积(m²)",prop:"useAreaByBanGong",width:100},{id:2,label:"核定使用面积(m²)",prop:"standardAreaByBanGong",width:100},{id:3,label:"超标面积(m²)",prop:"excessAreaByBanGong"},{id:4,label:"超标比例(%)",prop:"excessRatioByBanGong"}],service:[{id:1,label:"实际使用面积(m²)",prop:"useAreaByFuWu",width:100},{id:2,label:"核定使用面积(m²)",prop:"standardAreaByFuWu",width:100},{id:3,label:"超标面积(m²)",prop:"excessAreaByFuWu"},{id:4,label:"超标比例(%)",prop:"excessRatioByFuWu"}],equip:[{id:1,label:"实际使用面积(m²)",prop:"useAreaBySheBei",width:100},{id:2,label:"核定使用面积(m²)",prop:"standardAreaBySheBei",width:100},{id:3,label:"超标面积(m²)",prop:"excessAreaBySheBei"},{id:4,label:"超标比例(%)",prop:"excessRatioBySheBei"}]}},methods:{loadingStart:function(e){this.loading||(this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"el-icon-loading",target:e,customClass:"loading-box"}))},loadingEnd:function(){this.loading&&(this.loading.close(),this.loading=null)},search:function(){this.getList()},reset:function(){this.unitIdList=[],this.getList()},getUserUnitDic:function(){var e=this;Object(i.g)().then(function(t){e.unitOptions=t}).catch(function(t){var a=t.result?t.result:"单位下拉选项获取失败";e.$message({message:a,type:"error"})})},getList:function(){var e=this;this.loadingStart(".table-box"),Object(i.f)(this.unitIdList).then(function(t){if(e.tableData=t,t.length>0){t.forEach(function(e){for(var t in e)"number"!==t&&"unitName"!==t&&(e[t]=e[t]?e[t].toFixed(2):0)});var a={number:"合计",unitName:"-",buildAreaSum:0,houseUseAreaSum:0,fuShuAraeSum:0,jiBenUseArea:0,jiBenStandardArea:0,jiBenExcessArea:0,jiBenExcessRatio:0,useAreaByBanGong:0,standardAreaByBanGong:0,excessAreaByBanGong:0,excessRatioByBanGong:0,useAreaByFuWu:0,standardAreaByFuWu:0,excessAreaByFuWu:0,excessRatioByFuWu:0,useAreaBySheBei:0,standardAreaBySheBei:0,excessAreaBySheBei:0,excessRatioBySheBei:0};for(var i in t.forEach(function(e){for(var t in a)"number"!==t&&"unitName"!==t&&"jiBenExcessRatio"!==t&&"excessRatioByBanGong"!==t&&"excessRatioByFuWu"!==t&&"excessRatioBySheBei"!==t&&(a[t]+=e[t]-0)}),a.excessRatioBySheBei=a.useAreaBySheBei?a.excessAreaBySheBei/a.useAreaBySheBei*100:"-",a.excessRatioByFuWu=a.useAreaByFuWu?a.excessAreaByFuWu/a.useAreaByFuWu*100:"-",a.excessRatioByBanGong=a.useAreaByBanGong?a.excessAreaByBanGong/a.useAreaByBanGong*100:"-",a.jiBenExcessRatio=a.jiBenUseArea?a.jiBenExcessArea/a.jiBenUseArea*100:"-",a)"number"!==i&&"unitName"!==i&&(a[i]=a[i].toFixed(2));e.tableData.push(a)}e.loadingEnd()}).catch(function(t){e.loadingEnd();var a=t.result?t.result:"超标单位列表获取失败";e.$message({message:a,type:"error"})})}},mounted:function(){var t=this;this.getUserUnitDic(),this.getList(),setTimeout(function(){var a=e("#mainDiv").height(),i=e("#queryBox").outerHeight(!0);t.tableHeight=a-i},1)}}}).call(t,a("7t+N"))},RKeV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("KTDI"),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"unitOverproof"}},[a("div",{staticClass:"query-box",attrs:{id:"queryBox"}},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"query-item"},[a("div",{staticClass:"query-title"},[e._v("单位名称：")]),e._v(" "),a("div",{staticClass:"query-input"},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",multiple:"",placeholder:"请选择单位名称"},model:{value:e.unitIdList,callback:function(t){e.unitIdList=t},expression:"unitIdList"}},e._l(e.unitOptions,function(e){return a("el-option",{key:e.unitId,attrs:{label:e.unitName,value:e.unitId}})}))],1)]),e._v(" "),a("div",{staticClass:"query-btn"},[a("search-btn",{on:{clickBtn:e.search}}),e._v(" "),a("reset-btn",{on:{clickBtn:e.reset}})],1)])]),e._v(" "),a("div",{staticClass:"table-box"},[a("table-component",{attrs:{tableData:e.tableData,tableHeight:e.tableHeight}},[a("el-table-column",{attrs:{prop:"number",width:"50",label:"序号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"unitName",label:"单位名称",align:"center","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"buildAreaSum",label:"总建筑面积(m²)",align:"center",width:"70","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"houseUseAreaSum",label:"总使用面积(m²)",align:"center",width:"70","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"fuShuAraeSum",label:"附属用房建筑面积(m²)",align:"center",width:"100","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"基本办公用房",align:"center","show-overflow-tooltip":!0}},e._l(e.baseOffice,function(e){return a("el-table-column",{key:e.id,attrs:{label:e.label,align:"center",prop:e.prop,width:e.width,"show-overflow-tooltip":!0}})})),e._v(" "),a("el-table-column",{attrs:{label:"办公室",align:"center","show-overflow-tooltip":!0}},e._l(e.office,function(e){return a("el-table-column",{key:e.id,attrs:{label:e.label,align:"center",prop:e.prop,width:e.width,"show-overflow-tooltip":!0}})})),e._v(" "),a("el-table-column",{attrs:{label:"服务用房",align:"center","show-overflow-tooltip":!0}},e._l(e.service,function(e){return a("el-table-column",{key:e.id,attrs:{label:e.label,align:"center",prop:e.prop,width:e.width,"show-overflow-tooltip":!0}})})),e._v(" "),a("el-table-column",{attrs:{prop:"pspecifiedArea",label:"设备用房",align:"center","show-overflow-tooltip":!0}},e._l(e.equip,function(e){return a("el-table-column",{key:e.id,attrs:{label:e.label,align:"center",prop:e.prop,width:e.width,"show-overflow-tooltip":!0}})}))],1)],1)])},staticRenderFns:[]};var l=function(e){a("7bBY")},o=a("VU/8")(i.a,n,!1,l,null,null);t.default=o.exports}});
//# sourceMappingURL=27.5175d509a196911101f9.js.map