webpackJsonp([52],{JwcR:function(t,e){},"PI+M":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("iDTO"),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"repairePart"}},[a("div",{staticClass:"query-box",attrs:{id:"queryBox"}},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"query-item"},[a("div",{staticClass:"query-title"},[t._v("维修部位名称：")]),t._v(" "),a("div",{staticClass:"query-input"},[a("el-select",{attrs:{filterable:"",placeholder:"请选择维修部位名称"},model:{value:t.repairPartId,callback:function(e){t.repairPartId=e},expression:"repairPartId"}},t._l(t.repairPartAllList,function(t){return a("el-option",{key:t.repairPartsId,attrs:{label:t.repairPartName,value:t.repairPartsId}})}))],1)]),t._v(" "),a("div",{staticClass:"query-btn"},[a("search-btn",{on:{clickBtn:t.search}}),t._v(" "),a("reset-btn",{on:{clickBtn:t.reset}})],1)])]),t._v(" "),a("div",{staticClass:"table-box"},[a("table-component",{attrs:{tableData:t.tableData,tableHeight:t.tableHeight},on:{select:t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"serialNum",label:"序号",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"repairPartName",label:"维修部位名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"repairPartQuality",label:"质保期（年）",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("single-btn-group",{attrs:{isShowDetail:!1},on:{deleteClick:function(a){t.singleDetle(e.row)},updateClick:function(a){t.singleUpdate(e.row)}}})]}}])})],1),t._v(" "),a("div",{staticClass:"table-operate-box",attrs:{id:"operateBox"}},[a("div",{staticClass:"operate-btn"},[a("table-btn-group",{attrs:{batchDelBtnShow:!1},on:{batchDeleteClick:t.batchDelete,addClick:t.addUnit}})],1),t._v(" "),a("div",{staticClass:"operate-pager"},[a("table-pagination",{attrs:{currentPage:t.currentPage,pageSize:t.pageSize,total:t.total},on:{"size-change":t.changeSize,"page-change":t.changePage}})],1)])],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible,"close-on-click-modal":!1,width:"780px",center:!0},on:{"update:visible":function(e){t.dialogVisible=e},open:t.dialogOpen,closed:t.dialogClosed}},[a("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t.dialogTitle))])]),t._v(" "),a("el-form",{ref:"Form",attrs:{inline:!0,model:t.Form,rules:t.rules}},[a("el-form-item",{attrs:{label:"维修部位名称","label-width":"120px",prop:"repairPartName"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入维修部位名称"},model:{value:t.Form.repairPartName,callback:function(e){t.$set(t.Form,"repairPartName","string"==typeof e?e.trim():e)},expression:"Form.repairPartName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"质保期（年）","label-width":"120px",prop:"repairPartQuality"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入质保期"},on:{blur:function(e){t.limitInt("repairPartQuality")}},nativeOn:{keyup:function(e){t.limitInt("repairPartQuality")}},model:{value:t.Form.repairPartQuality,callback:function(e){t.$set(t.Form,"repairPartQuality","string"==typeof e?e.trim():e)},expression:"Form.repairPartQuality"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("cancel-btn",{attrs:{fontSize:14},on:{clickBtn:function(e){t.dialogVisible=!1}}}),t._v(" "),a("confirm-btn",{attrs:{fontSize:14},on:{clickBtn:function(e){t.submitForm("Form")}}})],1)],1)],1)},staticRenderFns:[]};var n=function(t){a("JwcR")},l=a("VU/8")(i.a,r,!1,n,null,null);e.default=l.exports},iDTO:function(t,e,a){"use strict";(function(t){var i=a("fZjL"),r=a.n(i),n=a("d7EF"),l=a.n(n),s=a("W3Iv"),o=a.n(s),c=a("BO1k"),u=a.n(c),g=a("d6pC"),p=(a("yzMb"),a("uSev")),d=a("dO4M"),h=a("FAvH"),f=a("GR1E"),m=a("fYBn"),b=a("02tb"),v=a("5kkW"),y=a("3a1n");e.a={components:{singleBtnGroup:d.a,tableBtnGroup:h.a,tablePagination:f.a,tableComponent:p.a,cancelBtn:m.a,confirmBtn:b.a,searchBtn:v.a,resetBtn:y.a},data:function(){return{repairPartId:"",currentPage:1,pageSize:15,total:0,loading:null,tableHeight:0,selectData:[],tableData:[],repairPartAllList:[],dialogTitle:"",operateType:"add",dialogVisible:!1,Form:{repairPartName:"",repairPartQuality:"",repairPartsId:""},rules:{repairPartName:[{required:!0,message:"维修部位名称不能为空",trigger:"blur"}],repairPartQuality:[{required:!0,message:"质保期不能为空",trigger:"blur"}]}}},methods:{loadingStart:function(t){this.loading||(this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"el-icon-loading",target:t,customClass:"loading-box"}))},loadingEnd:function(){this.loading&&(this.loading.close(),this.loading=null)},changeSize:function(t){this.pageSize=t,this.getList()},changePage:function(t){this.currentPage=t,this.getList()},getList:function(){var t=this;this.loadingStart(".table-box"),Object(g.q)(this.currentPage,this.pageSize,this.repairPartId).then(function(e){t.tableData=e.records,t.total=e.total,t.tableData.forEach(function(t,e){t.serialNum=e+1}),t.loadingEnd()}).catch(function(e){var a=e.result?e.result:"维修部位信息获取失败";t.$message({message:a,type:"error"}),t.loadingEnd()})},search:function(){this.currentPage=1,this.getList()},reset:function(){this.currentPage=1,this.repairPartId="",this.search()},addUnit:function(){this.dialogVisible=!0,this.dialogTitle="新增维修部位信息",this.operateType="add"},singleDetle:function(t){var e=this;this.$confirm("此操作将永久删除该维修部位信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(g.j)(parseInt(t.repairPartsId)).then(function(t){e.$message({message:"删除维修部位信息成功!",type:"success"}),e.currentPage=1,e.getList(),e.getRepairPartAllList()}).catch(function(t){var a=t.result?t.result:"删除维修部位信息失败";e.$message({message:a,type:"error"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},batchDelete:function(){var t=this,e=[];this.selectData.forEach(function(t,a){e.push(t.repairPartsId)}),this.$confirm("此操作将永久删除这些维修部位信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){if(0===e.length)return t.$message({message:"请先勾选删除项！",type:"warning"}),!1;Object(g.e)(e).then(function(e){t.$message({message:"批量删除维修部位信息成功!",type:"success"}),t.currentPage=1,t.getList()}).catch(function(e){var a=e.result?e.result:"批量删除维修部位信息失败";t.$message({message:a,type:"error"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},singleUpdate:function(t){this.dialogVisible=!0,this.dialogTitle="修改维修部位信息",this.operateType="edit";var e=!0,a=!1,i=void 0;try{for(var r,n=u()(o()(t));!(e=(r=n.next()).done);e=!0){var s=r.value,c=l()(s,2),g=c[0],p=c[1];this.Form[g]=p}}catch(t){a=!0,i=t}finally{try{!e&&n.return&&n.return()}finally{if(a)throw i}}},getRepairPartAllList:function(){var t=this;Object(g.p)().then(function(e){t.repairPartAllList=e}).catch(function(e){var a=e.result?e.result:"维修部位下拉选项获取失败";t.$message({message:a,type:"error"})})},handleSelectionChange:function(t){this.selectData=t},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var a="add"===e.operateType?"新增":"修改";Object(g.b)(e.Form).then(function(t){e.$message({message:a+"维修部位信息成功",type:"success"}),e.dialogVisible=!1,e.getList(),e.getRepairPartAllList()}).catch(function(t){var a=t.result?t.result:a+"维修部位信息成功";e.$message({message:a,type:"error"})})})},clearForm:function(t){for(var e in t){var a=this.getDataType(t[e]);if("String"===a)t[e]="";else if("Array"===a)t[e]=[];else if("Object"===a){r()(t[e]).length>0?this.clearForm(t[e]):t[e]={}}else t[e]=null}},dialogOpen:function(){var t=this;this.$nextTick(function(){t.$refs.Form.clearValidate()})},dialogClosed:function(){this.clearForm(this.Form)},getDataType:function(t){var e=!0,a=!1,i=void 0;try{for(var r,n=u()(["String","Object","Number","Array","Function"]);!(e=(r=n.next()).done);e=!0){var l=r.value;if(Object.prototype.toString.call(t)==="[object "+l+"]")return l}}catch(t){a=!0,i=t}finally{try{!e&&n.return&&n.return()}finally{if(a)throw i}}},limitInt:function(t){this.Form[t]=this.Form[t].replace(/[^0-9]/g,"")}},mounted:function(){var e=this;this.getList(),this.getRepairPartAllList(),setTimeout(function(){var a=t("#mainDiv").height(),i=t("#queryBox").outerHeight(!0),r=t("#operateBox").height();e.tableHeight=a-i-r},1)}}}).call(e,a("7t+N"))}});
//# sourceMappingURL=52.e26af0593a917a75d23b.js.map