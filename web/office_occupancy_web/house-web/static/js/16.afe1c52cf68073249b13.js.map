{"version":3,"sources":["webpack:///./src/assets/imgs/modified-icon.png","webpack:///./src/assets/imgs/down-arrow-btn.png","webpack:///src/pages/configManagement/graphRoomDistribute.vue","webpack:///./src/pages/configManagement/graphRoomDistribute.vue?3714","webpack:///./src/pages/configManagement/graphRoomDistribute.vue","webpack:///./src/assets/imgs/top-arrow-btn.png"],"names":["module","exports","$","__webpack_require__","fabric","graphRoomDistribute","components","cancelBtn","confirmBtn","saveBtn","tableComponent","table2","data","PRO_TYPE","global","canvas","canvasHeight","canvasWidth","houseTypeColor","id","color","dialogTitle","dialogVisible","contextMenuItems","distribute","name","icon","revert","contextMenuItems_2","Form","configurePlanDataId","houseId","houseNumber","originalUnitNameList","newUnitNameList","houseUseArea","housetypeName","isIdle","originalUnitList","oldConfUnitList","newConfUnitList","selectedUnitIdList","isUse","applyStatus","handleWay","isIdleText","originalHouseList","editHouseInfo","saveFormList","distributableList","selectedDistributeList","distributeChangeList","oldDistributeChangeList","distributeChangeObj","unitOptions","revertSaveList","rules","required","message","trigger","totalRoomArea","totalRoomNum","configureId","planId","isHandle","currentUseState","oldIdle","distributeFlag","isBatchDistribute","expandChangeDetail","showChangeDetail","tableHeight","tableHeaderCellStyle","padding","tableCellStyle","background-color","canDistributeOrSave","notDistributeReason","allNavList","methods","changeBoxCollapse","_this","this","animate","height","changeBoxExpand","_this2","h","idleRadioChange","type","$message","distributeStart","distributeEnd","init","_this3","clear","Canvas","ActiveSelection","prototype","hasControls","hasBorders","Object","originX","originY","transparentCorners","borderColor","cornerColor","cornerSize","borderScaleFactor","hasRotatingPoint","lockMovementX","lockMovementY","window","setZoom","onresize","contextMenu","selector","build","e","$trigger","canvasDiv","wrapperEl","parent","width","zoom","setWidth","setHeight","renderAll","showContextMenu","$event","which","$this","toElement","canvasObjects","getObjects","length","i","canvasobj","containsPoint","discardActiveObject","setActiveObject","flag","_i","uuid","createSomeMenu","position","x","clientX","y","clientY","_i2","_position","callback","contextMenuClick","items","options","key","_this4","activeObject","getActiveObject","editFlag","JSON","parse","stringify_default","currentHouseInfo","_i3","$confirm","confirmButtonText","cancelButtonText","then","_i4","_i5","splice","_i6","_i7","obj","push","undefined","remove","add","removeObj","unitNames","useArea","rent","addObj","addOriginalName","forEach","originalUnit","originalUnitName","_addObj","join","removeOriginalName","unit","newUnitName","_removeObj","_addObj2","_addOriginalName","_addObj3","_addObj4","getChangeData","image","img","requestRenderAll","catch","batchDistribution","_this5","buildId","sessionStorage","getItem","floorName","objs","aObject","typeName","_objects","_i8","j","item","temp","sort","a","b","_i9","unitId","unitName","toFixed","batchRevert","_this6","room","_i10","_i11","indexOf","_addObj5","_removeObj2","_addObj6","_addOriginalName2","_addObj7","_addObj8","activeObjects","batchDistributeDataSubmit","_this7","selected","originalObj","originalDistributedUnit","originalIdle","activeIdle","_removeObj3","_removeObj4","_removeOriginalName","_removeObj5","_removeObj6","addNewUnitName","_i12","_addObj9","_removeObj7","_addNewUnitName","_selectedUnitIdList","_i13","_addObj10","_removeOriginalName2","_removeObj8","_addObj11","_removeOriginalName3","_removeObj9","_addNewUnitName2","_selectedUnitIdList2","_i14","_addObj12","yardId","obj_1","_i15","info","editAddFlag","_i16","obj_2","_i17","configurePlanOldUnits","configurePlanNewUnits","deleteCPNUnitIds","deleteCPOUnitIds","newUnitId","configurePlanNewUnitId","configurePlanOldUnitId","originalUnitId","_i18","index","_loop","_i19","Image","fromURL","obj_w","obj_h","img_w","img_h","set","top","left","submitForm","formName","_this8","$refs","validate","valid","unitSameArray","unitSameFlag","selectedDistributeCloneList","_loop2","quondamUnitIdList","unitSameText","center","unusedRoomArray","unusedFlag","_selectedDistributeCloneList","_selected","unshift","unusedRoomText","_selectedUnitIdList3","_quondamUnitIdList","changeInfo","_i20","_removeObj10","_removeObj11","_removeOriginalName4","_removeObj12","_removeObj13","_selectedUnitIdList4","_i21","_addObj13","_removeObj14","_addNewUnitName3","_selectedUnitIdList5","_i22","_addObj14","_removeOriginalName5","_removeObj15","_addObj15","_removeOriginalName6","_removeObj16","_addNewUnitName4","_selectedUnitIdList6","_i23","_addObj16","_i24","_i25","_i26","allSave","_this9","saveObj","configurePlanDataList","configurePlanChangeDataList","deleteCPDIds","api","res","distributableIdList","getallocationFloorInfo","getOldChangeData","err","msg","result","removeIcon","_this10","getHouseGraphJson","_this11","loadFromJSON","_this12","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","entries_default","allocationUnit","next","done","_ref","value","_ref4","slicedToArray_default","return","allocationConf","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_ref2","_ref3","_obj","roomObj","_loop3","changeList","_key","apply","_key2","itemObj","area","num","dialogOpen","_this13","$nextTick","clearValidate","dialogClosed","clearForm","getDataType","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","toString","call","form","_key3","keys_default","limitFloat","replace","handleSelectionChange","rows","_this14","plan","getRouterList","_this15","commonApi","mounted","_this16","eventBus","$off","$on","removeItem","path","$router","menuKey","$route","params","navlist","children","$store","commit","setTimeout","configManagement_graphRoomDistribute","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","on","contextmenu","preventDefault","_v","click","_e","visible","close-on-click-modal","update:visible","open","closed","slot","gutter","span","_s","tableData","tableCellPadding","select","prop","label","show-overflow-tooltip","ref","model","label-width","change","$$v","$set","expression","multiple","placeholder","_l","fontSize","clickBtn","_m","staticStyle","background","directives","rawName","src","alt","header-cell-style","cell-style","header-align","align","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/16.afe1c52cf68073249b13.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAfCAYAAAAIjIbwAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxRDA0MThGREM4OTMxMUU5ODhCM0ZEQTU4NUQzMThCQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxRDA0MThGRUM4OTMxMUU5ODhCM0ZEQTU4NUQzMThCQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFEMDQxOEZCQzg5MzExRTk4OEIzRkRBNTg1RDMxOEJDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFEMDQxOEZDQzg5MzExRTk4OEIzRkRBNTg1RDMxOEJDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+un2kIAAAAblJREFUeNpizGM4fZiBgUGfgXrgFguQkAZiXioaKsMEJD4wUBe8Z2KgARg1lDzAzsPEUH9fl6Hqmg6GHAu5hubsU2cQUmBn+Pb+L3VcGjZDnkHOlJvh/z8Ghm7Dq5QbapEswmCdLgpmz/C6xfDu4S/ChhYe1wSHlbQBF2ZWMeJiiJyjAGZvqX7KcGPnJ+IiipOfGRxWpee0GJSseRDiAswMufvVwexL698z7G57Tnzst2tfAbuAkZGBIf+IBoOcCTfcBxx8zAxv7v5kmBt0l7Qk9f8/A8N0j1sMF1a/B/PzDqkDsQaDuAYHOGImO9wkP53OD7vLcGLeGwZWTiYGZVtIMMz0vs3w4ckvgobiTafLkx8w/P72j8EoQohhe+Mzhus7PhKVQhiBhfQ5IG1IxVx6Y7SUGmaGrgFiUB6tpJahjUAcCqrPgbgDyv5PiaHhQNyAxdW6QHyXVEPvQTWuwiEPKplB9cg2Yg3dAdVwhYAvfgCxNxD3YDMUuYToA2JPIP5ObExP/G9SCqQSkIR+gww1hnKSgLiYnCQENHghkDIF4p+gYAMZuguIA0GlHSVpE2jwGWiwLQQIMADwjnars0t70QAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/modified-icon.png\n// module id = 5sxt\n// module chunks = 16","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAXCAYAAAD0v0pBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowOTkyOEExNTM1ODIxMUU5QjE3QTk3OTNGMDFDMzI2NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowOTkyOEExNjM1ODIxMUU5QjE3QTk3OTNGMDFDMzI2NCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA5OTI4QTEzMzU4MjExRTlCMTdBOTc5M0YwMUMzMjY0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA5OTI4QTE0MzU4MjExRTlCMTdBOTc5M0YwMUMzMjY0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+GU+OcwAAA2lJREFUeNrsmV1Ik1EYx8/ebWpDTdSQ7EIQP8rAsUjRm4gsUCMtIlIwAu2qECKjroMoIgUvoptw0Adp1o1FVHiRdSWBiYJUClpdmJJNc35tc+86//Uc96avOiHlXJw/PLzb3nPOxu9/nuec98wyPuFhUFpdYx+/5DOlrVD/eMtlJ15oPCw8rHabtVVx2RoRayvYa2SC/XhBbge/Lio8m65FYm0He5EBsXfOlc+nJjreKT6bKzAGazAXGcDIhJhyV/YLWX+4KzN9U9tvlYhxDDEPlx+dRxCpcbOmpDfJETciI/y31+tYa8PpqNo/u1Idbi+bCWALxlTqwVyHASEeAR7zNk2bPezMbJfNgN7hUfaqZ5CV7stZ1wTcL3Fmhdujn0wCWzAGa2IeEgbAkQUeM7fPHOmMj4sZk82E6qYn7E3v0Jom4HPcf/1xMNxeJoEp2IIxsV4UBjBKBx+PWUes3VvmynogY/2samxj7we+mpog4OO+bPAhMAVbMCbWQbEGMEMZmuPhba4t7UxJcAzJaELljYdLJrjrT66Aj/uyCSzBFGyJcYCYLxkgsgCpMcvrlLfukOueaCSrCSeK8ljntVqp4YMhWIIpzf4FMfuXG6CTM2g03VBR3JOTntIl67YUsLu/fGcF2btkhs/AECzBlNgGiPXf/b84CzIYEscjmcfO/m/jmZW32u7O+QLJshpRUbiHPf/wScrfxmu+p+Nq1fn8jLRh/vYHDw9lgG6WASIL/CILeMex+rLCJosl0kE2yQofzMAODA2z32+Eb2aAcS1Ap9+XjhX38Kc3tzpE2PATrxvswJBY/lP71zIgRE5hvzqFAdwXKjsO5GW0K6zRCazAjOBPEUu/2aZGW2UMnfaqcG4SAz1tOPW4Yn9ui2axBBRic4ENGIEVwZ8khr7lpWe1RXi5OTg0SuSxgyLpflff7uaX3TWjHu9ehTyi9OSEgYtHix6dPej8TLP+J8W0We2PxgAIfxrg2HQ7nid4pJIh23jYGJ3oKS0d58wT8AkevygLfGa1X8i2zsBBQykSpQlfFE/GaMqEMHxRsmdoq2ksPcG1Otui+AKdVnDhMgZNMGSBUmT2ew1bzlXr/kYNCBkyQVy9tD6oDIhkgJ8mqo9FzvvZ/zDAWI50w3OCVcFfMUkFn6jP0P4IMABiMmGhHV1kxgAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/down-arrow-btn.png\n// module id = clv2\n// module chunks = 8 16","<template>\r\n  <div id=\"roomDistributeView\">\r\n    <!-- 平面图 -->\r\n    <div class=\"plane\">\r\n      <div @contextmenu.prevent=\"showContextMenu($event);\" class=\"canvasDiv\">\r\n        <canvas id=\"c\">请使用支持HTML5的浏览器</canvas>\r\n      </div>\r\n    </div>\r\n    <!-- 切换按钮 -->\r\n    <div class=\"btn-box\">\r\n      <button\r\n        class=\"graph-btn batch-distribute-btn\"\r\n        @click=\"batchDistribution\"\r\n        v-if=\"canDistributeOrSave\"\r\n      >批量分配</button>\r\n      <button\r\n        class=\"graph-btn batch-revert-btn\"\r\n        @click=\"batchRevert\"\r\n        v-if=\"canDistributeOrSave\"\r\n      >批量撤销</button>\r\n      <button class=\"graph-btn\" @click=\"allSave\">保存</button>\r\n    </div>\r\n    <!-- 房间信息模态框 -->\r\n    <el-dialog\r\n      :visible.sync=\"dialogVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      width=\"1100px\"\r\n      @open=\"dialogOpen\"\r\n      @closed=\"dialogClosed\"\r\n      :center=\"true\"\r\n    >\r\n      <div slot=\"title\" class=\"dialog-title\">\r\n        <span>房间信息</span>\r\n      </div>\r\n      <div class=\"dialog-content\">\r\n        <div class=\"base-info-box\">\r\n          <div class=\"base-info-title\">\r\n            <span class=\"base-info-icon\"></span>\r\n            <span>基本信息</span>\r\n          </div>\r\n          <div class=\"base-info-content\" v-if=\"!isBatchDistribute\">\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"6\">\r\n                <div class=\"grid-content\">\r\n                  <span class=\"grid-content-title\">使用单位：</span>\r\n                  <span>{{Form.originalUnitNameList ? Form.originalUnitNameList : '暂无'}}</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                <div class=\"grid-content\">\r\n                  <span class=\"grid-content-title\">房间号：</span>\r\n                  <span>{{Form.houseNumber}}</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                <div class=\"grid-content\">\r\n                  <span class=\"grid-content-title\">使用面积：</span>\r\n                  <span>{{Form.houseUseArea}}m²</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                <div class=\"grid-content\">\r\n                  <span class=\"grid-content-title\">房间类型：</span>\r\n                  <span>{{Form.housetypeName}}</span>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n          <div class=\"base-info-content\" v-if=\"isBatchDistribute\">\r\n            <el-row>\r\n              <el-col :span=\"24\">\r\n                <div class=\"grid-content batch\">\r\n                  <span>选择分配的房间：</span>\r\n                  <div class=\"room-table\">\r\n                    <table-component\r\n                      :tableData=\"selectedDistributeList\"\r\n                      :tableHeight=\"200\"\r\n                      :tableCellPadding=\"'0'\"\r\n                      @select=\"handleSelectionChange\"\r\n                    >\r\n                      <el-table-column prop=\"houseNumber\" label=\"房间号\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n                      <el-table-column\r\n                        prop=\"originalUnitNameList\"\r\n                        label=\"使用单位\"\r\n                        :show-overflow-tooltip=\"true\"\r\n                      ></el-table-column>\r\n                      <el-table-column\r\n                        prop=\"houseUseArea\"\r\n                        label=\"使用面积(m²)\"\r\n                        :show-overflow-tooltip=\"true\"\r\n                      ></el-table-column>\r\n                      <el-table-column\r\n                        prop=\"housetypeName\"\r\n                        label=\"房间类型\"\r\n                        :show-overflow-tooltip=\"true\"\r\n                      ></el-table-column>\r\n                      <el-table-column prop=\"isIdleText\" label=\"是否调整\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n                      <el-table-column\r\n                        prop=\"newUnitNameList\"\r\n                        label=\"已分配单位\"\r\n                        :show-overflow-tooltip=\"true\"\r\n                      ></el-table-column>\r\n                    </table-component>\r\n                  </div>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"12\">\r\n                <div class=\"grid-content batch\">\r\n                  <span>可分配的房间总面积：</span>\r\n                  <span>{{this.totalRoomArea}}m²</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"grid-content batch\">\r\n                  <span>可分配的房间总数量：</span>\r\n                  <span>{{this.totalRoomNum}}</span>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n        </div>\r\n        <div class=\"distribute-unit-box\">\r\n          <div class=\"distribute-unit-title\">\r\n            <span class=\"edit-info-icon\"></span>\r\n            <span>使用情况</span>\r\n            <span\r\n              class=\"distribute-btn\"\r\n              v-if=\"!currentUseState && !distributeFlag\"\r\n              @click=\"distributeStart\"\r\n            >\r\n              <span class=\"iconfont\">&#xe6b9;</span>调整\r\n            </span>\r\n            <span\r\n              class=\"distribute-btn\"\r\n              v-if=\"!currentUseState && distributeFlag\"\r\n              @click=\"distributeEnd\"\r\n            >\r\n              <span class=\"iconfont\">&#xe61e;</span>取消调整\r\n            </span>\r\n          </div>\r\n          <div class=\"distribute-unit-content\" v-if=\"Form.isIdle !== null\">\r\n            <el-form :model=\"Form\" :rules=\"rules\" ref=\"Form\" label-width=\"78px\">\r\n              <el-form-item label=\"使用情况\" prop=\"isIdle\">\r\n                <el-radio-group v-model=\"Form.isIdle\" @change=\"idleRadioChange\">\r\n                  <el-radio :label=\"1\">占用</el-radio>\r\n                  <el-radio :label=\"0\">闲置</el-radio>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n              <el-form-item\r\n                label=\"占用单位\"\r\n                prop=\"selectedUnitIdList\"\r\n                v-if=\"Form.isIdle===1\"\r\n                class=\"unit-select-form-item\"\r\n              >\r\n                <el-select v-model=\"Form.selectedUnitIdList\" multiple placeholder=\"请选择单位\">\r\n                  <el-option\r\n                    v-for=\"item in unitOptions\"\r\n                    :key=\"item.unitId\"\r\n                    :label=\"item.unitName\"\r\n                    :value=\"item.unitId\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <cancel-btn @clickBtn=\"dialogVisible = false\" :fontSize=\"14\"></cancel-btn>\r\n        <confirm-btn @clickBtn=\"submitForm('Form')\" :fontSize=\"14\"></confirm-btn>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 房屋类型列表 -->\r\n    <div class=\"house-type-box\">\r\n      <ul>\r\n        <li>\r\n          <span style=\"background: #cccccc\"></span>\r\n          未填写信息\r\n        </li>\r\n        <li>\r\n          <span style=\"background: #21b124\"></span>\r\n          办公室用房\r\n        </li>\r\n        <li>\r\n          <span style=\"background: #f4e83b\"></span>\r\n          服务用房\r\n        </li>\r\n        <li>\r\n          <span style=\"background: #008aff\"></span>\r\n          设备用房\r\n        </li>\r\n        <li>\r\n          <span style=\"background: #12fff1\"></span>\r\n          附属用房\r\n        </li>\r\n        <li>\r\n          <span style=\"background: #ff01fd\"></span>\r\n          业务用房\r\n        </li>\r\n        <li v-if=\"PRO_TYPE !== 'gl'\">\r\n          <span style=\"background: #fe8200\"></span>\r\n          租借用房\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <!-- 单位面积变化 -->\r\n    <div class=\"change-detail-dialog\" v-show=\"showChangeDetail\">\r\n      <div class=\"top-arrow-btn\" v-show=\"!expandChangeDetail\" @click=\"changeBoxExpand\">\r\n        <img src=\"../../assets/imgs/top-arrow-btn.png\" alt=\"展开按钮\" />\r\n      </div>\r\n      <div class=\"down-arrow-btn\" v-show=\"expandChangeDetail\" @click=\"changeBoxCollapse\">\r\n        <img src=\"../../assets/imgs/down-arrow-btn.png\" alt=\"收缩按钮\" />\r\n      </div>\r\n      <div class=\"change-detail-title\">分配统计</div>\r\n      <div class=\"change-detail-content\">\r\n        <el-table\r\n          :data=\"distributeChangeList\"\r\n          :header-cell-style=\"tableHeaderCellStyle\"\r\n          :cell-style=\"tableCellStyle\"\r\n          :height=\"tableHeight\"\r\n          style=\"width: 100%\"\r\n        >\r\n          <el-table-column\r\n            prop=\"unitNames\"\r\n            label=\"单位名称\"\r\n            header-align=\"center\"\r\n            align=\"center\"\r\n            :show-overflow-tooltip=\"true\"\r\n          ></el-table-column>\r\n          <el-table-column\r\n            prop=\"houseNumber\"\r\n            label=\"房间数量\"\r\n            header-align=\"center\"\r\n            align=\"center\"\r\n            :show-overflow-tooltip=\"true\"\r\n          ></el-table-column>\r\n          <el-table-column\r\n            prop=\"useArea\"\r\n            label=\"面积(m²)\"\r\n            header-align=\"center\"\r\n            align=\"center\"\r\n            :show-overflow-tooltip=\"true\"\r\n          ></el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { PRO_TYPE } from \"@/axios/global\"\r\nimport { getUserUnitList, getRouterList } from \"@/axios/commonApi\";\r\nimport { getHouseGraphJson, getAllocationUnit, saveConfigurePlanData, getallocationFloorInfo, getChangeData } from \"./api\";\r\nimport { eventBus } from \"@/eventBus/eventBus\";\r\nimport tableComponent from \"@/components/table/table2\";\r\nimport cancelBtn from \"@/components/button/cancelBtn\";\r\nimport confirmBtn from \"@/components/button/confirmBtn\";\r\nimport saveBtn from \"@/components/button/saveBtn\";\r\nconst $ = require(\"jquery\");\r\nconst { fabric } = require('fabric');\r\nconst uuidv1 = require('uuid/v1');\r\nexport default {\r\n  components: {\r\n    cancelBtn,\r\n    confirmBtn,\r\n    saveBtn,\r\n    tableComponent\r\n  },\r\n  data() {\r\n    return {\r\n      PRO_TYPE: PRO_TYPE,\r\n      canvas: {}, // canvas对象\r\n      canvasHeight: 0,\r\n      canvasWidth: 0,\r\n      houseTypeColor: [\r\n        {\r\n          id: 1,\r\n          color: '#21b124'\r\n        },\r\n        {\r\n          id: 2,\r\n          color: '#f4e83b'\r\n        },\r\n        {\r\n          id: 3,\r\n          color: '#008aff'\r\n        },\r\n        {\r\n          id: 4,\r\n          color: '#12fff1'\r\n        },\r\n        {\r\n          id: 5,\r\n          color: '#ff01fd'\r\n        },\r\n        {\r\n          id: 6,\r\n          color: '#fe8200'\r\n        }\r\n      ],\r\n      dialogTitle: \"\",\r\n      dialogVisible: false,\r\n      contextMenuItems: {\r\n        distribute: {\r\n          name: \"模拟分配\",\r\n          icon: \"edit\"\r\n        },\r\n        revert: {\r\n          name: \"撤销\"\r\n        }\r\n      },\r\n      contextMenuItems_2: {\r\n        distribute: {\r\n          name: \"模拟分配\",\r\n          icon: \"edit\"\r\n        }\r\n      },\r\n      Form: {\r\n        configurePlanDataId: null,\r\n        houseId: null,\r\n        houseNumber: null,\r\n        originalUnitNameList: '',\r\n        newUnitNameList: '',\r\n        houseUseArea: '',\r\n        housetypeName: '',\r\n        isIdle: null,\r\n        originalUnitList: [],\r\n        oldConfUnitList: [],\r\n        newConfUnitList: [],\r\n        selectedUnitIdList: [],\r\n        isUse: null,\r\n        applyStatus: null,\r\n        handleWay: null,\r\n        isIdleText: ''\r\n      },\r\n      originalHouseList: [], // 原始的房屋信息数组\r\n      editHouseInfo: [], // 修改房屋信息数组\r\n      saveFormList: [], // 保存的房屋信息数组\r\n      distributableList: [], // 可批量分配的房间\r\n      selectedDistributeList: [], // 选择的批量分配的房间\r\n      distributeChangeList: [], // 记录单位面积改变\r\n      oldDistributeChangeList: [],\r\n      distributeChangeObj: {}, // 记录单位面积改变\r\n      unitOptions: [],\r\n      revertSaveList: [], // 撤销\r\n      rules: {\r\n        selectedUnitIdList: [\r\n          { required: true, message: \"分配单位不能为空\", trigger: \"change\" }\r\n        ]\r\n      },\r\n      totalRoomArea: null,\r\n      totalRoomNum: null,\r\n      configureId: null,\r\n      planId: null,\r\n      isHandle: null,\r\n      currentUseState: false,\r\n      oldIdle: null,\r\n      distributeFlag: false,\r\n      isBatchDistribute: false,\r\n      expandChangeDetail: false,\r\n      showChangeDetail: false,\r\n      tableHeight: 0,\r\n      tableHeaderCellStyle: {\r\n        padding: \"6px 0\",\r\n        color: \"#333333\"\r\n      },\r\n      tableCellStyle: {\r\n        padding: \"6px 0\",\r\n        'background-color': '#f3f3f3'\r\n      },\r\n      canDistributeOrSave: true,\r\n      notDistributeReason: '',\r\n      allNavList: null\r\n    };\r\n  },\r\n  methods: {\r\n    changeBoxCollapse() {\r\n      $('.change-detail-dialog').animate({ height: '4px' }, () => {\r\n        this.expandChangeDetail = false;\r\n      })\r\n    },\r\n    changeBoxExpand(id) {\r\n      $('.change-detail-dialog').animate({ height: '40%' }, () => {\r\n        this.expandChangeDetail = true;\r\n        const h = $('.change-detail-content').height();\r\n        this.tableHeight = h;\r\n      })\r\n    },\r\n    idleRadioChange(type) {\r\n      if (this.Form.isUse === 0 && type === 0) {\r\n        this.Form.isIdle = 1;\r\n        this.$message({\r\n          message: '该房间没有原使用单位，使用情况不能更改为闲置！',\r\n          type: \"warning\"\r\n        });\r\n        return;\r\n      }\r\n    },\r\n    // 开始分配\r\n    distributeStart() {\r\n      this.distributeFlag = true;\r\n      this.Form.isIdle = 1;\r\n    },\r\n    // 取消分配\r\n    distributeEnd() {\r\n      this.distributeFlag = false;\r\n      this.Form.isIdle = null;\r\n      this.selectedUnitIdList = [];\r\n    },\r\n    // 初始化\r\n    init() {\r\n      // 初始化canvas画布\r\n      if (this.canvas && this.canvas.clear) {\r\n        this.canvas.clear();\r\n      }\r\n      this.canvas = new fabric.Canvas(\"c\");\r\n      fabric.ActiveSelection.prototype.hasControls = fabric.ActiveSelection.prototype.hasBorders = false;\r\n      fabric.Object.prototype.originX = 'left';\r\n      fabric.Object.prototype.originY = 'top';\r\n      fabric.Object.prototype.transparentCorners = false;\r\n      fabric.Object.prototype.borderColor = 'red';\r\n      fabric.Object.prototype.cornerColor = 'green';\r\n      fabric.Object.prototype.cornerSize = 6;\r\n      fabric.Object.prototype.borderScaleFactor = 2;\r\n      fabric.Object.prototype.transparentCorners = fabric.Object.prototype.hasControls = fabric.Object.prototype.hasRotatingPoint = false;\r\n      fabric.Object.prototype.lockMovementX = fabric.Object.prototype.lockMovementY = true;\r\n      window.canvas = this.canvas;\r\n      // 设置画布比例\r\n      this.setZoom();\r\n      window.onresize = () => {\r\n        this.setZoom();\r\n      };\r\n      // 初始化右键菜单\r\n      $.contextMenu({\r\n        selector: \".upper-canvas\",\r\n        trigger: \"none\",\r\n        build: function (e, $trigger) {\r\n          return $trigger.data(\"runCallbackThingie\")();\r\n        }\r\n      });\r\n    },\r\n    // 设置画布比例\r\n    setZoom() {\r\n      const canvasDiv = $(this.canvas.wrapperEl).parent();\r\n      this.canvasWidth = canvasDiv.width();\r\n      this.canvasHeight = canvasDiv.height();\r\n      window.zoom = 1;\r\n      this.canvas.setZoom(1);\r\n      this.canvas.setWidth(this.canvasWidth);\r\n      this.canvas.setHeight(this.canvasHeight);\r\n      this.canvas.renderAll();\r\n    },\r\n    // 显示右键菜单\r\n    showContextMenu($event) {\r\n      if ($event.which === 3) {\r\n        // 右键\r\n        const $this = $($event.toElement);\r\n        const canvasObjects = this.canvas.getObjects();\r\n        if (canvasObjects && canvasObjects.length > 0) {\r\n          for (let i = 0; i < canvasObjects.length; i++) {\r\n            const canvasobj = canvasObjects[i];\r\n            if (this.canvas.containsPoint($event, canvasobj)) {\r\n              const type = canvasobj.type;\r\n              if (type !== \"group\") {\r\n                return false;\r\n              }\r\n              this.canvas.discardActiveObject();\r\n              this.canvas.setActiveObject(canvasobj);\r\n              this.canvas.renderAll();\r\n              let flag = true;\r\n              for (let i = 0; i < this.editHouseInfo.length; i++) {\r\n                if (this.editHouseInfo[i].houseId === canvasobj.uuid) {\r\n                  flag = false;\r\n                  this.currentUseState = (this.editHouseInfo[i].isIdle === 0 || this.editHouseInfo[i].isIdle === 1) ? true : false;\r\n                  $this.data(\"runCallbackThingie\", this.createSomeMenu);\r\n                  const position = {\r\n                    x: $event.clientX,\r\n                    y: $event.clientY\r\n                  };\r\n                  $this.contextMenu(position);\r\n                }\r\n              }\r\n              if (flag) {\r\n                for (let i = 0; i < this.originalHouseList.length; i++) {\r\n                  if (this.originalHouseList[i].houseId === canvasobj.uuid) {\r\n                    this.currentUseState = (this.originalHouseList[i].isIdle === 0 || this.originalHouseList[i].isIdle === 1) ? true : false;\r\n                    $this.data(\"runCallbackThingie\", this.createSomeMenu);\r\n                    const position = {\r\n                      x: $event.clientX,\r\n                      y: $event.clientY\r\n                    };\r\n                    $this.contextMenu(position);\r\n                  }\r\n                }\r\n              }\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    // 创建菜单项\r\n    createSomeMenu() {\r\n      const contextMenu = this.currentUseState\r\n        ? this.contextMenuItems\r\n        : this.contextMenuItems_2;\r\n      return {\r\n        callback: this.contextMenuClick,\r\n        items: contextMenu\r\n      };\r\n    },\r\n    // 点击右键菜单\r\n    contextMenuClick(options, key) {\r\n      if (key === \"distribute\") {\r\n        if (!this.canDistributeOrSave) {\r\n          this.$message({\r\n            message: `该楼座已${this.notDistributeReason}, 不能进行分配`,\r\n            type: \"warning\"\r\n          });\r\n          return false;\r\n        }\r\n        const activeObject = this.canvas.getActiveObject();\r\n        let editFlag = false;\r\n        for (let i = 0; i < this.editHouseInfo.length; i++) {\r\n          if (this.editHouseInfo[i].houseId === activeObject.uuid) {\r\n            this.Form = JSON.parse(JSON.stringify(this.editHouseInfo[i]));\r\n            editFlag = true;\r\n            break;\r\n          }\r\n        }\r\n        let currentHouseInfo = null;\r\n        for (let i = 0; i < this.originalHouseList.length; i++) {\r\n          if (this.originalHouseList[i].houseId === activeObject.uuid) {\r\n            const data = this.originalHouseList[i];\r\n            this.oldIdle = (data.isIdle === 0 || data.isIdle === 1) ? data.isIdle : null;\r\n            currentHouseInfo = JSON.parse(JSON.stringify(data));\r\n          }\r\n        }\r\n        if (!editFlag) {\r\n          this.Form = JSON.parse(JSON.stringify(currentHouseInfo));\r\n        }\r\n        this.dialogVisible = true;\r\n      } else if (key === \"revert\") {\r\n        this.$confirm(\"此操作将永久删除房间配置方案数据, 是否继续?\", \"提示\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\"\r\n        }).then(() => {\r\n          const activeObject = this.canvas.getActiveObject();\r\n          let currentHouseInfo = null;\r\n          for (let i = 0; i < this.originalHouseList.length; i++) {\r\n            if (this.originalHouseList[i].houseId === activeObject.uuid) {\r\n              currentHouseInfo = JSON.parse(JSON.stringify(this.originalHouseList[i]));\r\n              break;\r\n            }\r\n          }\r\n          for (let i = 0; i < this.saveFormList.length; i++) {\r\n            if (this.saveFormList[i].houseId === activeObject.uuid) {\r\n              this.saveFormList.splice(i, 1);\r\n              break;\r\n            }\r\n          }\r\n          for (let i = 0; i < this.distributableList.length; i++) {\r\n            if (this.distributableList[i].houseId === activeObject.uuid) {\r\n              this.distributableList[i].isIdle = null;\r\n              this.distributableList[i].selectedUnitIdList = [];\r\n              break;\r\n            }\r\n          }\r\n          let flag = true;\r\n          for (let i = 0; i < this.editHouseInfo.length; i++) {\r\n            if (this.editHouseInfo[i].houseId === activeObject.uuid) {\r\n              this.editHouseInfo[i].isIdle = null;\r\n              this.editHouseInfo[i].selectedUnitIdList = [];\r\n              flag = false;\r\n              break;\r\n            }\r\n          }\r\n          if (flag) {\r\n            const obj = JSON.parse(JSON.stringify(currentHouseInfo))\r\n            obj.selectedUnitIdList = [];\r\n            obj.isIdle = null;\r\n            this.editHouseInfo.push(obj);\r\n          }\r\n          if (currentHouseInfo.configurePlanDataId) {\r\n            this.revertSaveList.push(currentHouseInfo.configurePlanDataId);\r\n          }\r\n          // 记录单位面积变化\r\n          if (this.distributeChangeObj[currentHouseInfo.houseId] === undefined) {\r\n            this.distributeChangeObj[currentHouseInfo.houseId] = {};\r\n            this.distributeChangeObj[currentHouseInfo.houseId].remove = [];\r\n            this.distributeChangeObj[currentHouseInfo.houseId].add = [];\r\n          }\r\n          if (currentHouseInfo.isIdle === 0) {\r\n            // - 闲置\r\n            const removeObj = {};\r\n            removeObj.unitNames = '闲置';\r\n            removeObj.useArea = `-${currentHouseInfo.houseUseArea}` - 0;\r\n            removeObj.houseNumber = -1;\r\n            this.distributeChangeObj[currentHouseInfo.houseId].remove = [];\r\n            this.distributeChangeObj[currentHouseInfo.houseId].remove.push(removeObj);\r\n            // + 原单位\r\n            if (currentHouseInfo.rent) {\r\n              const addObj = {};\r\n              addObj.unitNames = '出租';\r\n              addObj.useArea = `${currentHouseInfo.houseUseArea}` - 0;\r\n              addObj.houseNumber = +1;\r\n              this.distributeChangeObj[currentHouseInfo.houseId].add = [];\r\n              this.distributeChangeObj[currentHouseInfo.houseId].add.push(addObj);\r\n            } else {\r\n              let addOriginalName = [];\r\n              currentHouseInfo.originalUnitList.forEach(originalUnit => {\r\n                addOriginalName.push(originalUnit.originalUnitName)\r\n              });\r\n              const addObj = {};\r\n              addObj.unitNames = addOriginalName.join(',');\r\n              addObj.useArea = `${currentHouseInfo.houseUseArea}` - 0;\r\n              addObj.houseNumber = +1;\r\n              this.distributeChangeObj[currentHouseInfo.houseId].add = [];\r\n              this.distributeChangeObj[currentHouseInfo.houseId].add.push(addObj);\r\n            }\r\n          } else if (currentHouseInfo.isIdle === 1) {\r\n            // - 分配的单位（以前）\r\n            let removeOriginalName = [];\r\n            if (currentHouseInfo.newConfUnitList.length > 0) {\r\n              currentHouseInfo.newConfUnitList.forEach(unit => {\r\n                removeOriginalName.push(unit.newUnitName)\r\n              });\r\n            }\r\n            const removeObj = {};\r\n            removeObj.unitNames = removeOriginalName.join(',');\r\n            removeObj.useArea = `-${currentHouseInfo.houseUseArea}` - 0;\r\n            removeObj.houseNumber = -1;\r\n            this.distributeChangeObj[currentHouseInfo.houseId].remove = [];\r\n            this.distributeChangeObj[currentHouseInfo.houseId].remove.push(removeObj);\r\n            // + 原单位\r\n            if (currentHouseInfo.rent) {\r\n              const addObj = {};\r\n              addObj.unitNames = '出租';\r\n              addObj.useArea = `${currentHouseInfo.houseUseArea}` - 0;\r\n              addObj.houseNumber = +1;\r\n              this.distributeChangeObj[currentHouseInfo.houseId].add = [];\r\n              this.distributeChangeObj[currentHouseInfo.houseId].add.push(addObj);\r\n            } else {\r\n              if (currentHouseInfo.originalUnitList.length > 0) {\r\n                let addOriginalName = [];\r\n                currentHouseInfo.originalUnitList.forEach(originalUnit => {\r\n                  addOriginalName.push(originalUnit.originalUnitName)\r\n                });\r\n                const addObj = {};\r\n                addObj.unitNames = addOriginalName.join(',');\r\n                addObj.useArea = `${currentHouseInfo.houseUseArea}` - 0;\r\n                addObj.houseNumber = +1;\r\n                this.distributeChangeObj[currentHouseInfo.houseId].add = [];\r\n                this.distributeChangeObj[currentHouseInfo.houseId].add.push(addObj);\r\n              } else {\r\n                const addObj = {};\r\n                addObj.unitNames = '闲置';\r\n                addObj.useArea = `${currentHouseInfo.houseUseArea}` - 0;\r\n                addObj.houseNumber = +1;\r\n                this.distributeChangeObj[currentHouseInfo.houseId].add = [];\r\n                this.distributeChangeObj[currentHouseInfo.houseId].add.push(addObj);\r\n              }\r\n            }\r\n          } else {\r\n            this.distributeChangeObj[currentHouseInfo.houseId].add = [];\r\n            this.distributeChangeObj[currentHouseInfo.houseId].remove = [];\r\n          }\r\n          this.getChangeData();\r\n\r\n          // 去掉已修改图标\r\n          const image = activeObject.getObjects('image');\r\n          if (image.length > 0) {\r\n            image.forEach(img => {\r\n              activeObject.remove(img);\r\n              this.canvas.requestRenderAll();\r\n            })\r\n          }\r\n          this.$message({\r\n            message: \"撤销成功\",\r\n            type: \"success\"\r\n          });\r\n          // console.log('distributeChangeObj', this.distributeChangeObj);\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消撤销操作\"\r\n          });\r\n        });\r\n      }\r\n    },\r\n    // 批量分配\r\n    batchDistribution() {\r\n      const buildId = sessionStorage.getItem(\"buildId\");\r\n      const floorName = sessionStorage.getItem(\"floorName\");\r\n      if (!buildId || !floorName) {\r\n        this.$message({\r\n          message: \"请先选择楼层\",\r\n          type: \"warning\"\r\n        });\r\n        return false;\r\n      }\r\n      if (!this.canDistributeOrSave) {\r\n        this.$message({\r\n          message: `该楼座已${this.notDistributeReason}, 不能进行分配`,\r\n          type: \"warning\"\r\n        });\r\n        return false;\r\n      }\r\n      let objs = [];\r\n      const aObject = canvas.getActiveObject();\r\n      if (!aObject) {\r\n        this.$message({\r\n          message: \"请先选择要分配的房间！\",\r\n          type: \"warning\"\r\n        });\r\n        return false;\r\n      }\r\n      if (aObject.type === 'group' && aObject.typeName === 'room') {\r\n        objs.push(aObject);\r\n      } else if (aObject.type === 'activeSelection') {\r\n        for (let i = 0; i < aObject._objects.length; i++) {\r\n          const obj = aObject._objects[i];\r\n          if (obj.type === 'group' && obj.typeName === 'room') {\r\n            objs.push(obj);\r\n          }\r\n        }\r\n      }\r\n      this.selectedDistributeList = [];\r\n      for (let i = 0; i < objs.length; i++) {\r\n        for (let j = 0; j < this.distributableList.length; j++) {\r\n          if (this.distributableList[j].houseId === objs[i].uuid) {\r\n            this.selectedDistributeList.push(this.distributableList[j]);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      this.totalRoomArea = 0;\r\n      this.selectedDistributeList.forEach(item => {\r\n        if (item.houseUseArea) {\r\n          this.totalRoomArea += item.houseUseArea;\r\n        }\r\n        item.isIdleText = (item.isIdle === 1 || item.isIdle === 0) ? '已调整' : '未调整';\r\n        if (item.selectedUnitIdList.length > 0) {\r\n          let temp = [];\r\n          item.selectedUnitIdList = item.selectedUnitIdList.sort((a, b) => {\r\n            return a - b;\r\n          });\r\n          item.selectedUnitIdList.forEach(item => {\r\n            for (let i = 0; i < this.unitOptions.length; i++) {\r\n              if (item === this.unitOptions[i].unitId) {\r\n                temp.push(this.unitOptions[i].unitName);\r\n                break;\r\n              }\r\n            }\r\n          });\r\n          item.newUnitNameList = temp.join(',');\r\n        } else {\r\n          item.newUnitNameList = '暂无';\r\n        }\r\n      })\r\n      this.totalRoomArea = this.totalRoomArea.toFixed(2);\r\n      this.totalRoomNum = this.selectedDistributeList.length;\r\n      this.isBatchDistribute = true;\r\n      this.dialogVisible = true;\r\n    },\r\n    // 批量撤销\r\n    batchRevert() {\r\n      const buildId = sessionStorage.getItem(\"buildId\");\r\n      const floorName = sessionStorage.getItem(\"floorName\");\r\n      if (!buildId || !floorName) {\r\n        this.$message({\r\n          message: \"请先选择楼层\",\r\n          type: \"warning\"\r\n        });\r\n        return false;\r\n      }\r\n      this.$confirm(\"此操作将永久批量删除整层楼的房间配置方案数据, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          this.distributableList.forEach(room => {\r\n            room.isIdle = null;\r\n            room.selectedUnitIdList = [];\r\n            let currentHouseInfo = null;\r\n            for (let i = 0; i < this.originalHouseList.length; i++) {\r\n              if (this.originalHouseList[i].houseId === room.houseId) {\r\n                currentHouseInfo = JSON.parse(JSON.stringify(this.originalHouseList[i]));\r\n                break;\r\n              }\r\n            }\r\n            for (let i = 0; i < this.saveFormList.length; i++) {\r\n              if (this.saveFormList[i].houseId === room.houseId) {\r\n                this.saveFormList.splice(i, 1);\r\n                break;\r\n              }\r\n            }\r\n            let flag = true;\r\n            for (let i = 0; i < this.editHouseInfo.length; i++) {\r\n              if (this.editHouseInfo[i].houseId === room.houseId) {\r\n                this.editHouseInfo[i].isIdle = null;\r\n                this.editHouseInfo[i].selectedUnitIdList = [];\r\n                flag = false;\r\n                break;\r\n              }\r\n            }\r\n            if (flag) {\r\n              const obj = JSON.parse(JSON.stringify(currentHouseInfo))\r\n              obj.selectedUnitIdList = [];\r\n              obj.isIdle = null;\r\n              this.editHouseInfo.push(obj);\r\n            }\r\n            if (currentHouseInfo.configurePlanDataId) {\r\n              if (this.revertSaveList.indexOf(currentHouseInfo.configurePlanDataId) === -1) {\r\n                this.revertSaveList.push(currentHouseInfo.configurePlanDataId);\r\n              }\r\n            }\r\n            // 记录单位面积变化\r\n            if (this.distributeChangeObj[currentHouseInfo.houseId] === undefined) {\r\n              this.distributeChangeObj[currentHouseInfo.houseId] = {};\r\n              this.distributeChangeObj[currentHouseInfo.houseId].remove = [];\r\n              this.distributeChangeObj[currentHouseInfo.houseId].add = [];\r\n            }\r\n            if (currentHouseInfo.isIdle === 0) {\r\n              // - 闲置\r\n              const removeObj = {};\r\n              removeObj.unitNames = '闲置';\r\n              removeObj.useArea = `-${currentHouseInfo.houseUseArea}` - 0;\r\n              removeObj.houseNumber = -1;\r\n              this.distributeChangeObj[currentHouseInfo.houseId].remove = [];\r\n              this.distributeChangeObj[currentHouseInfo.houseId].remove.push(removeObj);\r\n              // + 原单位\r\n              if (currentHouseInfo.rent) {\r\n                const addObj = {};\r\n                addObj.unitNames = '出租';\r\n                addObj.useArea = `${currentHouseInfo.houseUseArea}` - 0;\r\n                addObj.houseNumber = +1;\r\n                this.distributeChangeObj[currentHouseInfo.houseId].add = [];\r\n                this.distributeChangeObj[currentHouseInfo.houseId].add.push(addObj);\r\n              } else {\r\n                let addOriginalName = [];\r\n                currentHouseInfo.originalUnitList.forEach(originalUnit => {\r\n                  addOriginalName.push(originalUnit.originalUnitName)\r\n                });\r\n                const addObj = {};\r\n                addObj.unitNames = addOriginalName.join(',');\r\n                addObj.useArea = `${currentHouseInfo.houseUseArea}` - 0;\r\n                addObj.houseNumber = +1;\r\n                this.distributeChangeObj[currentHouseInfo.houseId].add = [];\r\n                this.distributeChangeObj[currentHouseInfo.houseId].add.push(addObj);\r\n              }\r\n            } else if (currentHouseInfo.isIdle === 1) {\r\n              // - 分配的单位（以前）\r\n              let removeOriginalName = [];\r\n              if (currentHouseInfo.newConfUnitList.length > 0) {\r\n                currentHouseInfo.newConfUnitList.forEach(unit => {\r\n                  removeOriginalName.push(unit.newUnitName)\r\n                });\r\n              }\r\n              const removeObj = {};\r\n              removeObj.unitNames = removeOriginalName.join(',');\r\n              removeObj.useArea = `-${currentHouseInfo.houseUseArea}` - 0;\r\n              removeObj.houseNumber = -1;\r\n              this.distributeChangeObj[currentHouseInfo.houseId].remove = [];\r\n              this.distributeChangeObj[currentHouseInfo.houseId].remove.push(removeObj);\r\n              // + 原单位\r\n              if (currentHouseInfo.rent) {\r\n                const addObj = {};\r\n                addObj.unitNames = '出租';\r\n                addObj.useArea = `${currentHouseInfo.houseUseArea}` - 0;\r\n                addObj.houseNumber = +1;\r\n                this.distributeChangeObj[currentHouseInfo.houseId].add = [];\r\n                this.distributeChangeObj[currentHouseInfo.houseId].add.push(addObj);\r\n              } else {\r\n                if (currentHouseInfo.originalUnitList.length > 0) {\r\n                  let addOriginalName = [];\r\n                  currentHouseInfo.originalUnitList.forEach(originalUnit => {\r\n                    addOriginalName.push(originalUnit.originalUnitName)\r\n                  });\r\n                  const addObj = {};\r\n                  addObj.unitNames = addOriginalName.join(',');\r\n                  addObj.useArea = `${currentHouseInfo.houseUseArea}` - 0;\r\n                  addObj.houseNumber = +1;\r\n                  this.distributeChangeObj[currentHouseInfo.houseId].add = [];\r\n                  this.distributeChangeObj[currentHouseInfo.houseId].add.push(addObj);\r\n                } else {\r\n                  const addObj = {};\r\n                  addObj.unitNames = '闲置';\r\n                  addObj.useArea = `${currentHouseInfo.houseUseArea}` - 0;\r\n                  addObj.houseNumber = +1;\r\n                  this.distributeChangeObj[currentHouseInfo.houseId].add = [];\r\n                  this.distributeChangeObj[currentHouseInfo.houseId].add.push(addObj);\r\n                }\r\n              }\r\n            } else {\r\n              this.distributeChangeObj[currentHouseInfo.houseId].add = [];\r\n              this.distributeChangeObj[currentHouseInfo.houseId].remove = [];\r\n            }\r\n          })\r\n          this.getChangeData();\r\n          // 去掉已修改图标\r\n          const activeObjects = this.canvas.getObjects('group');\r\n          if (activeObjects.length > 0) {\r\n            activeObjects.forEach(obj => {\r\n              if (obj.typeName === 'room') {\r\n                const image = obj.getObjects('image');\r\n                if (image.length > 0) {\r\n                  image.forEach(img => {\r\n                    obj.remove(img);\r\n                    this.canvas.requestRenderAll();\r\n                  })\r\n                }\r\n              }\r\n            })\r\n          }\r\n          this.$message({\r\n            message: \"撤销成功\",\r\n            type: \"success\"\r\n          });\r\n          // console.log('distributeChangeObj', this.distributeChangeObj);\r\n          // console.log('revertSaveList', this.revertSaveList);\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消撤销操作\"\r\n          });\r\n        });\r\n    },\r\n    // 批量分配数据提交\r\n    batchDistributeDataSubmit() {\r\n      if (this.selectedDistributeList.length > 0) {\r\n        this.selectedDistributeList.forEach(selected => {\r\n          this.Form.houseId = selected.houseId;\r\n          this.Form.configurePlanDataId = selected.configurePlanDataId ? selected.configurePlanDataId : null;\r\n          this.Form.newConfUnitList = selected.newConfUnitList;\r\n          this.Form.oldConfUnitList = selected.oldConfUnitList;\r\n          this.Form.originalUnitList = selected.originalUnitList;\r\n\r\n          // 整合单位面积变化数据\r\n          let originalObj = null;\r\n          let originalDistributedUnit = null;\r\n          let originalIdle = null;\r\n          const activeIdle = this.Form.isIdle;\r\n          for (let i = 0; i < this.originalHouseList.length; i++) {\r\n            if (this.Form.houseId === this.originalHouseList[i].houseId) {\r\n              originalObj = this.originalHouseList[i];\r\n              originalDistributedUnit = this.originalHouseList[i].newConfUnitList;\r\n              originalIdle = this.originalHouseList[i].isIdle;\r\n              break;\r\n            }\r\n          }\r\n          if (this.distributeChangeObj[originalObj.houseId] === undefined) {\r\n            this.distributeChangeObj[originalObj.houseId] = {};\r\n            this.distributeChangeObj[originalObj.houseId].remove = [];\r\n            this.distributeChangeObj[originalObj.houseId].add = [];\r\n          }\r\n          if (originalIdle !== 0 && originalIdle !== 1) {\r\n            if (activeIdle === 0) {\r\n              // - 原单位\r\n              if (originalObj.rent) {\r\n                const removeObj = {};\r\n                removeObj.unitNames = '出租';\r\n                removeObj.useArea = `-${originalObj.houseUseArea}` - 0;\r\n                removeObj.houseNumber = -1;\r\n                this.distributeChangeObj[originalObj.houseId].remove = [];\r\n                this.distributeChangeObj[originalObj.houseId].remove.push(removeObj);\r\n              } else {\r\n                let removeOriginalName = [];\r\n                originalObj.originalUnitList.forEach(originalUnit => {\r\n                  removeOriginalName.push(originalUnit.originalUnitName)\r\n                });\r\n                const removeObj = {};\r\n                removeObj.unitNames = removeOriginalName.join(',');\r\n                removeObj.useArea = `-${originalObj.houseUseArea}` - 0;\r\n                removeObj.houseNumber = -1;\r\n                this.distributeChangeObj[originalObj.houseId].remove = [];\r\n                this.distributeChangeObj[originalObj.houseId].remove.push(removeObj);\r\n              }\r\n              // + 闲置\r\n              const addObj = {};\r\n              addObj.unitNames = '闲置';\r\n              addObj.useArea = `${originalObj.houseUseArea}` - 0;\r\n              addObj.houseNumber = +1;\r\n              this.distributeChangeObj[originalObj.houseId].add = [];\r\n              this.distributeChangeObj[originalObj.houseId].add.push(addObj);\r\n            } else if (activeIdle === 1) {\r\n              // - 原单位\r\n              if (originalObj.rent) {\r\n                const removeObj = {};\r\n                removeObj.unitNames = '出租';\r\n                removeObj.useArea = `-${originalObj.houseUseArea}` - 0;\r\n                removeObj.houseNumber = -1;\r\n                this.distributeChangeObj[originalObj.houseId].remove = [];\r\n                this.distributeChangeObj[originalObj.houseId].remove.push(removeObj);\r\n              } else {\r\n                if (originalObj.originalUnitList.length > 0) {\r\n                  let removeOriginalName = [];\r\n                  originalObj.originalUnitList.forEach(originalUnit => {\r\n                    removeOriginalName.push(originalUnit.originalUnitName)\r\n                  });\r\n                  const removeObj = {};\r\n                  removeObj.unitNames = removeOriginalName.join(',');\r\n                  removeObj.useArea = `-${originalObj.houseUseArea}` - 0;\r\n                  removeObj.houseNumber = -1;\r\n                  this.distributeChangeObj[originalObj.houseId].remove = [];\r\n                  this.distributeChangeObj[originalObj.houseId].remove.push(removeObj);\r\n                } else {\r\n                  const removeObj = {};\r\n                  removeObj.unitNames = '闲置';\r\n                  removeObj.useArea = `-${originalObj.houseUseArea}` - 0;\r\n                  removeObj.houseNumber = -1;\r\n                  this.distributeChangeObj[originalObj.houseId].remove = [];\r\n                  this.distributeChangeObj[originalObj.houseId].remove.push(removeObj);\r\n                }\r\n              }\r\n              // + 新分配的单位\r\n              let addNewUnitName = [];\r\n              let selectedUnitIdList = this.Form.selectedUnitIdList;\r\n              selectedUnitIdList = selectedUnitIdList.sort((a, b) => {\r\n                return a - b;\r\n              });\r\n              selectedUnitIdList.forEach(item => {\r\n                for (let i = 0; i < this.unitOptions.length; i++) {\r\n                  if (item === this.unitOptions[i].unitId) {\r\n                    addNewUnitName.push(this.unitOptions[i].unitName);\r\n                    break;\r\n                  }\r\n                }\r\n              });\r\n              const addObj = {};\r\n              addObj.unitNames = addNewUnitName.join(',');\r\n              addObj.useArea = `${originalObj.houseUseArea}` - 0;\r\n              addObj.houseNumber = +1;\r\n              this.distributeChangeObj[originalObj.houseId].add = [];\r\n              this.distributeChangeObj[originalObj.houseId].add.push(addObj);\r\n            }\r\n          } else if (originalIdle === 0) {\r\n            if (activeIdle === 1) {\r\n              // - 闲置\r\n              const removeObj = {};\r\n              removeObj.unitNames = '闲置';\r\n              removeObj.useArea = `-${originalObj.houseUseArea}` - 0;\r\n              removeObj.houseNumber = -1;\r\n              this.distributeChangeObj[originalObj.houseId].remove = [];\r\n              this.distributeChangeObj[originalObj.houseId].remove.push(removeObj);\r\n              // + 新分配的单位\r\n              let addNewUnitName = [];\r\n              let selectedUnitIdList = this.Form.selectedUnitIdList;\r\n              selectedUnitIdList = selectedUnitIdList.sort((a, b) => {\r\n                return a - b;\r\n              });\r\n              selectedUnitIdList.forEach(item => {\r\n                for (let i = 0; i < this.unitOptions.length; i++) {\r\n                  if (item === this.unitOptions[i].unitId) {\r\n                    addNewUnitName.push(this.unitOptions[i].unitName);\r\n                    break;\r\n                  }\r\n                }\r\n              });\r\n              const addObj = {};\r\n              addObj.unitNames = addNewUnitName.join(',');\r\n              addObj.useArea = `${originalObj.houseUseArea}` - 0;\r\n              addObj.houseNumber = +1;\r\n              this.distributeChangeObj[originalObj.houseId].add = [];\r\n              this.distributeChangeObj[originalObj.houseId].add.push(addObj);\r\n            }\r\n          } else if (originalIdle === 1) {\r\n            if (activeIdle === 0) {\r\n              // - 分配的单位（以前）\r\n              let removeOriginalName = [];\r\n              if (originalDistributedUnit.length > 0) {\r\n                originalDistributedUnit.forEach(unit => {\r\n                  removeOriginalName.push(unit.newUnitName)\r\n                });\r\n              }\r\n              const removeObj = {};\r\n              removeObj.unitNames = removeOriginalName.join(',');\r\n              removeObj.useArea = `-${originalObj.houseUseArea}` - 0;\r\n              removeObj.houseNumber = -1;\r\n              this.distributeChangeObj[originalObj.houseId].remove = [];\r\n              this.distributeChangeObj[originalObj.houseId].remove.push(removeObj);\r\n              // + 闲置\r\n              const addObj = {};\r\n              addObj.unitNames = '闲置';\r\n              addObj.useArea = `${originalObj.houseUseArea}` - 0;\r\n              addObj.houseNumber = +1;\r\n              this.distributeChangeObj[originalObj.houseId].add = [];\r\n              this.distributeChangeObj[originalObj.houseId].add.push(addObj);\r\n            } else if (activeIdle === 1) {\r\n              // - 分配的单位（以前）\r\n              let removeOriginalName = [];\r\n              if (originalDistributedUnit.length > 0) {\r\n                originalDistributedUnit.forEach(unit => {\r\n                  removeOriginalName.push(unit.newUnitName)\r\n                });\r\n              }\r\n              const removeObj = {};\r\n              removeObj.unitNames = removeOriginalName.join(',');\r\n              removeObj.useArea = `-${originalObj.houseUseArea}` - 0;\r\n              removeObj.houseNumber = -1;\r\n              this.distributeChangeObj[originalObj.houseId].remove = [];\r\n              this.distributeChangeObj[originalObj.houseId].remove.push(removeObj);\r\n              // + 新分配的单位\r\n              let addNewUnitName = [];\r\n              let selectedUnitIdList = this.Form.selectedUnitIdList;\r\n              selectedUnitIdList = selectedUnitIdList.sort((a, b) => {\r\n                return a - b;\r\n              });\r\n              selectedUnitIdList.forEach(item => {\r\n                for (let i = 0; i < this.unitOptions.length; i++) {\r\n                  if (item === this.unitOptions[i].unitId) {\r\n                    addNewUnitName.push(this.unitOptions[i].unitName);\r\n                    break;\r\n                  }\r\n                }\r\n              });\r\n              const addObj = {};\r\n              addObj.unitNames = addNewUnitName.join(',');\r\n              addObj.useArea = `${originalObj.houseUseArea}` - 0;\r\n              addObj.houseNumber = +1;\r\n              this.distributeChangeObj[originalObj.houseId].add = [];\r\n              this.distributeChangeObj[originalObj.houseId].add.push(addObj);\r\n            }\r\n          }\r\n\r\n          // 保存数据到编辑的数组\r\n          const yardId = sessionStorage.getItem(\"yardId\");\r\n          const buildId = sessionStorage.getItem(\"buildId\");\r\n          const planId = sessionStorage.getItem(\"planId\");\r\n          const obj_1 = JSON.parse(JSON.stringify(this.Form));\r\n          if (obj_1.isIdle === 0) {\r\n            obj_1.selectedUnitIdList = [];\r\n          }\r\n          // 保存数据到批量的数组\r\n          for (let i = 0; i < this.distributableList.length; i++) {\r\n            if (this.distributableList[i].houseId === obj_1.houseId) {\r\n              let info = this.distributableList[i];\r\n              obj_1.houseNumber = info.houseNumber;\r\n              obj_1.houseUseArea = info.houseUseArea;\r\n              obj_1.housetypeName = info.housetypeName;\r\n              obj_1.originalUnitNameList = info.originalUnitNameList;\r\n              obj_1.rent = info.rent\r\n              info.isIdle = obj_1.isIdle;\r\n              info.selectedUnitIdList = obj_1.selectedUnitIdList;\r\n            }\r\n          }\r\n\r\n          // 保存数据到编辑的数组\r\n          let editAddFlag = true;\r\n          for (let i = 0; i < this.editHouseInfo.length; i++) {\r\n            if (this.editHouseInfo[i].houseId === obj_1.houseId) {\r\n              editAddFlag = false\r\n              this.editHouseInfo.splice(i, 1, obj_1);\r\n            }\r\n          }\r\n          if (editAddFlag) {\r\n            this.editHouseInfo.push(obj_1)\r\n          }\r\n\r\n          // 保存数据到提交的数组\r\n          const obj_2 = JSON.parse(JSON.stringify(this.Form));\r\n          for (let i = 0; i < this.originalHouseList.length; i++) {\r\n            if (this.originalHouseList[i].houseId === obj_2.houseId) {\r\n              const data = this.originalHouseList[i];\r\n              this.oldIdle = (data.isIdle === 0 || data.isIdle === 1) ? data.isIdle : null;\r\n            }\r\n          }\r\n\r\n          if (obj_2.isIdle === 0) {\r\n            obj_2.selectedUnitIdList = [];\r\n          }\r\n          let temp = {};\r\n          temp.buildId = buildId;\r\n          temp.yardId = yardId;\r\n          temp.planId = planId;\r\n          temp.houseId = obj_2.houseId;\r\n          temp.isIdle = obj_2.isIdle;\r\n          temp.configurePlanDataId = obj_2.configurePlanDataId;\r\n          temp.configurePlanOldUnits = [];\r\n          temp.configurePlanNewUnits = [];\r\n          temp.deleteCPNUnitIds = [];\r\n          temp.deleteCPOUnitIds = [];\r\n          let oldConfUnitList = [];\r\n          if (obj_2.selectedUnitIdList.length > 0) {\r\n            obj_2.selectedUnitIdList = obj_2.selectedUnitIdList.sort((a, b) => {\r\n              return a - b;\r\n            })\r\n          }\r\n          if (obj_2.newConfUnitList && obj_2.newConfUnitList.length > 0) {\r\n            obj_2.newConfUnitList.forEach(item => {\r\n              oldConfUnitList.push(item.newUnitId);\r\n            });\r\n            obj_2.newConfUnitList.forEach(item => {\r\n              if (obj_2.selectedUnitIdList.indexOf(item.newUnitId) === -1) {\r\n                temp.deleteCPNUnitIds.push(item.configurePlanNewUnitId);\r\n              }\r\n            });\r\n          }\r\n          if (obj_2.selectedUnitIdList.length > 0) {\r\n            obj_2.selectedUnitIdList.forEach(item => {\r\n              if (oldConfUnitList.indexOf(item) === -1) {\r\n                temp.configurePlanNewUnits.push({\r\n                  unitId: item\r\n                })\r\n              }\r\n            })\r\n          }\r\n          if (obj_2.oldConfUnitList && obj_2.oldConfUnitList.length > 0) {\r\n            obj_2.oldConfUnitList.forEach(item => {\r\n              temp.deleteCPOUnitIds.push(item.configurePlanOldUnitId);\r\n            })\r\n          }\r\n          if (obj_2.originalUnitList && obj_2.originalUnitList.length > 0) {\r\n            obj_2.originalUnitList.forEach(item => {\r\n              temp.configurePlanOldUnits.push({\r\n                unitId: item.originalUnitId\r\n              })\r\n            });\r\n          }\r\n          if (obj_2.isIdle === 0) {\r\n            temp.configurePlanNewUnits.push({\r\n              unitId: 0\r\n            })\r\n          };\r\n          if (obj_2.isUse === 0) {\r\n            temp.configurePlanOldUnits.push({\r\n              unitId: 0\r\n            })\r\n          }\r\n          for (let i = 0; i < this.saveFormList.length; i++) {\r\n            if (this.saveFormList[i].houseId === temp.houseId) {\r\n              this.saveFormList.splice(i, 1);\r\n            }\r\n          }\r\n          if (temp.deleteCPNUnitIds.length > 0 || temp.configurePlanNewUnits.length > 0 || this.oldIdle !== temp.isIdle) {\r\n            if (this.revertSaveList.indexOf(temp.configurePlanDataId) > -1) {\r\n              const index = this.revertSaveList.indexOf(temp.configurePlanDataId);\r\n              this.revertSaveList.splice(index, 1);\r\n            };\r\n            this.saveFormList.push(temp);\r\n          }\r\n          // 给图形添加修改的图标\r\n          let activeObject = this.canvas.getObjects('group');\r\n          for (let i = 0; i < activeObject.length; i++) {\r\n            const obj = activeObject[i];\r\n            if (obj.type === 'group' && obj.typeName === 'room' && obj.uuid === selected.houseId) {\r\n              const imgs = obj.getObjects('image');\r\n              const imgLen = imgs.length;\r\n              if (imgLen === 0) {\r\n                fabric.Image.fromURL(require('../../assets/imgs/modified-icon.png'), (img) => {\r\n                  const obj_w = obj.width;\r\n                  const obj_h = obj.height;\r\n                  const img_w = img.width;\r\n                  const img_h = img.height;\r\n                  img.set({\r\n                    originX: 'center',\r\n                    originY: 'center',\r\n                    top: - (obj_h / 2) + (img_h / 2) + 1,\r\n                    left: obj_w / 2 - (img_w / 2) - 1\r\n                  });\r\n                  obj.add(img);\r\n                  this.canvas.requestRenderAll();\r\n                })\r\n              }\r\n            }\r\n          }\r\n        })\r\n        this.getChangeData();\r\n      }\r\n      this.dialogVisible = false;\r\n    },\r\n    // 提交房间信息\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          if (this.Form.isIdle === 0) {\r\n            this.Form.selectedUnitIdList = [];\r\n          }\r\n          if (this.isBatchDistribute && this.Form.isIdle !== null) {\r\n            // 原使用单位和现存单位对比\r\n            if (this.Form.isIdle === 1 && this.Form.selectedUnitIdList.length > 0) {\r\n              let unitSameArray = [];\r\n              let unitSameFlag = false;\r\n              let selectedUnitIdList = this.Form.selectedUnitIdList.sort((a, b) => {\r\n                return a - b;\r\n              });\r\n              let selectedDistributeCloneList = JSON.parse(JSON.stringify(this.selectedDistributeList));\r\n              for (let i = this.selectedDistributeList.length - 1; i >= 0; i--) {\r\n                let selected = this.selectedDistributeList[i];\r\n                let quondamUnitIdList = [];\r\n                selected.originalUnitList.forEach(item => {\r\n                  quondamUnitIdList.push(item.originalUnitId);\r\n                  quondamUnitIdList.sort((a, b) => {\r\n                    return a - b;\r\n                  });;\r\n                });\r\n                if (JSON.stringify(selectedUnitIdList) == JSON.stringify(quondamUnitIdList)) {\r\n                  unitSameFlag = true;\r\n                  unitSameArray.push(selected.houseNumber);\r\n                  selectedDistributeCloneList.splice(i, 1)\r\n                }\r\n              }\r\n              if (unitSameFlag) {\r\n                const unitSameText = unitSameArray.join('、');\r\n                this.$confirm(`${unitSameText}，原使用单位和分配单位完全相同，若点击确定按钮，房间号为${unitSameText}的房间将不进行分配，其余的房间正常分配。若点击取消，则重新选择分配单位。`, '提示', {\r\n                  confirmButtonText: '确定',\r\n                  cancelButtonText: '取消',\r\n                  type: 'warning',\r\n                  center: true\r\n                }).then(() => {\r\n                  this.selectedDistributeList = selectedDistributeCloneList;\r\n                  this.batchDistributeDataSubmit();\r\n                }).catch(() => {\r\n                });\r\n              } else {\r\n                this.batchDistributeDataSubmit();\r\n              }\r\n            } else if (this.Form.isIdle === 0) {\r\n              // 已经闲置的房间不能再次分配为闲置\r\n              let unusedRoomArray = [];\r\n              let unusedFlag = false;\r\n              let selectedDistributeCloneList = JSON.parse(JSON.stringify(this.selectedDistributeList));\r\n              for (let i = this.selectedDistributeList.length - 1; i >= 0; i--) {\r\n                let selected = this.selectedDistributeList[i];\r\n                if (selected.isUse === 0 && !selected.rent) {\r\n                  unusedFlag = true;\r\n                  unusedRoomArray.unshift(selected.houseNumber);\r\n                  selectedDistributeCloneList.splice(i, 1)\r\n                }\r\n              }\r\n              if (unusedFlag) {\r\n                const unusedRoomText = unusedRoomArray.join('、');\r\n                this.$confirm(`${unusedRoomText}没有原使用单位，若点击确定按钮，该房间的使用状态不会改变，其余的房间变为不使用。若点击取消，则重新选择。`, '提示', {\r\n                  confirmButtonText: '确定',\r\n                  cancelButtonText: '取消',\r\n                  type: 'warning',\r\n                  center: true\r\n                }).then(() => {\r\n                  this.selectedDistributeList = selectedDistributeCloneList;\r\n                  this.batchDistributeDataSubmit();\r\n                }).catch(() => {\r\n                });\r\n              } else {\r\n                this.batchDistributeDataSubmit();\r\n              }\r\n            }\r\n          } else if (!this.isBatchDistribute && this.Form.isIdle !== null) {\r\n            // 原使用单位和现存单位对比\r\n            if (this.Form.isIdle === 1) {\r\n              let selectedUnitIdList = this.Form.selectedUnitIdList.sort((a, b) => {\r\n                return a - b;\r\n              });\r\n              let quondamUnitIdList = [];\r\n              this.Form.originalUnitList.forEach(item => {\r\n                quondamUnitIdList.push(item.originalUnitId);\r\n                quondamUnitIdList.sort((a, b) => {\r\n                  return a - b;\r\n                });\r\n              });\r\n              if (JSON.stringify(selectedUnitIdList) == JSON.stringify(quondamUnitIdList)) {\r\n                this.$message({\r\n                  message: \"分配单位不能和原使用单位完全相同！\",\r\n                  type: \"warning\"\r\n                });\r\n                return\r\n              }\r\n            }\r\n\r\n            // 整合单位面积变化数据\r\n            let originalDistributedUnit = null;\r\n            let originalIdle = null;\r\n            const changeInfo = JSON.parse(JSON.stringify(this.Form));\r\n            const activeIdle = changeInfo.isIdle;\r\n            for (let i = 0; i < this.originalHouseList.length; i++) {\r\n              if (changeInfo.houseId === this.originalHouseList[i].houseId) {\r\n                originalDistributedUnit = this.originalHouseList[i].newConfUnitList;\r\n                originalIdle = this.originalHouseList[i].isIdle;\r\n                break;\r\n              }\r\n            }\r\n            if (this.distributeChangeObj[changeInfo.houseId] === undefined) {\r\n              this.distributeChangeObj[changeInfo.houseId] = {};\r\n              this.distributeChangeObj[changeInfo.houseId].remove = [];\r\n              this.distributeChangeObj[changeInfo.houseId].add = [];\r\n            }\r\n            if (originalIdle !== 0 && originalIdle !== 1) {\r\n              if (activeIdle === 0) {\r\n                // - 原单位\r\n                if (changeInfo.rent) {\r\n                  const removeObj = {};\r\n                  removeObj.unitNames = '出租';\r\n                  removeObj.useArea = `-${changeInfo.houseUseArea}` - 0;\r\n                  removeObj.houseNumber = -1;\r\n                  this.distributeChangeObj[changeInfo.houseId].remove = [];\r\n                  this.distributeChangeObj[changeInfo.houseId].remove.push(removeObj);\r\n                } else {\r\n                  let removeOriginalName = [];\r\n                  changeInfo.originalUnitList.forEach(originalUnit => {\r\n                    removeOriginalName.push(originalUnit.originalUnitName)\r\n                  });\r\n                  const removeObj = {};\r\n                  removeObj.unitNames = removeOriginalName.join(',');\r\n                  removeObj.useArea = `-${changeInfo.houseUseArea}` - 0;\r\n                  removeObj.houseNumber = -1;\r\n                  this.distributeChangeObj[changeInfo.houseId].remove = [];\r\n                  this.distributeChangeObj[changeInfo.houseId].remove.push(removeObj);\r\n                }\r\n                // + 闲置\r\n                const addObj = {};\r\n                addObj.unitNames = '闲置';\r\n                addObj.useArea = `${changeInfo.houseUseArea}` - 0;\r\n                addObj.houseNumber = +1;\r\n                this.distributeChangeObj[changeInfo.houseId].add = [];\r\n                this.distributeChangeObj[changeInfo.houseId].add.push(addObj);\r\n              } else if (activeIdle === 1) {\r\n                // - 原单位\r\n                if (changeInfo.rent) {\r\n                  const removeObj = {};\r\n                  removeObj.unitNames = '出租';\r\n                  removeObj.useArea = `-${changeInfo.houseUseArea}` - 0;\r\n                  removeObj.houseNumber = -1;\r\n                  this.distributeChangeObj[changeInfo.houseId].remove = [];\r\n                  this.distributeChangeObj[changeInfo.houseId].remove.push(removeObj);\r\n                } else {\r\n                  if (changeInfo.originalUnitList.length > 0) {\r\n                    let removeOriginalName = [];\r\n                    changeInfo.originalUnitList.forEach(originalUnit => {\r\n                      removeOriginalName.push(originalUnit.originalUnitName)\r\n                    });\r\n                    const removeObj = {};\r\n                    removeObj.unitNames = removeOriginalName.join(',');\r\n                    removeObj.useArea = `-${changeInfo.houseUseArea}` - 0;\r\n                    removeObj.houseNumber = -1;\r\n                    this.distributeChangeObj[changeInfo.houseId].remove = [];\r\n                    this.distributeChangeObj[changeInfo.houseId].remove.push(removeObj);\r\n                  } else {\r\n                    const removeObj = {};\r\n                    removeObj.unitNames = '闲置';\r\n                    removeObj.useArea = `-${changeInfo.houseUseArea}` - 0;\r\n                    removeObj.houseNumber = -1;\r\n                    this.distributeChangeObj[changeInfo.houseId].remove = [];\r\n                    this.distributeChangeObj[changeInfo.houseId].remove.push(removeObj);\r\n                  }\r\n                }\r\n                // + 新分配的单位\r\n                let addNewUnitName = [];\r\n                let selectedUnitIdList = changeInfo.selectedUnitIdList;\r\n                selectedUnitIdList = selectedUnitIdList.sort((a, b) => {\r\n                  return a - b;\r\n                });\r\n                selectedUnitIdList.forEach(item => {\r\n                  for (let i = 0; i < this.unitOptions.length; i++) {\r\n                    if (item === this.unitOptions[i].unitId) {\r\n                      addNewUnitName.push(this.unitOptions[i].unitName);\r\n                      break;\r\n                    }\r\n                  }\r\n                });\r\n                const addObj = {};\r\n                addObj.unitNames = addNewUnitName.join(',');\r\n                addObj.useArea = `${changeInfo.houseUseArea}` - 0;\r\n                addObj.houseNumber = +1;\r\n                this.distributeChangeObj[changeInfo.houseId].add = [];\r\n                this.distributeChangeObj[changeInfo.houseId].add.push(addObj);\r\n              }\r\n            } else if (originalIdle === 0) {\r\n              if (activeIdle === 1) {\r\n                // - 闲置\r\n                const removeObj = {};\r\n                removeObj.unitNames = '闲置';\r\n                removeObj.useArea = `-${changeInfo.houseUseArea}` - 0;\r\n                removeObj.houseNumber = -1;\r\n                this.distributeChangeObj[changeInfo.houseId].remove = [];\r\n                this.distributeChangeObj[changeInfo.houseId].remove.push(removeObj);\r\n                // + 新分配的单位\r\n                let addNewUnitName = [];\r\n                let selectedUnitIdList = changeInfo.selectedUnitIdList;\r\n                selectedUnitIdList = selectedUnitIdList.sort((a, b) => {\r\n                  return a - b;\r\n                });\r\n                selectedUnitIdList.forEach(item => {\r\n                  for (let i = 0; i < this.unitOptions.length; i++) {\r\n                    if (item === this.unitOptions[i].unitId) {\r\n                      addNewUnitName.push(this.unitOptions[i].unitName);\r\n                      break;\r\n                    }\r\n                  }\r\n                });\r\n                const addObj = {};\r\n                addObj.unitNames = addNewUnitName.join(',');\r\n                addObj.useArea = `${changeInfo.houseUseArea}` - 0;\r\n                addObj.houseNumber = +1;\r\n                this.distributeChangeObj[changeInfo.houseId].add = [];\r\n                this.distributeChangeObj[changeInfo.houseId].add.push(addObj);\r\n              }\r\n            } else if (originalIdle === 1) {\r\n              if (activeIdle === 0) {\r\n                // - 分配的单位（以前）\r\n                let removeOriginalName = [];\r\n                if (originalDistributedUnit.length > 0) {\r\n                  originalDistributedUnit.forEach(unit => {\r\n                    removeOriginalName.push(unit.newUnitName)\r\n                  });\r\n                }\r\n                const removeObj = {};\r\n                removeObj.unitNames = removeOriginalName.join(',');\r\n                removeObj.useArea = `-${changeInfo.houseUseArea}` - 0;\r\n                removeObj.houseNumber = -1;\r\n                this.distributeChangeObj[changeInfo.houseId].remove = [];\r\n                this.distributeChangeObj[changeInfo.houseId].remove.push(removeObj);\r\n                // + 闲置\r\n                const addObj = {};\r\n                addObj.unitNames = '闲置';\r\n                addObj.useArea = `${changeInfo.houseUseArea}` - 0;\r\n                addObj.houseNumber = +1;\r\n                this.distributeChangeObj[changeInfo.houseId].add = [];\r\n                this.distributeChangeObj[changeInfo.houseId].add.push(addObj);\r\n              } else if (activeIdle === 1) {\r\n                // - 分配的单位（以前）\r\n                let removeOriginalName = [];\r\n                if (originalDistributedUnit.length > 0) {\r\n                  originalDistributedUnit.forEach(unit => {\r\n                    removeOriginalName.push(unit.newUnitName)\r\n                  });\r\n                }\r\n                const removeObj = {};\r\n                removeObj.unitNames = removeOriginalName.join(',');\r\n                removeObj.useArea = `-${changeInfo.houseUseArea}` - 0;\r\n                removeObj.houseNumber = -1;\r\n                this.distributeChangeObj[changeInfo.houseId].remove = [];\r\n                this.distributeChangeObj[changeInfo.houseId].remove.push(removeObj);\r\n                // + 新分配的单位\r\n                let addNewUnitName = [];\r\n                let selectedUnitIdList = this.Form.selectedUnitIdList;\r\n                selectedUnitIdList = selectedUnitIdList.sort((a, b) => {\r\n                  return a - b;\r\n                });\r\n                selectedUnitIdList.forEach(item => {\r\n                  for (let i = 0; i < this.unitOptions.length; i++) {\r\n                    if (item === this.unitOptions[i].unitId) {\r\n                      addNewUnitName.push(this.unitOptions[i].unitName);\r\n                      break;\r\n                    }\r\n                  }\r\n                });\r\n                const addObj = {};\r\n                addObj.unitNames = addNewUnitName.join(',');\r\n                addObj.useArea = `${changeInfo.houseUseArea}` - 0;\r\n                addObj.houseNumber = +1;\r\n                this.distributeChangeObj[changeInfo.houseId].add = [];\r\n                this.distributeChangeObj[changeInfo.houseId].add.push(addObj);\r\n              }\r\n            }\r\n            this.getChangeData();\r\n\r\n            // 给图形添加修改的图标\r\n            const activeObject = this.canvas.getActiveObject();\r\n            const imgs = activeObject.getObjects('image');\r\n            const imgLen = imgs.length;\r\n            if (imgLen === 0) {\r\n              fabric.Image.fromURL(require('../../assets/imgs/modified-icon.png'), (img) => {\r\n                const obj_w = activeObject.width;\r\n                const obj_h = activeObject.height;\r\n                const img_w = img.width;\r\n                const img_h = img.height;\r\n                img.set({\r\n                  originX: 'center',\r\n                  originY: 'center',\r\n                  top: - (obj_h / 2) + (img_h / 2) + 1,\r\n                  left: obj_w / 2 - (img_w / 2) - 1\r\n                });\r\n                activeObject.add(img);\r\n                this.canvas.requestRenderAll();\r\n              })\r\n            }\r\n\r\n            // 保存数据到编辑的数组\r\n            const yardId = sessionStorage.getItem(\"yardId\");\r\n            const buildId = sessionStorage.getItem(\"buildId\");\r\n            const planId = sessionStorage.getItem(\"planId\");\r\n            const obj_1 = JSON.parse(JSON.stringify(this.Form));\r\n            if (obj_1.isIdle === 0) {\r\n              obj_1.selectedUnitIdList = [];\r\n            }\r\n            for (let i = 0; i < this.editHouseInfo.length; i++) {\r\n              if (this.editHouseInfo[i].houseId === obj_1.houseId) {\r\n                this.editHouseInfo.splice(i, 1);\r\n              }\r\n            }\r\n            this.editHouseInfo.push(obj_1);\r\n\r\n            // 保存数据到批量的数组\r\n            for (let i = 0; i < this.distributableList.length; i++) {\r\n              if (this.distributableList[i].houseId === obj_1.houseId) {\r\n                this.distributableList.splice(i, 1);\r\n              }\r\n            }\r\n            this.distributableList.push(obj_1);\r\n\r\n            // 保存数据到提交的数组\r\n            const obj_2 = JSON.parse(JSON.stringify(this.Form));\r\n            if (obj_2.isIdle === 0) {\r\n              obj_2.selectedUnitIdList = [];\r\n            }\r\n            let temp = {};\r\n            temp.buildId = buildId;\r\n            temp.yardId = yardId;\r\n            temp.planId = planId;\r\n            temp.houseId = obj_2.houseId;\r\n            temp.isIdle = obj_2.isIdle;\r\n            temp.configurePlanDataId = obj_2.configurePlanDataId || null;\r\n            temp.configurePlanOldUnits = [];\r\n            temp.configurePlanNewUnits = [];\r\n            temp.deleteCPNUnitIds = [];\r\n            temp.deleteCPOUnitIds = [];\r\n            let oldConfUnitList = [];\r\n            if (obj_2.selectedUnitIdList.length > 0) {\r\n              obj_2.selectedUnitIdList = obj_2.selectedUnitIdList.sort((a, b) => {\r\n                return a - b;\r\n              })\r\n            }\r\n            if (obj_2.newConfUnitList && obj_2.newConfUnitList.length > 0) {\r\n              obj_2.newConfUnitList.forEach(item => {\r\n                oldConfUnitList.push(item.newUnitId);\r\n              });\r\n              obj_2.newConfUnitList.forEach(item => {\r\n                if (obj_2.selectedUnitIdList.indexOf(item.newUnitId) === -1) {\r\n                  temp.deleteCPNUnitIds.push(item.configurePlanNewUnitId);\r\n                }\r\n              });\r\n            }\r\n            if (obj_2.selectedUnitIdList.length > 0) {\r\n              obj_2.selectedUnitIdList.forEach(item => {\r\n                if (oldConfUnitList.indexOf(item) === -1) {\r\n                  temp.configurePlanNewUnits.push({\r\n                    unitId: item\r\n                  })\r\n                }\r\n              })\r\n            }\r\n            if (obj_2.oldConfUnitList && obj_2.oldConfUnitList.length > 0) {\r\n              obj_2.oldConfUnitList.forEach(item => {\r\n                temp.deleteCPOUnitIds.push(item.configurePlanOldUnitId);\r\n              })\r\n            }\r\n            if (obj_2.originalUnitList && obj_2.originalUnitList.length > 0) {\r\n              obj_2.originalUnitList.forEach(item => {\r\n                temp.configurePlanOldUnits.push({\r\n                  unitId: item.originalUnitId\r\n                })\r\n              });\r\n            }\r\n            if (obj_2.isIdle === 0) {\r\n              temp.configurePlanNewUnits.push({\r\n                unitId: 0\r\n              })\r\n            };\r\n            if (obj_2.isUse === 0) {\r\n              temp.configurePlanOldUnits.push({\r\n                unitId: 0\r\n              })\r\n            }\r\n            for (let i = 0; i < this.saveFormList.length; i++) {\r\n              if (this.saveFormList[i].houseId === temp.houseId) {\r\n                this.saveFormList.splice(i, 1);\r\n              }\r\n            }\r\n            if (temp.deleteCPNUnitIds.length > 0 || temp.configurePlanNewUnits.length > 0 || this.oldIdle !== temp.isIdle) {\r\n              if (this.revertSaveList.indexOf(temp.configurePlanDataId) > -1) {\r\n                const index = this.revertSaveList.indexOf(temp.configurePlanDataId);\r\n                this.revertSaveList.splice(index, 1);\r\n              };\r\n              this.saveFormList.push(temp);\r\n            }\r\n            this.dialogVisible = false;\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 保存全部\r\n    allSave() {\r\n      const buildId = sessionStorage.getItem(\"buildId\");\r\n      const floorName = sessionStorage.getItem(\"floorName\");\r\n      const configureId = sessionStorage.getItem(\"configureId\");\r\n      const planId = sessionStorage.getItem(\"planId\");\r\n      if (!buildId || !floorName) {\r\n        this.$message({\r\n          message: \"请先选择楼层\",\r\n          type: \"warning\"\r\n        });\r\n        return false;\r\n      }\r\n      let saveObj = {};\r\n      saveObj.configureId = configureId;\r\n      saveObj.planId = planId;\r\n      saveObj.configurePlanDataList = this.saveFormList;\r\n      saveObj.configurePlanChangeDataList = this.distributeChangeList;\r\n      if (this.revertSaveList.length > 0) {\r\n        saveObj.deleteCPDIds = this.revertSaveList;\r\n      }\r\n      saveConfigurePlanData(saveObj).then(res => {\r\n        this.$message({\r\n          message: '保存成功',\r\n          type: \"success\"\r\n        });\r\n        this.saveFormList = [];\r\n        this.editHouseInfo = [];\r\n        this.revertSaveList = [];\r\n        this.originalHouseList = [];\r\n        this.distributableList = [];\r\n        this.distributableIdList = [];\r\n        this.selectedDistributeList = [];\r\n        this.distributeChangeList = [];\r\n        this.distributeChangeObj = {};\r\n        const buildId = sessionStorage.getItem('buildId') - 0;\r\n        const floorName = sessionStorage.getItem('floorName') - 0;\r\n        this.getallocationFloorInfo(buildId, floorName);\r\n        this.getOldChangeData();\r\n      }).catch(err => {\r\n        const msg = err.result ? err.result : '保存失败';\r\n        this.$message({\r\n          message: msg,\r\n          type: \"error\"\r\n        });\r\n        this.saveFormList = [];\r\n        this.editHouseInfo = [];\r\n        this.revertSaveList = [];\r\n        this.originalHouseList = [];\r\n        this.distributableList = [];\r\n        this.distributableIdList = [];\r\n        this.selectedDistributeList = [];\r\n        this.distributeChangeList = [];\r\n        this.distributeChangeObj = {};\r\n      })\r\n    },\r\n    // 去掉图标\r\n    removeIcon() {\r\n      const roomObj = this.canvas.getObjects('group');\r\n      roomObj.forEach(room => {\r\n        if (room.typeName === 'room') {\r\n          const image = room.getObjects('image');\r\n          if (image.length > 0) {\r\n            image.forEach(img => {\r\n              if (img.typeName === 'overproof' || img.typeName === 'isRecord') {\r\n                room.remove(img);\r\n                this.canvas.renderAll();\r\n              }\r\n            })\r\n          }\r\n        }\r\n      })\r\n      const buildId = sessionStorage.getItem('buildId');\r\n      const floorName = sessionStorage.getItem('floorName');\r\n      this.getallocationFloorInfo(buildId, floorName);\r\n    },\r\n    // 获取整层楼图形信息\r\n    getHouseGraphJson(buildId, floorName) {\r\n      getHouseGraphJson(buildId, floorName)\r\n        .then(res => {\r\n          this.canvas.loadFromJSON(res, this.removeIcon);\r\n          if (!this.showChangeDetail) {\r\n            this.showChangeDetail = true;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          const msg = err.result ? err.result : '暂无楼层图形';\r\n          this.$message({\r\n            message: msg,\r\n            type: \"warning\"\r\n          });\r\n          this.canvas.clear();\r\n        });\r\n    },\r\n    // 获取整层楼的房间信息\r\n    getallocationFloorInfo(buildId, floorName) {\r\n      this.originalHouseList = [];\r\n      this.distributableList = [];\r\n      this.distributableIdList = [];\r\n      this.selectedDistributeList = [];\r\n      const planId = sessionStorage.getItem('planId');\r\n      getallocationFloorInfo(buildId, floorName, planId).then(res => {\r\n        res.forEach(item => {\r\n          let obj = {\r\n            configurePlanDataId: null,\r\n            houseId: null,\r\n            houseNumber: null,\r\n            originalUnitNameList: '',\r\n            newUnitNameList: '',\r\n            houseUseArea: '',\r\n            housetypeName: '',\r\n            isIdle: null,\r\n            originalUnitList: [],\r\n            oldConfUnitList: [],\r\n            newConfUnitList: [],\r\n            selectedUnitIdList: [],\r\n            isUse: null,\r\n            applyStatus: null,\r\n            handleWay: null,\r\n            isIdleText: '',\r\n            rent: ''\r\n          }\r\n          for ([key, value] of Object.entries(item.allocationUnit)) {\r\n            if (obj[key] !== undefined) {\r\n              obj[key] = value;\r\n            }\r\n          }\r\n          if (item.allocationConf) {\r\n            for ([key, value] of Object.entries(item.allocationConf)) {\r\n              if (obj[key] !== undefined) {\r\n                obj[key] = value;\r\n              }\r\n            }\r\n          }\r\n\r\n          obj.newConfUnitList = item.newConfUnitList;\r\n          obj.oldConfUnitList = item.oldConfUnitList;\r\n          obj.isIdleText = (obj.isIdle === 0 || obj.isIdle === 1) ? '已调整' : '未调整';\r\n          let originalUnitName = [];\r\n          let newUnitName = [];\r\n\r\n          if (obj.rent) {\r\n            obj.originalUnitNameList = '出租'\r\n          } else {\r\n            if (obj.originalUnitList && obj.originalUnitList.length > 0) {\r\n              obj.originalUnitList.forEach(unit => {\r\n                originalUnitName.push(unit.originalUnitName);\r\n              });\r\n              obj.originalUnitNameList = originalUnitName.join(',');\r\n            } else {\r\n              obj.originalUnitNameList = '暂无'\r\n            }\r\n          }\r\n\r\n          if (obj.configurePlanDataId && obj.newConfUnitList.length > 0) {\r\n            obj.newConfUnitList.forEach(unit => {\r\n              obj.selectedUnitIdList.push(unit.newUnitId);\r\n              newUnitName.push(unit.newUnitName);\r\n            })\r\n            obj.newUnitNameList = originalUnitName.join(',');\r\n          } else {\r\n            obj.newUnitNameList = '暂无'\r\n          }\r\n\r\n          this.originalHouseList.push(obj);\r\n          const _obj = JSON.parse(JSON.stringify(obj));\r\n          this.distributableList.push(_obj)\r\n          this.distributableIdList.push(_obj.houseId);\r\n        })\r\n        // 已经修改过的添加图标\r\n        const roomObj = this.canvas.getObjects('group');\r\n        for (let i = 0; i < this.originalHouseList.length; i++) {\r\n          if (this.originalHouseList[i].isIdle === 1 || this.originalHouseList[i].isIdle === 0) {\r\n            for (let j = 0; j < roomObj.length; j++) {\r\n              const room = roomObj[j];\r\n              if (room.typeName === 'room') {\r\n                if (room.uuid === this.originalHouseList[i].houseId) {\r\n                  fabric.Image.fromURL(require('../../assets/imgs/modified-icon.png'), (img) => {\r\n                    const obj_w = room.width;\r\n                    const obj_h = room.height;\r\n                    const img_w = img.width;\r\n                    const img_h = img.height;\r\n                    img.set({\r\n                      originX: 'center',\r\n                      originY: 'center',\r\n                      top: - (obj_h / 2) + (img_h / 2) + 1,\r\n                      left: obj_w / 2 - (img_w / 2) - 1\r\n                    });\r\n                    room.add(img);\r\n                    this.canvas.requestRenderAll();\r\n                  });\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        // console.log('originalHouseList', this.originalHouseList);\r\n        // console.log('distributableList', this.distributableList);\r\n      }).catch(err => {\r\n        const msg = err.result ? err.result : '楼层房间数据获取失败';\r\n        this.$message({\r\n          message: msg,\r\n          type: \"warning\"\r\n        });\r\n      })\r\n    },\r\n    // 整合改变的数据\r\n    getChangeData() {\r\n      const obj = {};\r\n      let data = [];\r\n      let changeList = [];\r\n      this.distributeChangeList = JSON.parse(JSON.stringify(this.oldDistributeChangeList));\r\n      for (let key in this.distributeChangeObj) {\r\n        data.push.apply(data, this.distributeChangeObj[key].add);\r\n        data.push.apply(data, this.distributeChangeObj[key].remove);\r\n      }\r\n      if (data.length > 0) {\r\n        data.forEach(item => {\r\n          if (obj[item.unitNames] !== undefined) {\r\n            obj[item.unitNames].push(item);\r\n          } else {\r\n            obj[item.unitNames] = [];\r\n            obj[item.unitNames].push(item);\r\n          }\r\n        });\r\n        for (let key in obj) {\r\n          let itemObj = {};\r\n          let area = 0;\r\n          let num = 0;\r\n          let flag = true;\r\n          itemObj.unitNames = key;\r\n          obj[key].forEach(item => {\r\n            area += item.useArea;\r\n            num += item.houseNumber;\r\n          })\r\n          itemObj.useArea = area;\r\n          itemObj.houseNumber = num;\r\n          if (this.distributeChangeList.length > 0) {\r\n            for (let i = this.distributeChangeList.length - 1; i >= 0; i--) {\r\n              if (itemObj.unitNames === this.distributeChangeList[i].unitNames) {\r\n                flag = false;\r\n                this.distributeChangeList[i].useArea = itemObj.useArea + this.distributeChangeList[i].useArea;\r\n                this.distributeChangeList[i].houseNumber = itemObj.houseNumber + this.distributeChangeList[i].houseNumber;\r\n                if (this.distributeChangeList[i].useArea === 0 && this.distributeChangeList[i].houseNumber === 0) {\r\n                  this.distributeChangeList.splice(i, 1);\r\n                }\r\n              }\r\n            }\r\n          }\r\n          if (flag) {\r\n            changeList.push(itemObj)\r\n          }\r\n        }\r\n      }\r\n      this.distributeChangeList.push.apply(this.distributeChangeList, changeList);\r\n      this.distributeChangeList.forEach(item => {\r\n        item.useArea = item.useArea.toFixed(2);\r\n      })\r\n      // console.log('distributeChangeList', this.distributeChangeList);\r\n    },\r\n    // dialog打开的回调\r\n    dialogOpen() {\r\n      this.$nextTick(() => {\r\n        if (this.$refs[\"Form\"]) {\r\n          this.$refs[\"Form\"].clearValidate();\r\n        }\r\n      })\r\n    },\r\n    // 关闭模态框\r\n    dialogClosed() {\r\n      this.clearForm(this.Form);\r\n      this.currentUseState = false;\r\n      this.oldIdle = null;\r\n      this.distributeFlag = false;\r\n      this.isBatchDistribute = false;\r\n      this.selectedDistributeList = [];\r\n    },\r\n    // 获取数据类型\r\n    getDataType(obj) {\r\n      let typeArr = [\"String\", \"Object\", \"Number\", \"Array\", \"Date\"];\r\n      for (let name of typeArr) {\r\n        if (Object.prototype.toString.call(obj) === `[object ${name}]`) {\r\n          return name;\r\n        }\r\n      }\r\n    },\r\n    // 清空表单\r\n    clearForm(form) {\r\n      for (let key in form) {\r\n        let type = this.getDataType(form[key]);\r\n        if (type === \"String\") {\r\n          form[key] = \"\";\r\n        } else if (type === \"Array\") {\r\n          form[key] = [];\r\n        } else if (type === \"Object\") {\r\n          const keys = Object.keys(form[key]);\r\n          if (keys.length > 0) {\r\n            this.clearForm(form[key]);\r\n          } else {\r\n            form[key] = {};\r\n          }\r\n        } else {\r\n          form[key] = null;\r\n        }\r\n      }\r\n    },\r\n    // 只能输入正浮点数\r\n    limitFloat(key, flag) {\r\n      this.Form[key] = this.Form[key].replace(/[^\\d.]/g, '').replace(/\\.{2,}/g, '.').replace('.', '$#$').replace(/\\./g, '').replace('$#$', '.').replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/, '$1$2.$3').replace(/^\\./g, '')\r\n      if (flag && this.Form[key] !== '') {\r\n        this.Form[key] = (this.Form[key] - 0).toFixed(2);\r\n      }\r\n    },\r\n    // 选择需要分配的房间\r\n    handleSelectionChange(rows) {\r\n      this.selectedDistributeList = rows;\r\n    },\r\n    // 获取改变的数据\r\n    getOldChangeData() {\r\n      const plan = sessionStorage.getItem('planId') - 0;\r\n      getChangeData(plan).then(res => {\r\n        if (res) {\r\n          this.oldDistributeChangeList = res;\r\n          this.distributeChangeList = res;\r\n        }\r\n      }).catch(err => {\r\n        const msg = err.result ? err.result : '分配统计数据获取失败';\r\n        this.$message({\r\n          message: msg,\r\n          type: \"error\"\r\n        });\r\n      })\r\n    },\r\n    getRouterList() {\r\n      getRouterList()\r\n        .then(res => {\r\n          this.allNavList = res;\r\n        })\r\n        .catch(err => {\r\n          const msg = err.result ? err.result : '路由信息获取失败！';\r\n          this.$message({\r\n            message: msg,\r\n            type: \"error\"\r\n          });\r\n        });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.init();\r\n    });\r\n    eventBus.$off(\"getGraphJson\");\r\n    eventBus.$off(\"clearCanvas\");\r\n    eventBus.$off(\"showDistributeTips\");\r\n    eventBus.$off(\"collapse\");\r\n    eventBus.$on(\"getGraphJson\", obj => {\r\n      this.getHouseGraphJson(obj.buildId, obj.floorName);\r\n      if (obj.canDistributeOrSave === false) {\r\n        this.canDistributeOrSave = false;\r\n      } else {\r\n        this.canDistributeOrSave = true;\r\n      }\r\n      if (obj.notDistributeReason) {\r\n        this.notDistributeReason = obj.notDistributeReason;\r\n      }\r\n    });\r\n    eventBus.$on(\"clearCanvas\", () => {\r\n      if (this.canvas && this.canvas.clear) {\r\n        this.canvas.clear();\r\n      }\r\n      sessionStorage.removeItem(\"yardId\");\r\n      sessionStorage.removeItem(\"buildId\");\r\n      sessionStorage.removeItem(\"floorName\");\r\n    });\r\n    eventBus.$on(\"showDistributeTips\", (path, flag) => {\r\n      if (this.revertSaveList.length > 0 || this.saveFormList.length > 0) {\r\n        this.$confirm('当前楼层数据还未保存，可点击右下角保存按钮保存，如若切换楼层将清空刚才所编辑的数据，是否继续此操作？', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          sessionStorage.removeItem(\"yardId\");\r\n          sessionStorage.removeItem(\"buildId\");\r\n          sessionStorage.removeItem(\"floorName\");\r\n          if (path) {\r\n            this.$router.push(path);\r\n          }\r\n          if (flag) {\r\n            this.menuKey = this.$route.params.id;\r\n            for (let i = 0; i < this.allNavList.length; i++) {\r\n              if (this.allNavList[i].key === this.menuKey) {\r\n                this.navlist = this.allNavList[i].children;\r\n                this.$store.commit('changeNavList', this.navlist);\r\n              }\r\n            };\r\n          }\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消切换'\r\n          });\r\n        });\r\n      } else {\r\n        sessionStorage.removeItem(\"yardId\");\r\n        sessionStorage.removeItem(\"buildId\");\r\n        sessionStorage.removeItem(\"floorName\");\r\n        if (path) {\r\n          this.$router.push(path);\r\n        }\r\n        if (flag) {\r\n          this.menuKey = this.$route.params.id;\r\n          for (let i = 0; i < this.allNavList.length; i++) {\r\n            if (this.allNavList[i].key === this.menuKey) {\r\n              this.navlist = this.allNavList[i].children;\r\n              this.$store.commit('changeNavList', this.navlist);\r\n            }\r\n          };\r\n        }\r\n      }\r\n    });\r\n    eventBus.$on('collapse', () => {\r\n      setTimeout(() => {\r\n        this.setZoom();\r\n      }, 1000)\r\n    });\r\n    getUserUnitList().then(res => {\r\n      this.unitOptions = res;\r\n    }).catch(err => {\r\n      const msg = err.result ? err.result : '单位下拉选项获取失败';\r\n      this.$message({\r\n        message: msg,\r\n        type: \"error\"\r\n      });\r\n    })\r\n    this.getOldChangeData();\r\n    this.getRouterList();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n#roomDistributeView {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  overflow: hidden;\r\n}\r\n#roomDistributeView .canvasDiv {\r\n  width: 100%;\r\n  height: 100%;\r\n  background: url(\"../../assets/imgs/canvas_bg.png\") repeat;\r\n}\r\n#roomDistributeView .house-type-box {\r\n  position: absolute;\r\n  right: 20px;\r\n  bottom: 200px;\r\n}\r\n#roomDistributeView .house-type-box > ul > li {\r\n  line-height: 25px;\r\n}\r\n#roomDistributeView .house-type-box > ul > li > span {\r\n  display: inline-block;\r\n  width: 20px;\r\n  height: 15px;\r\n  position: relative;\r\n  top: 2px;\r\n}\r\n#roomDistributeView .btn-box > button {\r\n  position: absolute;\r\n  width: 110px;\r\n  height: 40px;\r\n  background: #3891e0;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n}\r\n#roomDistributeView .btn-box > button:hover {\r\n  background: #2378c4;\r\n}\r\n#roomDistributeView .btn-box > button.graph-btn {\r\n  right: 20px;\r\n  bottom: 30px;\r\n}\r\n#roomDistributeView .btn-box > .active {\r\n  background: #2378c4;\r\n}\r\n#roomDistributeView .plane {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n#roomDistributeView .base-info-title,\r\n#roomDistributeView .distribute-unit-title {\r\n  height: 32px;\r\n  line-height: 32px;\r\n  background-color: #bee2f3;\r\n}\r\n#roomDistributeView .el-dialog__body {\r\n  padding: 0;\r\n}\r\n#roomDistributeView .base-info-icon {\r\n  width: 16px;\r\n  height: 18px;\r\n  display: inline-block;\r\n  background: url(\"../../assets/imgs/base-info-icon.png\") no-repeat;\r\n  margin-left: 20px;\r\n  position: relative;\r\n  top: 3px;\r\n  background-size: contain;\r\n}\r\n#roomDistributeView .base-info-content {\r\n  padding: 20px;\r\n  overflow: hidden;\r\n}\r\n#roomDistributeView .grid-content {\r\n  overflow: hidden;\r\n}\r\n#roomDistributeView .grid-content > span.grid-content-title {\r\n  float: left;\r\n  display: block;\r\n  height: 20px;\r\n  line-height: 20px;\r\n  width: 78px;\r\n  text-align: right;\r\n  text-align: justify;\r\n  text-justify: distribute-all-lines;\r\n  text-align-last: justify;\r\n}\r\n#roomDistributeView .batch {\r\n  margin-bottom: 20px;\r\n}\r\n#roomDistributeView .batch > span {\r\n  width: 140px;\r\n}\r\n#roomDistributeView .grid-content > .room-table {\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  float: left;\r\n}\r\n#roomDistributeView .edit-info-icon {\r\n  width: 16px;\r\n  height: 16px;\r\n  display: inline-block;\r\n  background: url(\"../../assets/imgs/edit-icon.png\") no-repeat;\r\n  margin-left: 20px;\r\n  position: relative;\r\n  top: 3px;\r\n  background-size: contain;\r\n}\r\n#roomDistributeView .distribute-unit-content {\r\n  padding: 20px;\r\n}\r\n#roomDistributeView .unit-select-form-item .el-input__inner {\r\n  width: 300px;\r\n}\r\n#roomDistributeView .revocation-btn {\r\n  color: #409eff;\r\n  margin-left: 20px;\r\n  cursor: pointer;\r\n}\r\n#roomDistributeView .distribute-btn {\r\n  float: right;\r\n  margin-right: 20px;\r\n  cursor: pointer;\r\n  color: #1582d8;\r\n}\r\n#roomDistributeView .batch-distribute-btn {\r\n  bottom: 140px !important;\r\n}\r\n#roomDistributeView .batch-revert-btn {\r\n  bottom: 85px !important;\r\n}\r\n#roomDistributeView .change-detail-dialog {\r\n  width: 100%;\r\n  height: 4px;\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  background: #efefef;\r\n  z-index: 1000;\r\n  box-sizing: border-box;\r\n  border-top: 4px solid rgb(0, 79, 122);\r\n}\r\n#roomDistributeView .change-detail-content {\r\n  width: calc(100% - 30px);\r\n  height: calc(100% - 75px);\r\n  background: #fff;\r\n  margin: 0px 15px 15px 15px;\r\n  position: relative;\r\n}\r\n#roomDistributeView .change-detail-title {\r\n  width: calc(100% - 30px);\r\n  height: 35px;\r\n  line-height: 35px;\r\n  margin: 25px 15px 0px 15px;\r\n  color: rgb(4, 148, 230);\r\n  border-bottom: 1px solid rgb(4, 148, 230);\r\n  background: #fff;\r\n  padding-left: 20px;\r\n  box-sizing: border-box;\r\n  font-size: 16px;\r\n}\r\n#roomDistributeView .down-arrow-btn {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0;\r\n  left: 50%;\r\n  margin-left: -48px;\r\n}\r\n#roomDistributeView .top-arrow-btn {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: -22px;\r\n  left: 50%;\r\n  margin-left: -48px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/configManagement/graphRoomDistribute.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"roomDistributeView\"}},[_c('div',{staticClass:\"plane\"},[_c('div',{staticClass:\"canvasDiv\",on:{\"contextmenu\":function($event){$event.preventDefault();_vm.showContextMenu($event);}}},[_c('canvas',{attrs:{\"id\":\"c\"}},[_vm._v(\"请使用支持HTML5的浏览器\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"btn-box\"},[(_vm.canDistributeOrSave)?_c('button',{staticClass:\"graph-btn batch-distribute-btn\",on:{\"click\":_vm.batchDistribution}},[_vm._v(\"批量分配\")]):_vm._e(),_vm._v(\" \"),(_vm.canDistributeOrSave)?_c('button',{staticClass:\"graph-btn batch-revert-btn\",on:{\"click\":_vm.batchRevert}},[_vm._v(\"批量撤销\")]):_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"graph-btn\",on:{\"click\":_vm.allSave}},[_vm._v(\"保存\")])]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"close-on-click-modal\":false,\"width\":\"1100px\",\"center\":true},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"open\":_vm.dialogOpen,\"closed\":_vm.dialogClosed}},[_c('div',{staticClass:\"dialog-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',[_vm._v(\"房间信息\")])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-content\"},[_c('div',{staticClass:\"base-info-box\"},[_c('div',{staticClass:\"base-info-title\"},[_c('span',{staticClass:\"base-info-icon\"}),_vm._v(\" \"),_c('span',[_vm._v(\"基本信息\")])]),_vm._v(\" \"),(!_vm.isBatchDistribute)?_c('div',{staticClass:\"base-info-content\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content\"},[_c('span',{staticClass:\"grid-content-title\"},[_vm._v(\"使用单位：\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.Form.originalUnitNameList ? _vm.Form.originalUnitNameList : '暂无'))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content\"},[_c('span',{staticClass:\"grid-content-title\"},[_vm._v(\"房间号：\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.Form.houseNumber))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content\"},[_c('span',{staticClass:\"grid-content-title\"},[_vm._v(\"使用面积：\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.Form.houseUseArea)+\"m²\")])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content\"},[_c('span',{staticClass:\"grid-content-title\"},[_vm._v(\"房间类型：\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.Form.housetypeName))])])])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.isBatchDistribute)?_c('div',{staticClass:\"base-info-content\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"grid-content batch\"},[_c('span',[_vm._v(\"选择分配的房间：\")]),_vm._v(\" \"),_c('div',{staticClass:\"room-table\"},[_c('table-component',{attrs:{\"tableData\":_vm.selectedDistributeList,\"tableHeight\":200,\"tableCellPadding\":'0'},on:{\"select\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"prop\":\"houseNumber\",\"label\":\"房间号\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"originalUnitNameList\",\"label\":\"使用单位\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"houseUseArea\",\"label\":\"使用面积(m²)\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"housetypeName\",\"label\":\"房间类型\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"isIdleText\",\"label\":\"是否调整\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"newUnitNameList\",\"label\":\"已分配单位\",\"show-overflow-tooltip\":true}})],1)],1)])])],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"grid-content batch\"},[_c('span',[_vm._v(\"可分配的房间总面积：\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(this.totalRoomArea)+\"m²\")])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"grid-content batch\"},[_c('span',[_vm._v(\"可分配的房间总数量：\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(this.totalRoomNum))])])])],1)],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"distribute-unit-box\"},[_c('div',{staticClass:\"distribute-unit-title\"},[_c('span',{staticClass:\"edit-info-icon\"}),_vm._v(\" \"),_c('span',[_vm._v(\"使用情况\")]),_vm._v(\" \"),(!_vm.currentUseState && !_vm.distributeFlag)?_c('span',{staticClass:\"distribute-btn\",on:{\"click\":_vm.distributeStart}},[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\"调整\\n          \")]):_vm._e(),_vm._v(\" \"),(!_vm.currentUseState && _vm.distributeFlag)?_c('span',{staticClass:\"distribute-btn\",on:{\"click\":_vm.distributeEnd}},[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\"取消调整\\n          \")]):_vm._e()]),_vm._v(\" \"),(_vm.Form.isIdle !== null)?_c('div',{staticClass:\"distribute-unit-content\"},[_c('el-form',{ref:\"Form\",attrs:{\"model\":_vm.Form,\"rules\":_vm.rules,\"label-width\":\"78px\"}},[_c('el-form-item',{attrs:{\"label\":\"使用情况\",\"prop\":\"isIdle\"}},[_c('el-radio-group',{on:{\"change\":_vm.idleRadioChange},model:{value:(_vm.Form.isIdle),callback:function ($$v) {_vm.$set(_vm.Form, \"isIdle\", $$v)},expression:\"Form.isIdle\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"占用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"闲置\")])],1)],1),_vm._v(\" \"),(_vm.Form.isIdle===1)?_c('el-form-item',{staticClass:\"unit-select-form-item\",attrs:{\"label\":\"占用单位\",\"prop\":\"selectedUnitIdList\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择单位\"},model:{value:(_vm.Form.selectedUnitIdList),callback:function ($$v) {_vm.$set(_vm.Form, \"selectedUnitIdList\", $$v)},expression:\"Form.selectedUnitIdList\"}},_vm._l((_vm.unitOptions),function(item){return _c('el-option',{key:item.unitId,attrs:{\"label\":item.unitName,\"value\":item.unitId}})}))],1):_vm._e()],1)],1):_vm._e()])]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('cancel-btn',{attrs:{\"fontSize\":14},on:{\"clickBtn\":function($event){_vm.dialogVisible = false}}}),_vm._v(\" \"),_c('confirm-btn',{attrs:{\"fontSize\":14},on:{\"clickBtn\":function($event){_vm.submitForm('Form')}}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"house-type-box\"},[_c('ul',[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_vm._m(4),_vm._v(\" \"),_vm._m(5),_vm._v(\" \"),(_vm.PRO_TYPE !== 'gl')?_c('li',[_c('span',{staticStyle:{\"background\":\"#fe8200\"}}),_vm._v(\"\\n        租借用房\\n      \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showChangeDetail),expression:\"showChangeDetail\"}],staticClass:\"change-detail-dialog\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.expandChangeDetail),expression:\"!expandChangeDetail\"}],staticClass:\"top-arrow-btn\",on:{\"click\":_vm.changeBoxExpand}},[_c('img',{attrs:{\"src\":require(\"../../assets/imgs/top-arrow-btn.png\"),\"alt\":\"展开按钮\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expandChangeDetail),expression:\"expandChangeDetail\"}],staticClass:\"down-arrow-btn\",on:{\"click\":_vm.changeBoxCollapse}},[_c('img',{attrs:{\"src\":require(\"../../assets/imgs/down-arrow-btn.png\"),\"alt\":\"收缩按钮\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"change-detail-title\"},[_vm._v(\"分配统计\")]),_vm._v(\" \"),_c('div',{staticClass:\"change-detail-content\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.distributeChangeList,\"header-cell-style\":_vm.tableHeaderCellStyle,\"cell-style\":_vm.tableCellStyle,\"height\":_vm.tableHeight}},[_c('el-table-column',{attrs:{\"prop\":\"unitNames\",\"label\":\"单位名称\",\"header-align\":\"center\",\"align\":\"center\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"houseNumber\",\"label\":\"房间数量\",\"header-align\":\"center\",\"align\":\"center\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"useArea\",\"label\":\"面积(m²)\",\"header-align\":\"center\",\"align\":\"center\",\"show-overflow-tooltip\":true}})],1)],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',{staticStyle:{\"background\":\"#cccccc\"}}),_vm._v(\"\\n        未填写信息\\n      \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',{staticStyle:{\"background\":\"#21b124\"}}),_vm._v(\"\\n        办公室用房\\n      \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',{staticStyle:{\"background\":\"#f4e83b\"}}),_vm._v(\"\\n        服务用房\\n      \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',{staticStyle:{\"background\":\"#008aff\"}}),_vm._v(\"\\n        设备用房\\n      \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',{staticStyle:{\"background\":\"#12fff1\"}}),_vm._v(\"\\n        附属用房\\n      \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',{staticStyle:{\"background\":\"#ff01fd\"}}),_vm._v(\"\\n        业务用房\\n      \")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62d988ec\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/configManagement/graphRoomDistribute.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62d988ec\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./graphRoomDistribute.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./graphRoomDistribute.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./graphRoomDistribute.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62d988ec\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./graphRoomDistribute.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/configManagement/graphRoomDistribute.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAAASCAYAAADWvblEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3MUI3QjAxNjM1QUYxMUU5OUQ4NEI3OTQ1MjdCQzQ2QSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3MUI3QjAxNzM1QUYxMUU5OUQ4NEI3OTQ1MjdCQzQ2QSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjcxQjdCMDE0MzVBRjExRTk5RDg0Qjc5NDUyN0JDNDZBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjcxQjdCMDE1MzVBRjExRTk5RDg0Qjc5NDUyN0JDNDZBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+BENG0wAAAadJREFUeNpiZPCvYiASGAJxNxA7M4wCZLAXiEv/b2g9T4xiJiINzQDi46OBjRWAwuQ4Y0B1BrUCvAaIpwMx+2jY4gSgsJkODPQaSgM8E4ibR8OTaNAMDPRMcgPcBognj4YhyWAyMNBtSA1wQSBeDsTMg9VXfmaag9VpoDBbDgx0QVICvA+IZQarj7bXxTMsKghh2FgVO1idKAMNQ6IC3AqI4werT0CBbKEux3D69lMGO22FwRzo8cBUbkUowBmhMcM4WAMbFMjrT1xjcK2fx7Dj3K3BHOjgsAQGOiO+AA8DYvPBHNigQE6avBYsFtm7crAHujk0TLEGOKiwbxmMrl5REgEPbFAgIwPkQF9eHD4Ynd8CTOXM2AI8BIhVBptrQYHobqiKNbDRA93DSG0wBroKNGxRAhxUzlQMNpcaKkkxeBqr4Q1s5EDfe/EOWD1I3yADFbCynBE6eOUEHYRhGIyBfv7eM5qpp+eYy/8NrftgKTxrsLatSA28QRrY8DAGpXBQ/nsIxCyjvXKagj9ALA9K4dGjgU0XAArjaFCAx4yGBd1ADECAAQC7eXg7qjtHOwAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/top-arrow-btn.png\n// module id = evhW\n// module chunks = 8 16"],"sourceRoot":""}