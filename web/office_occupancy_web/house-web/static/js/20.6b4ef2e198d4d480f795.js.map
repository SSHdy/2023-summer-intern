{"version":3,"sources":["webpack:///./src/pages/dataReport/api.js","webpack:///src/pages/dataReport/dataReport.vue","webpack:///src/components/button/uploadBtn.vue","webpack:///./src/components/button/uploadBtn.vue?07e6","webpack:///./src/components/button/uploadBtn.vue","webpack:///./src/pages/dataReport/dataReport.vue?d318","webpack:///./src/pages/dataReport/dataReport.vue"],"names":["__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","resolve","reject","axios","post","url_name_1","then","response","err","currentPage","pageSize","reportYear","unitName","state","obj","method","url","responseType","data","addressList","__webpack_exports__","components","tablePagination","__WEBPACK_IMPORTED_MODULE_6__components_tableGroup_tablePagination__","tableComponent","__WEBPACK_IMPORTED_MODULE_5__components_table_table2_vue__","cancelBtn","__WEBPACK_IMPORTED_MODULE_7__components_button_cancelBtn__","confirmBtn","__WEBPACK_IMPORTED_MODULE_8__components_button_confirmBtn__","searchBtn","__WEBPACK_IMPORTED_MODULE_9__components_button_searchBtn__","resetBtn","__WEBPACK_IMPORTED_MODULE_10__components_button_resetBtn__","downloadBtn","__WEBPACK_IMPORTED_MODULE_11__components_button_downloadBtn__","uploadBtn","__WEBPACK_IMPORTED_MODULE_12__components_button_uploadBtn__","total","loading","tableHeight","selectData","tableData","dialogTitle","operateType","templateDialogVisible","uploadDialogVisible","stateOpts","id","name","templateCheckList","templateList","uploadUrl","__WEBPACK_IMPORTED_MODULE_4__axios_global__","acceptType","limit","fileList","uploadNum","uploadSuccessNum","submitFlag","token","postHeaders","Authorization","reportUploadForm","reportId","reportEnclosureName","reportEnclosurePhysicsUrl","reportEnclosureVirtualUrl","haveFile","isReported","reportUnitOpts","reportUploadRules","required","message","trigger","downloadDialogVisible","reportDownloadForm","reportDownloadRules","created","this","formatDate","Date","getTime","mounted","_this","getList","getDownloadTemplateList","sessionStorage","getItem","setTimeout","mainDivH","$","height","queryBoxH","outerHeight","operateBoxH","methods","loadingStart","classname","$loading","lock","text","spinner","target","customClass","loadingEnd","close","changeSize","size","changePage","page","_this2","Object","__WEBPACK_IMPORTED_MODULE_2__api__","res","records","catch","msg","result","$message","type","search","reset","handleSelectionChange","_this3","templateDialogOpen","templateDownLoad","console","log","window","open","uploadOpen","getAllReportUnitList","_this4","saveUploadData","_this5","submitUploadData","_this6","$refs","validate","valid","i","length","isReport","$confirm","confirmButtonText","cancelButtonText","upload","submit","beforeAvatarUpload","file","error","handleRemove","handleChange","handleExceed","warning","handleError","status","$store","dispatch","$router","push","path","handleSuccess","imgList","imgPath","imgUrl","downloadOpen","download","_this7","list","__webpack_require__","fileDownload","decodeURIComponent","clearForm","form","key","getDataType","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default","uploadDialogOpen","_this8","$nextTick","clearValidate","templateDialogClosed","uploadDialogClosed","downloadDialogClosed","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","next","done","value","prototype","toString","call","return","time","format","date","fmt","o","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","q+","Math","floor","S","getMilliseconds","k","test","replace","RegExp","$1","getFullYear","substr","props","String","default","fontSize","Number","marginLeft","padding","showIcon","Boolean","style","font-size","margin-left","directives","debounce","inserted","el","binding","timer","addEventListener","clearTimeout","clickBtn","$emit","button_uploadBtn","render","_h","$createElement","_c","_self","rawName","expression","staticClass","attrs","_e","_v","_s","staticRenderFns","Component","normalizeComponent","dataReport_dataReport","_vm","placeholder","value-format","model","callback","$$v","staticStyle","width","_l","item","label","trim","on","select","show-overflow-tooltip","prop","align","scopedSlots","_u","fn","scope","row","size-change","page-change","visible","close-on-click-modal","center","update:visible","$event","closed","slot","index","downloadTemplateVirtualUrl","downloadTemplateName","ref","rules","label-width","filterable","$set","reportUnitName","headers","action","file-list","auto-upload","accept","on-success","on-remove","on-change","on-error","on-exceed","before-upload","disabled","inline","__vue_styles__","ssrContext","dataReport"],"mappings":"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","file":"static/js/20.6b4ef2e198d4d480f795.js","sourcesContent":["import axios from '@/axios/index'\r\nimport { url_name_1 } from \"@/axios/global\"\r\n/**\r\n * 办公用房列表\r\n */\r\nexport function getYardUnitReportList() {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(`${url_name_1}/yard/yardUnitReport`, null).then(response => {\r\n      resolve(response);\r\n    }, err => {\r\n      reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * 业务用房列表\r\n */\r\nexport function getBusinessHouseList() {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(`${url_name_1}/reportUnit/businessHouse`, null).then(response => {\r\n      resolve(response);\r\n    }, err => {\r\n      reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * 建设项目列表\r\n */\r\nexport function getConstructHouseList() {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(`${url_name_1}/reportUnit/constructHouseList`, null).then(response => {\r\n      resolve(response);\r\n    }, err => {\r\n      reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * 查询单位上报列表\r\n * @param {Number} currentPage 当前页码\r\n * @param {Number} pageSize 每页显示个数\r\n * @param {Integer} reportYear 年度\r\n * @param {String} unitName 单位名称\r\n * @param {Integer} state 上报状态(0未上报  1已上报)\r\n */\r\nexport function getReportUnitList(currentPage, pageSize, reportYear, unitName, state) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(`${url_name_1}/reportUnit/reportUnitList`, {\r\n      currentPage: currentPage,\r\n      pageSize: pageSize,\r\n      reportYear: reportYear,\r\n      unitName: unitName,\r\n      state: state\r\n    }).then(response => {\r\n      resolve(response);\r\n    }, err => {\r\n      reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * 单位上报\r\n * @param {Object} obj 单位上报信息对象\r\n */\r\nexport function reportUnit(obj) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(`${url_name_1}/reportUnit/reportUnit`, obj).then(response => {\r\n      resolve(response);\r\n    }, err => {\r\n      reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * 下载模板列表\r\n */\r\nexport function getDownloadTemplateList() {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(`${url_name_1}/downloadTemplate/downloadTemplateList`).then(response => {\r\n      resolve(response);\r\n    }, err => {\r\n      reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * 查询行政区划信息\r\n */\r\nexport function selectDistInfo() {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(`${url_name_1}/distInformation/selectDistInfo`).then(response => {\r\n      resolve(response);\r\n    }, err => {\r\n      reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * 副省级城市数据上报信息导出\r\n * @param {Object} obj 上报信息对象\r\n */\r\nexport function exportDataExcel(obj) {\r\n  return new Promise((resolve, reject) => {\r\n    axios({\r\n      method: 'post',\r\n      url: `${url_name_1}/reportUnit/exportDataExcel`,\r\n      responseType: 'arraybuffer',\r\n      data: obj\r\n    }).then(response => {\r\n      resolve(response);\r\n    }, err => {\r\n      reject(err);\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * 查询所有单位集合\r\n */\r\nexport function getAllReportUnitList() {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(`${url_name_1}/reportUnit/unitList`, {}).then(response => {\r\n      resolve(response);\r\n    }, err => {\r\n      reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * 单位上报文件下载\r\n * @param {Array} addressList 下载文件集合\r\n */\r\nexport function downLoadReport(addressList) {\r\n  return new Promise((resolve, reject) => {\r\n    axios({\r\n      method: 'post',\r\n      url: `${url_name_1}/reportUnit/downLoad`,\r\n      responseType: 'arraybuffer',\r\n      data: {\r\n        addressList: addressList\r\n      }\r\n    }).then(response => {\r\n      resolve(response);\r\n    }, err => {\r\n      reject(err);\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * 查询所有单位上报文件按年份\r\n * @param {String} reportYear 上报年份\r\n */\r\nexport function getAllReportEnclosure(reportYear) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(`${url_name_1}/reportUnit/allReportEnclosure`, {\r\n      reportYear: reportYear\r\n    }).then(response => {\r\n      resolve(response);\r\n    }, err => {\r\n      reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dataReport/api.js","<template>\r\n  <div id=\"dataReport\">\r\n    <div class=\"query-box\" id=\"queryBox\">\r\n      <div class=\"clearfix\">\r\n        <div class=\"query-item\">\r\n          <div class=\"query-title\">年份：</div>\r\n          <div class=\"query-input\">\r\n            <el-date-picker\r\n              v-model=\"reportYear\"\r\n              type=\"year\"\r\n              placeholder=\"选择年份\"\r\n              format=\"yyyy 年\"\r\n              value-format=\"yyyy\"\r\n            ></el-date-picker>\r\n          </div>\r\n        </div>\r\n        <div class=\"query-item\" style=\"margin-left: 50px\">\r\n          <div class=\"query-title\">状态：</div>\r\n          <div class=\"query-input\">\r\n            <el-select\r\n              v-model=\"state\"\r\n              placeholder=\"请选择状态\"\r\n              style=\"width: 100%\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in stateOpts\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </div>\r\n        </div>\r\n        <div class=\"query-item\" style=\"margin-left: 50px\">\r\n          <div class=\"query-title\">单位名称：</div>\r\n          <div class=\"query-input\">\r\n            <el-input\r\n              v-model.trim=\"unitName\"\r\n              placeholder=\"请输入单位名称\"\r\n            ></el-input>\r\n          </div>\r\n        </div>\r\n        <div class=\"query-btn\">\r\n          <search-btn @clickBtn=\"search\"></search-btn>\r\n          <reset-btn @clickBtn=\"reset\"></reset-btn>\r\n          <download-btn\r\n            text=\"模板下载\"\r\n            :showIcon=\"true\"\r\n            :marginLeft=\"10\"\r\n            @clickBtn=\"templateDialogOpen\"\r\n          ></download-btn>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"table-box\">\r\n      <table-component\r\n        :tableData=\"tableData\"\r\n        :tableHeight=\"tableHeight\"\r\n        @select=\"handleSelectionChange\"\r\n      >\r\n        <!-- <el-table-column type=\"selection\" width=\"50\" align=\"center\"></el-table-column> -->\r\n        <el-table-column\r\n          :show-overflow-tooltip=\"true\"\r\n          prop=\"reportUnitName\"\r\n          label=\"单位名称\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          :show-overflow-tooltip=\"true\"\r\n          prop=\"isReport\"\r\n          label=\"上报状态\"\r\n          align=\"center\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <div>{{ scope.row.isReport === 1 ? \"已上报\" : \"未上报\" }}</div>\r\n          </template>\r\n        </el-table-column>\r\n      </table-component>\r\n      <div class=\"table-operate-box\" id=\"operateBox\">\r\n        <div class=\"operate-btn\">\r\n          <upload-btn\r\n            :fontSize=\"14\"\r\n            :marginLeft=\"0\"\r\n            padding=\"7px 10px\"\r\n            :showIcon=\"true\"\r\n            @clickBtn=\"uploadOpen\"\r\n          ></upload-btn>\r\n          <download-btn\r\n            :fontSize=\"14\"\r\n            padding=\"7px 10px\"\r\n            :showIcon=\"true\"\r\n            :marginLeft=\"10\"\r\n            @clickBtn=\"downloadOpen\"\r\n          ></download-btn>\r\n        </div>\r\n        <div class=\"operate-pager\">\r\n          <table-pagination\r\n            @size-change=\"changeSize\"\r\n            @page-change=\"changePage\"\r\n            :currentPage=\"currentPage\"\r\n            :pageSize=\"pageSize\"\r\n            :total=\"total\"\r\n          ></table-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 模板下载 -->\r\n    <el-dialog\r\n      :visible.sync=\"templateDialogVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      width=\"780px\"\r\n      @closed=\"templateDialogClosed\"\r\n      :center=\"true\"\r\n      class=\"template-dialog\"\r\n    >\r\n      <div slot=\"title\" class=\"dialog-title\">\r\n        <span>{{ dialogTitle }}</span>\r\n      </div>\r\n      <div class=\"dialog-content\">\r\n        <el-radio-group v-model=\"templateCheckList\">\r\n          <el-radio\r\n            v-for=\"(item, index) in templateList\"\r\n            :key=\"index\"\r\n            :label=\"item.downloadTemplateVirtualUrl\"\r\n            >{{ item.downloadTemplateName }}</el-radio\r\n          >\r\n        </el-radio-group>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <cancel-btn\r\n          @clickBtn=\"templateDialogVisible = false\"\r\n          :fontSize=\"14\"\r\n        ></cancel-btn>\r\n        <confirm-btn @clickBtn=\"templateDownLoad\" :fontSize=\"14\"></confirm-btn>\r\n      </span>\r\n    </el-dialog>\r\n    <!--/模板下载 -->\r\n    <!-- 上传 -->\r\n    <el-dialog\r\n      :visible.sync=\"uploadDialogVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      width=\"780px\"\r\n      @open=\"uploadDialogOpen\"\r\n      @closed=\"uploadDialogClosed\"\r\n      :center=\"true\"\r\n      class=\"upload-dialog\"\r\n    >\r\n      <div slot=\"title\" class=\"dialog-title\">\r\n        <span>{{ dialogTitle }}</span>\r\n      </div>\r\n      <div class=\"dialog-content\">\r\n        <el-form\r\n          :model=\"reportUploadForm\"\r\n          :rules=\"reportUploadRules\"\r\n          ref=\"reportUploadForm\"\r\n        >\r\n          <el-form-item label=\"上报单位：\" label-width=\"105px\" prop=\"reportId\">\r\n            <el-select\r\n              filterable\r\n              v-model=\"reportUploadForm.reportId\"\r\n              placeholder=\"请选择上报单位\"\r\n              style=\"width: 200px\"\r\n              size=\"small\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in reportUnitOpts\"\r\n                :key=\"item.reportId\"\r\n                :label=\"item.reportUnitName\"\r\n                :value=\"item.reportId\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"上传文件：\" label-width=\"105px\" prop=\"haveFile\">\r\n            <div class=\"report-file-upload\">\r\n              <el-upload\r\n                ref=\"upload\"\r\n                :headers=\"postHeaders\"\r\n                :action=\"uploadUrl\"\r\n                :file-list=\"fileList\"\r\n                :auto-upload=\"false\"\r\n                :accept=\"acceptType\"\r\n                :limit=\"limit\"\r\n                :on-success=\"handleSuccess\"\r\n                :on-remove=\"handleRemove\"\r\n                :on-change=\"handleChange\"\r\n                :on-error=\"handleError\"\r\n                :on-exceed=\"handleExceed\"\r\n                :before-upload=\"beforeAvatarUpload\"\r\n              >\r\n                <i class=\"iconfont upload-icon\">&#xe661;</i>\r\n                <el-button\r\n                  slot=\"trigger\"\r\n                  size=\"small\"\r\n                  type=\"primary\"\r\n                  :disabled=\"fileList.length === 1\"\r\n                  >点击选择文件</el-button\r\n                >\r\n              </el-upload>\r\n            </div>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <cancel-btn\r\n          @clickBtn=\"uploadDialogVisible = false\"\r\n          :fontSize=\"14\"\r\n        ></cancel-btn>\r\n        <confirm-btn @clickBtn=\"submitUploadData\" :fontSize=\"14\"></confirm-btn>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- /上传 -->\r\n    <!-- 下载 -->\r\n    <el-dialog\r\n      :visible.sync=\"downloadDialogVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      width=\"780px\"\r\n      @closed=\"downloadDialogClosed\"\r\n      :center=\"true\"\r\n      class=\"download-dialog\"\r\n    >\r\n      <div slot=\"title\" class=\"dialog-title\">\r\n        <span>{{ dialogTitle }}</span>\r\n      </div>\r\n      <div class=\"dialog-content\">\r\n        <el-form\r\n          :model=\"reportDownloadForm\"\r\n          :rules=\"reportDownloadRules\"\r\n          ref=\"reportDownloadForm\"\r\n          inline\r\n        >\r\n          <el-form-item\r\n            label=\"选择年份：\"\r\n            label-width=\"105px\"\r\n            prop=\"reportYear\"\r\n          >\r\n            <el-date-picker\r\n              v-model=\"reportDownloadForm.reportYear\"\r\n              type=\"year\"\r\n              placeholder=\"选择年份\"\r\n              format=\"yyyy 年\"\r\n              value-format=\"yyyy\"\r\n            ></el-date-picker>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <cancel-btn\r\n          @clickBtn=\"downloadDialogVisible = false\"\r\n          :fontSize=\"14\"\r\n        ></cancel-btn>\r\n        <confirm-btn @clickBtn=\"download\" :fontSize=\"14\"></confirm-btn>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- /下载 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getReportUnitList,\r\n  reportUnit,\r\n  getDownloadTemplateList,\r\n  getAllReportUnitList,\r\n  downLoadReport,\r\n  getAllReportEnclosure,\r\n} from \"./api\";\r\nimport { eventBus } from \"@/eventBus/eventBus\";\r\nimport { BASE_URL, url_name_1 } from \"@/axios/global\";\r\nimport tableComponent from \"@/components/table/table2.vue\";\r\nimport tablePagination from \"@/components/tableGroup/tablePagination\";\r\nimport cancelBtn from \"@/components/button/cancelBtn\";\r\nimport confirmBtn from \"@/components/button/confirmBtn\";\r\nimport searchBtn from \"@/components/button/searchBtn\";\r\nimport resetBtn from \"@/components/button/resetBtn\";\r\nimport downloadBtn from \"@/components/button/downloadBtn\";\r\nimport uploadBtn from \"@/components/button/uploadBtn\";\r\nexport default {\r\n  components: {\r\n    tablePagination,\r\n    tableComponent,\r\n    cancelBtn,\r\n    confirmBtn,\r\n    searchBtn,\r\n    resetBtn,\r\n    downloadBtn,\r\n    uploadBtn,\r\n  },\r\n  data() {\r\n    return {\r\n      reportYear: \"\",\r\n      unitName: \"\",\r\n      state: \"\",\r\n      currentPage: 1,\r\n      pageSize: 15,\r\n      total: 0,\r\n      loading: null,\r\n      tableHeight: 0,\r\n      selectData: [],\r\n      tableData: [],\r\n      dialogTitle: \"\",\r\n      operateType: \"add\",\r\n      templateDialogVisible: false,\r\n      uploadDialogVisible: false,\r\n      stateOpts: [\r\n        {\r\n          id: \"\",\r\n          name: \"全部\",\r\n        },\r\n        {\r\n          id: 1,\r\n          name: \"已上报\",\r\n        },\r\n        {\r\n          id: 0,\r\n          name: \"未上报\",\r\n        },\r\n      ],\r\n      templateCheckList: \"\",\r\n      templateList: [],\r\n      uploadUrl: `${BASE_URL}${url_name_1}/uploads/unitFile?uploadType=reportUnit`,\r\n      acceptType: \".xlsx,.xls\",\r\n      limit: 1,\r\n      fileList: [],\r\n      uploadNum: 0,\r\n      uploadSuccessNum: 0,\r\n      submitFlag: false,\r\n      token: \"\",\r\n      postHeaders: {\r\n        Authorization: \"\",\r\n      },\r\n      reportUploadForm: {\r\n        reportId: \"\",\r\n        reportEnclosureName: \"\",\r\n        reportEnclosurePhysicsUrl: \"\",\r\n        reportEnclosureVirtualUrl: \"\",\r\n        haveFile: \"\",\r\n      },\r\n      isReported: false,\r\n      reportUnitOpts: [],\r\n      reportUploadRules: {\r\n        reportId: [\r\n          { required: true, message: \"请选择上报单位\", trigger: \"change\" },\r\n        ],\r\n        haveFile: [\r\n          { required: true, message: \"请先上传文件\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      addressList: [],\r\n      downloadDialogVisible: false,\r\n      reportDownloadForm: {\r\n        reportYear: \"\",\r\n      },\r\n      reportDownloadRules: {\r\n        reportYear: [\r\n          { required: true, message: \"请先选择年份\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.reportYear = this.formatDate(new Date().getTime(), \"yyyy\");\r\n  },\r\n  mounted() {\r\n    this.getList();\r\n    this.getDownloadTemplateList();\r\n    this.token = sessionStorage.getItem(\"TOKEN\");\r\n    if (this.token) {\r\n      this.postHeaders.Authorization = `Bearer ${this.token}`;\r\n    }\r\n    setTimeout(() => {\r\n      let mainDivH = $(\"#mainDiv\").height();\r\n      let queryBoxH = $(\"#queryBox\").outerHeight(true);\r\n      let operateBoxH = $(\"#operateBox\").height();\r\n      this.tableHeight = mainDivH - queryBoxH - operateBoxH;\r\n    }, 1);\r\n  },\r\n  methods: {\r\n    // 开始加载\r\n    loadingStart(classname) {\r\n      if (!this.loading) {\r\n        this.loading = this.$loading({\r\n          lock: true,\r\n          text: \"正在加载...\",\r\n          spinner: \"el-icon-loading\",\r\n          target: classname,\r\n          customClass: \"loading-box\",\r\n        });\r\n      }\r\n    },\r\n    // 结束加载\r\n    loadingEnd() {\r\n      if (this.loading) {\r\n        this.loading.close();\r\n        this.loading = null;\r\n      }\r\n    },\r\n    // 改变页面条数\r\n    changeSize(size) {\r\n      this.pageSize = size;\r\n      this.getList();\r\n    },\r\n    // 改变页面页数\r\n    changePage(page) {\r\n      this.currentPage = page;\r\n      this.getList();\r\n    },\r\n    // 获取信息列表\r\n    getList() {\r\n      this.loadingStart(\".table-box\");\r\n      getReportUnitList(\r\n        this.currentPage,\r\n        this.pageSize,\r\n        this.reportYear,\r\n        this.unitName,\r\n        this.state\r\n      )\r\n        .then((res) => {\r\n          this.tableData = res.records;\r\n          this.total = res.total;\r\n          this.loadingEnd();\r\n        })\r\n        .catch((err) => {\r\n          this.loadingEnd();\r\n          const msg = err.result ? err.result : \"单位上报列表获取失败\";\r\n          this.$message({\r\n            message: msg,\r\n            type: \"error\",\r\n          });\r\n        });\r\n    },\r\n    // 查询信息\r\n    search() {\r\n      this.currentPage = 1;\r\n      this.getList();\r\n    },\r\n    // 重置\r\n    reset() {\r\n      this.currentPage = 1;\r\n      this.reportYear = this.formatDate(new Date().getTime(), \"yyyy\");\r\n      this.unitName = \"\";\r\n      this.state = \"\";\r\n      this.search();\r\n    },\r\n    // 获取选中的row\r\n    handleSelectionChange(data) {\r\n      this.selectData = data;\r\n    },\r\n    // 获取模板链接\r\n    getDownloadTemplateList() {\r\n      getDownloadTemplateList()\r\n        .then((res) => {\r\n          this.templateList = res;\r\n        })\r\n        .catch((err) => {\r\n          const msg = err.result ? err.result : \"模板链接获取失败\";\r\n          this.$message({\r\n            message: msg,\r\n            type: \"error\",\r\n          });\r\n        });\r\n    },\r\n    // 打开模板下载\r\n    templateDialogOpen() {\r\n      this.dialogTitle = \"模板下载\";\r\n      this.templateDialogVisible = true;\r\n    },\r\n    // 模板下载\r\n    templateDownLoad() {\r\n      if (this.templateCheckList) {\r\n        console.log(BASE_URL);\r\n        const url = `${BASE_URL}${url_name_1}${this.templateCheckList}`;\r\n        window.open(url, \"_self\");\r\n        this.$message({\r\n          message: \"下载成功！\",\r\n          type: \"success\",\r\n        });\r\n        this.templateDialogVisible = false;\r\n      } else {\r\n        this.$message({\r\n          message: \"请先选择一个模板！\",\r\n          type: \"warning\",\r\n        });\r\n      }\r\n    },\r\n    // 打开上传模态框\r\n    uploadOpen() {\r\n      this.dialogTitle = \"上传\";\r\n      this.uploadDialogVisible = true;\r\n      this.getAllReportUnitList();\r\n    },\r\n    // 获取上报单位列表\r\n    getAllReportUnitList() {\r\n      getAllReportUnitList()\r\n        .then((res) => {\r\n          this.reportUnitOpts = res;\r\n        })\r\n        .catch((err) => {\r\n          const msg = err.result ? err.result : \"上报单位获取失败\";\r\n          this.$message({\r\n            message: msg,\r\n            type: \"error\",\r\n          });\r\n        });\r\n    },\r\n    // 保存上传文件\r\n    saveUploadData() {\r\n      delete this.reportUploadForm.haveFile;\r\n      reportUnit(this.reportUploadForm)\r\n        .then((res) => {\r\n          this.$message({\r\n            message: \"上传成功\",\r\n            type: \"success\",\r\n          });\r\n          this.uploadDialogVisible = false;\r\n          this.getList();\r\n        })\r\n        .catch((err) => {\r\n          const msg = err.result ? err.result : \"上传失败\";\r\n          this.$message({\r\n            message: msg,\r\n            type: \"error\",\r\n          });\r\n        });\r\n    },\r\n    // 提交上传文件\r\n    submitUploadData() {\r\n      this.$refs.reportUploadForm.validate((valid) => {\r\n        if (valid) {\r\n          for (let i = 0; i < this.reportUnitOpts.length; i++) {\r\n            if (\r\n              this.reportUnitOpts[i].reportId === this.reportUploadForm.reportId\r\n            ) {\r\n              if (this.reportUnitOpts[i].isReport === 1) {\r\n                this.$confirm(\r\n                  \"该单位已有上报文件, 继续上传将覆盖已有文件，是否继续?\",\r\n                  \"提示\",\r\n                  {\r\n                    confirmButtonText: \"确定\",\r\n                    cancelButtonText: \"取消\",\r\n                    type: \"warning\",\r\n                  }\r\n                )\r\n                  .then(() => {\r\n                    this.$refs.upload.submit();\r\n                  })\r\n                  .catch(() => {\r\n                    this.$message({\r\n                      type: \"info\",\r\n                      message: \"已取消上传\",\r\n                    });\r\n                  });\r\n              } else {\r\n                this.$refs.upload.submit();\r\n              }\r\n              return false;\r\n            }\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 文件上传之前\r\n    beforeAvatarUpload(file) {\r\n      const isLt2M = file.size / 1024 / 1024 < 200;\r\n      if (!isLt2M) {\r\n        this.$message.error(\"上传文件大小不能超过200MB!\");\r\n        return false;\r\n      }\r\n    },\r\n    // 删除上传文件时钩子\r\n    handleRemove(file, fileList) {\r\n      this.uploadNum = fileList.length;\r\n      this.fileList = fileList;\r\n      this.reportUploadForm.haveFile = \"\";\r\n    },\r\n    // 上传文件改变时钩子\r\n    handleChange(file, fileList) {\r\n      this.uploadNum = fileList.length;\r\n      this.fileList = fileList;\r\n      if (fileList.length === 1) {\r\n        this.reportUploadForm.haveFile = file.name;\r\n      } else {\r\n        this.reportUploadForm.haveFile = \"\";\r\n      }\r\n    },\r\n    // 上传文件超出限制个数\r\n    handleExceed(file, fileList) {\r\n      this.$message.warning(`最多只能上传一个文件！`);\r\n    },\r\n    // 上传文件失败\r\n    handleError(err, file, fileList) {\r\n      if (err.status === 401) {\r\n        this.$store.dispatch(\"Logout\", this.token);\r\n        this.$router.push({ path: \"/login\" });\r\n      }\r\n      const msg = err.result ? err.result : \"上传失败\";\r\n      this.$message({\r\n        message: msg,\r\n        type: \"error\",\r\n      });\r\n    },\r\n    // 上传文件成功\r\n    handleSuccess(response, file, fileList) {\r\n      this.uploadSuccessNum++;\r\n      this.reportUploadForm.reportEnclosureName = file.name;\r\n      this.reportUploadForm.reportEnclosurePhysicsUrl =\r\n        response.imgList[0].imgPath;\r\n      this.reportUploadForm.reportEnclosureVirtualUrl =\r\n        response.imgList[0].imgUrl;\r\n      if (this.uploadSuccessNum === this.uploadNum) {\r\n        this.submitFlag = true;\r\n      }\r\n      if (this.submitFlag) {\r\n        this.saveUploadData();\r\n      }\r\n    },\r\n    // 打开下载模态框\r\n    downloadOpen() {\r\n      this.dialogTitle = \"下载\";\r\n      this.downloadDialogVisible = true;\r\n      this.reportDownloadForm.reportYear = this.formatDate(\r\n        new Date().getTime(),\r\n        \"yyyy\"\r\n      );\r\n    },\r\n    // 下载文件\r\n    download() {\r\n      this.$refs.reportDownloadForm.validate((valid) => {\r\n        if (valid) {\r\n          getAllReportEnclosure(this.reportDownloadForm.reportYear)\r\n            .then((list) => {\r\n              downLoadReport(list)\r\n                .then((res) => {\r\n                  let fileDownload = require(\"js-file-download\");\r\n                  let name = decodeURIComponent(\r\n                    sessionStorage.getItem(\"CADdownloadFileName\")\r\n                  );\r\n                  fileDownload(res, name);\r\n                  this.downloadDialogVisible = false;\r\n                })\r\n                .catch((err) => {\r\n                  const msg = err.result ? err.result : \"暂无上报文件！\";\r\n                  this.$message({\r\n                    message: msg,\r\n                    type: \"error\",\r\n                  });\r\n                });\r\n            })\r\n            .catch((err) => {\r\n              const msg = err.result ? err.result : \"年度上报文件获取失败\";\r\n              this.$message({\r\n                message: msg,\r\n                type: \"error\",\r\n              });\r\n            });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 清空表单\r\n    clearForm(form) {\r\n      for (let key in form) {\r\n        var type = this.getDataType(form[key]);\r\n        if (type === \"String\") {\r\n          form[key] = \"\";\r\n        } else if (type === \"Array\") {\r\n          form[key] = [];\r\n        } else if (type === \"Object\") {\r\n          const keys = Object.keys(form[key]);\r\n          if (keys.length > 0) {\r\n            this.clearForm(form[key]);\r\n          } else {\r\n            form[key] = {};\r\n          }\r\n        } else {\r\n          form[key] = null;\r\n        }\r\n      }\r\n    },\r\n    // dialog打开的回调\r\n    uploadDialogOpen() {\r\n      this.$nextTick(() => {\r\n        this.$refs.reportUploadForm.clearValidate();\r\n      });\r\n    },\r\n    // dialog关闭的回调\r\n    templateDialogClosed() {\r\n      this.templateCheckList = \"\";\r\n    },\r\n    uploadDialogClosed() {\r\n      this.clearForm(this.reportUploadForm);\r\n      this.reportUploadForm.haveFile = \"\";\r\n      this.fileList = [];\r\n      this.uploadNum = 0;\r\n      this.uploadSuccessNum = 0;\r\n      this.submitFlag = false;\r\n      this.isReported = false;\r\n    },\r\n    downloadDialogClosed() {\r\n      this.reportDownloadForm.reportYear = \"\";\r\n    },\r\n    // 获取数据类型\r\n    getDataType(obj) {\r\n      var typeArr = [\"String\", \"Object\", \"Number\", \"Array\", \"Function\"];\r\n      for (let name of typeArr) {\r\n        if (Object.prototype.toString.call(obj) === `[object ${name}]`) {\r\n          return name;\r\n        }\r\n      }\r\n    },\r\n    // 格式化时间\r\n    formatDate(time, format) {\r\n      var date = new Date(time);\r\n      var fmt = format ? format : \"yyyy-MM-dd\";\r\n      var o = {\r\n        \"M+\": date.getMonth() + 1, //月份\r\n        \"d+\": date.getDate(), //日\r\n        \"h+\": date.getHours(), //小时\r\n        \"m+\": date.getMinutes(), //分\r\n        \"s+\": date.getSeconds(), //秒\r\n        \"q+\": Math.floor((date.getMonth() + 3) / 3), //季度\r\n        S: date.getMilliseconds(), //毫秒\r\n      };\r\n      if (/(y+)/.test(fmt))\r\n        fmt = fmt.replace(\r\n          RegExp.$1,\r\n          (date.getFullYear() + \"\").substr(4 - RegExp.$1.length)\r\n        );\r\n      for (var k in o)\r\n        if (new RegExp(\"(\" + k + \")\").test(fmt))\r\n          fmt = fmt.replace(\r\n            RegExp.$1,\r\n            RegExp.$1.length == 1\r\n              ? o[k]\r\n              : (\"00\" + o[k]).substr((\"\" + o[k]).length)\r\n          );\r\n      return fmt;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#dataReport .query-box {\r\n  margin-bottom: 20px;\r\n}\r\n#dataReport .query-item {\r\n  font-size: 16px;\r\n  height: 32px;\r\n  line-height: 32px;\r\n  float: left;\r\n  width: 20%;\r\n}\r\n#dataReport .query-item > div {\r\n  float: left;\r\n}\r\n#dataReport .query-item > .query-input {\r\n  width: calc(100% - 80px);\r\n}\r\n#dataReport .query-item .el-date-editor.el-input,\r\n#dataReport .query-item .el-input__inner {\r\n  height: 32px;\r\n  line-height: 32px;\r\n  width: 100%;\r\n}\r\n#dataReport .query-btn {\r\n  float: right;\r\n  margin-left: 50px;\r\n}\r\n#dataReport .table-operate-box {\r\n  width: 100%;\r\n  height: 66px;\r\n  background: #d9eef6;\r\n  position: relative;\r\n}\r\n#dataReport .operate-btn {\r\n  position: absolute;\r\n  left: 19px;\r\n  top: 17px;\r\n}\r\n#dataReport .operate-pager {\r\n  position: absolute;\r\n  right: 19px;\r\n  top: 17px;\r\n}\r\n#dataReport .template-dialog .dialog-content,\r\n#dataReport .download-dialog .dialog-content {\r\n  text-align: center;\r\n}\r\n#dataReport .template-dialog .el-radio-group {\r\n  text-align: left;\r\n}\r\n#dataReport .template-dialog .el-radio {\r\n  display: block;\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n#dataReport .report-file-upload .el-upload {\r\n  margin-top: 40px;\r\n}\r\n#dataReport .report-file-upload {\r\n  position: relative;\r\n  min-width: 110px;\r\n}\r\n#dataReport .upload-icon {\r\n  font-size: 60px;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 20px;\r\n  color: #dfdfdf;\r\n}\r\n#dataReport .download-dialog .el-form-item .el-input__inner {\r\n  width: auto;\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/dataReport/dataReport.vue","<template>\r\n  <el-button class=\"upload-btn\" type=\"primary\" size=\"medium\" :style=\"style\" v-debounce=\"clickBtn\">\r\n    <i class=\"el-icon-upload2\" v-if=\"showIcon\"></i>\r\n    {{text}}\r\n  </el-button>\r\n</template>\r\n                                                                                                                                                         \r\n<script>\r\nexport default {\r\n  props: {\r\n    text: {\r\n      type: String,\r\n      default: \"上传\"\r\n    },\r\n    fontSize: {\r\n      type: Number,\r\n      default: 16\r\n    },\r\n    marginLeft: {\r\n      type: Number,\r\n      default: 180\r\n    },\r\n    padding: {\r\n      type: String,\r\n      default: \"7px 22px\"\r\n    },\r\n    showIcon: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      style: {\r\n        \"padding\": this.padding,\r\n        \"font-size\": `${this.fontSize}px`,\r\n        \"margin-left\": `${this.marginLeft}px`\r\n      }\r\n    };\r\n  },\r\n  directives: {\r\n    debounce: {\r\n      inserted: (el, binding) => {\r\n        let timer;\r\n        el.addEventListener('click', () => {\r\n          if (timer) {\r\n            clearTimeout(timer)\r\n          }\r\n          timer = setTimeout(() => {\r\n            binding.value()\r\n          }, 300)\r\n        })\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    clickBtn() {\r\n      this.$emit(\"clickBtn\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/button/uploadBtn.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-button',{directives:[{name:\"debounce\",rawName:\"v-debounce\",value:(_vm.clickBtn),expression:\"clickBtn\"}],staticClass:\"upload-btn\",style:(_vm.style),attrs:{\"type\":\"primary\",\"size\":\"medium\"}},[(_vm.showIcon)?_c('i',{staticClass:\"el-icon-upload2\"}):_vm._e(),_vm._v(\"\\n  \"+_vm._s(_vm.text)+\"\\n\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a4a098a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/button/uploadBtn.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./uploadBtn.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./uploadBtn.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a4a098a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./uploadBtn.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/button/uploadBtn.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"dataReport\"}},[_c('div',{staticClass:\"query-box\",attrs:{\"id\":\"queryBox\"}},[_c('div',{staticClass:\"clearfix\"},[_c('div',{staticClass:\"query-item\"},[_c('div',{staticClass:\"query-title\"},[_vm._v(\"年份：\")]),_vm._v(\" \"),_c('div',{staticClass:\"query-input\"},[_c('el-date-picker',{attrs:{\"type\":\"year\",\"placeholder\":\"选择年份\",\"format\":\"yyyy 年\",\"value-format\":\"yyyy\"},model:{value:(_vm.reportYear),callback:function ($$v) {_vm.reportYear=$$v},expression:\"reportYear\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"query-item\",staticStyle:{\"margin-left\":\"50px\"}},[_c('div',{staticClass:\"query-title\"},[_vm._v(\"状态：\")]),_vm._v(\" \"),_c('div',{staticClass:\"query-input\"},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择状态\"},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}},_vm._l((_vm.stateOpts),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"query-item\",staticStyle:{\"margin-left\":\"50px\"}},[_c('div',{staticClass:\"query-title\"},[_vm._v(\"单位名称：\")]),_vm._v(\" \"),_c('div',{staticClass:\"query-input\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入单位名称\"},model:{value:(_vm.unitName),callback:function ($$v) {_vm.unitName=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"unitName\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"query-btn\"},[_c('search-btn',{on:{\"clickBtn\":_vm.search}}),_vm._v(\" \"),_c('reset-btn',{on:{\"clickBtn\":_vm.reset}}),_vm._v(\" \"),_c('download-btn',{attrs:{\"text\":\"模板下载\",\"showIcon\":true,\"marginLeft\":10},on:{\"clickBtn\":_vm.templateDialogOpen}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"table-box\"},[_c('table-component',{attrs:{\"tableData\":_vm.tableData,\"tableHeight\":_vm.tableHeight},on:{\"select\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"prop\":\"reportUnitName\",\"label\":\"单位名称\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"prop\":\"isReport\",\"label\":\"上报状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.isReport === 1 ? \"已上报\" : \"未上报\"))])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"table-operate-box\",attrs:{\"id\":\"operateBox\"}},[_c('div',{staticClass:\"operate-btn\"},[_c('upload-btn',{attrs:{\"fontSize\":14,\"marginLeft\":0,\"padding\":\"7px 10px\",\"showIcon\":true},on:{\"clickBtn\":_vm.uploadOpen}}),_vm._v(\" \"),_c('download-btn',{attrs:{\"fontSize\":14,\"padding\":\"7px 10px\",\"showIcon\":true,\"marginLeft\":10},on:{\"clickBtn\":_vm.downloadOpen}})],1),_vm._v(\" \"),_c('div',{staticClass:\"operate-pager\"},[_c('table-pagination',{attrs:{\"currentPage\":_vm.currentPage,\"pageSize\":_vm.pageSize,\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"page-change\":_vm.changePage}})],1)])],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"template-dialog\",attrs:{\"visible\":_vm.templateDialogVisible,\"close-on-click-modal\":false,\"width\":\"780px\",\"center\":true},on:{\"update:visible\":function($event){_vm.templateDialogVisible=$event},\"closed\":_vm.templateDialogClosed}},[_c('div',{staticClass:\"dialog-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',[_vm._v(_vm._s(_vm.dialogTitle))])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-content\"},[_c('el-radio-group',{model:{value:(_vm.templateCheckList),callback:function ($$v) {_vm.templateCheckList=$$v},expression:\"templateCheckList\"}},_vm._l((_vm.templateList),function(item,index){return _c('el-radio',{key:index,attrs:{\"label\":item.downloadTemplateVirtualUrl}},[_vm._v(_vm._s(item.downloadTemplateName))])}))],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('cancel-btn',{attrs:{\"fontSize\":14},on:{\"clickBtn\":function($event){_vm.templateDialogVisible = false}}}),_vm._v(\" \"),_c('confirm-btn',{attrs:{\"fontSize\":14},on:{\"clickBtn\":_vm.templateDownLoad}})],1)]),_vm._v(\" \"),_c('el-dialog',{staticClass:\"upload-dialog\",attrs:{\"visible\":_vm.uploadDialogVisible,\"close-on-click-modal\":false,\"width\":\"780px\",\"center\":true},on:{\"update:visible\":function($event){_vm.uploadDialogVisible=$event},\"open\":_vm.uploadDialogOpen,\"closed\":_vm.uploadDialogClosed}},[_c('div',{staticClass:\"dialog-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',[_vm._v(_vm._s(_vm.dialogTitle))])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-content\"},[_c('el-form',{ref:\"reportUploadForm\",attrs:{\"model\":_vm.reportUploadForm,\"rules\":_vm.reportUploadRules}},[_c('el-form-item',{attrs:{\"label\":\"上报单位：\",\"label-width\":\"105px\",\"prop\":\"reportId\"}},[_c('el-select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"placeholder\":\"请选择上报单位\",\"size\":\"small\"},model:{value:(_vm.reportUploadForm.reportId),callback:function ($$v) {_vm.$set(_vm.reportUploadForm, \"reportId\", $$v)},expression:\"reportUploadForm.reportId\"}},_vm._l((_vm.reportUnitOpts),function(item){return _c('el-option',{key:item.reportId,attrs:{\"label\":item.reportUnitName,\"value\":item.reportId}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上传文件：\",\"label-width\":\"105px\",\"prop\":\"haveFile\"}},[_c('div',{staticClass:\"report-file-upload\"},[_c('el-upload',{ref:\"upload\",attrs:{\"headers\":_vm.postHeaders,\"action\":_vm.uploadUrl,\"file-list\":_vm.fileList,\"auto-upload\":false,\"accept\":_vm.acceptType,\"limit\":_vm.limit,\"on-success\":_vm.handleSuccess,\"on-remove\":_vm.handleRemove,\"on-change\":_vm.handleChange,\"on-error\":_vm.handleError,\"on-exceed\":_vm.handleExceed,\"before-upload\":_vm.beforeAvatarUpload}},[_c('i',{staticClass:\"iconfont upload-icon\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\",\"disabled\":_vm.fileList.length === 1},slot:\"trigger\"},[_vm._v(\"点击选择文件\")])],1)],1)])],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('cancel-btn',{attrs:{\"fontSize\":14},on:{\"clickBtn\":function($event){_vm.uploadDialogVisible = false}}}),_vm._v(\" \"),_c('confirm-btn',{attrs:{\"fontSize\":14},on:{\"clickBtn\":_vm.submitUploadData}})],1)]),_vm._v(\" \"),_c('el-dialog',{staticClass:\"download-dialog\",attrs:{\"visible\":_vm.downloadDialogVisible,\"close-on-click-modal\":false,\"width\":\"780px\",\"center\":true},on:{\"update:visible\":function($event){_vm.downloadDialogVisible=$event},\"closed\":_vm.downloadDialogClosed}},[_c('div',{staticClass:\"dialog-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',[_vm._v(_vm._s(_vm.dialogTitle))])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-content\"},[_c('el-form',{ref:\"reportDownloadForm\",attrs:{\"model\":_vm.reportDownloadForm,\"rules\":_vm.reportDownloadRules,\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"选择年份：\",\"label-width\":\"105px\",\"prop\":\"reportYear\"}},[_c('el-date-picker',{attrs:{\"type\":\"year\",\"placeholder\":\"选择年份\",\"format\":\"yyyy 年\",\"value-format\":\"yyyy\"},model:{value:(_vm.reportDownloadForm.reportYear),callback:function ($$v) {_vm.$set(_vm.reportDownloadForm, \"reportYear\", $$v)},expression:\"reportDownloadForm.reportYear\"}})],1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('cancel-btn',{attrs:{\"fontSize\":14},on:{\"clickBtn\":function($event){_vm.downloadDialogVisible = false}}}),_vm._v(\" \"),_c('confirm-btn',{attrs:{\"fontSize\":14},on:{\"clickBtn\":_vm.download}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ba936032\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/dataReport/dataReport.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ba936032\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./dataReport.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./dataReport.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./dataReport.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ba936032\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./dataReport.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/dataReport/dataReport.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}