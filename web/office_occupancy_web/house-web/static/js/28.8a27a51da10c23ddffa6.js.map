{"version":3,"sources":["webpack:///./src/pages/useManagement/spareRoom.vue?3514","webpack:///./src/pages/useManagement/spareRoom.vue","webpack:///src/pages/useManagement/spareRoom.vue"],"names":["useManagement_spareRoom","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","_v","placeholder","model","value","callback","$$v","housetypeId","expression","_l","item","key","label","housetypeName","staticStyle","margin-left","filterable","multiple","unitIdList","unitId","unitName","treeShow","inputWidth","inputHeight","on","loadNode","loadNodes","handleCheckChange","handleNodeExpand","clickBtn","search","reset","tableData","tableHeight","select","handleSelectionChange","type","width","align","prop","show-overflow-tooltip","_s","total","houseUseAreaSum","houseBuildAreaSum","currentPage","pageSize","size-change","changeSize","page-change","changePage","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","spareRoom","__webpack_exports__","components","searchBtn","__WEBPACK_IMPORTED_MODULE_4__components_button_searchBtn__","resetBtn","__WEBPACK_IMPORTED_MODULE_5__components_button_resetBtn__","treeSelect","__WEBPACK_IMPORTED_MODULE_6__components_treeSelect_treeSelect_2__","tableBtnGroup","__WEBPACK_IMPORTED_MODULE_8__components_tableGroup_tableBtnGroup__","tablePagination","__WEBPACK_IMPORTED_MODULE_9__components_tableGroup_tablePagination__","tableComponent","__WEBPACK_IMPORTED_MODULE_7__components_table_table2_vue__","data","unitArr","unitOptions","form","yardId","buildId","floorName","houseId","loading","address","created","getHouseType","methods","loadingStart","classname","$loading","lock","text","spinner","target","customClass","loadingEnd","close","selectData","getUnit","_this","Object","__WEBPACK_IMPORTED_MODULE_0__api__","then","res","size","getList","page","__WEBPACK_IMPORTED_MODULE_3__eventBus_eventBus__","$emit","_this2","__WEBPACK_IMPORTED_MODULE_2__axios_commonApi__","_this3","toFixed","spareRoomDtoPage","records","length","forEach","useBuildArea","houseUseArea","houseBuildAreas","buildCoe","catch","err","msg","result","$message","message","node","resolve","_this4","level","__WEBPACK_IMPORTED_MODULE_1__home_api__","expand","undefined","leaf","setTimeout","_tempObj","id_yard","id_build","_tempObj2","id_floor","_tempObj3","id_house","tempObj","repairRemind_buildId","sessionStorage","getItem","currentLevel","setItem","mounted","_this5","mainDivH","$","height","queryBoxH","outerHeight","operateBoxH"],"mappings":"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","file":"static/js/28.8a27a51da10c23ddffa6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"spareRoom\"}},[_c('div',{staticClass:\"query-box\",attrs:{\"id\":\"queryBox\"}},[_c('div',{staticClass:\"clearfix\"},[_c('div',{staticClass:\"query-item\"},[_c('div',{staticClass:\"query-title\"},[_vm._v(\"房屋类型：\")]),_vm._v(\" \"),_c('div',{staticClass:\"query-input\"},[_c('el-select',{attrs:{\"placeholder\":\"请选择房屋类型\"},model:{value:(_vm.housetypeId),callback:function ($$v) {_vm.housetypeId=$$v},expression:\"housetypeId\"}},_vm._l((_vm.unitOptions),function(item){return _c('el-option',{key:item.housetypeId,attrs:{\"label\":item.housetypeName,\"value\":item.housetypeId}})}))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"query-item\",staticStyle:{\"margin-left\":\"50px\"}},[_c('div',{staticClass:\"query-title\"},[_vm._v(\"单位名称：\")]),_vm._v(\" \"),_c('div',{staticClass:\"query-input\"},[_c('el-select',{attrs:{\"filterable\":\"\",\"multiple\":\"\",\"placeholder\":\"请选择单位名称\"},model:{value:(_vm.unitIdList),callback:function ($$v) {_vm.unitIdList=$$v},expression:\"unitIdList\"}},_vm._l((_vm.unitArr),function(item){return _c('el-option',{key:item.unitId,attrs:{\"label\":item.unitName,\"value\":item.unitId}})}))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"query-item\",staticStyle:{\"margin-left\":\"50px\"}},[_c('div',{staticClass:\"query-title\"},[_vm._v(\"位置：\")]),_vm._v(\" \"),_c('div',{staticClass:\"query-input\"},[_c('tree-select',{attrs:{\"treeShow\":_vm.treeShow,\"inputWidth\":'100%',\"inputHeight\":'34px'},on:{\"loadNode\":_vm.loadNodes,\"handleCheckChange\":_vm.handleCheckChange,\"handleNodeExpand\":_vm.handleNodeExpand}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"query-btn\"},[_c('search-btn',{on:{\"clickBtn\":_vm.search}}),_vm._v(\" \"),_c('reset-btn',{on:{\"clickBtn\":_vm.reset}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"table-box\"},[_c('table-component',{attrs:{\"tableData\":_vm.tableData,\"tableHeight\":_vm.tableHeight},on:{\"select\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\",\"label\":\"编号\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"position\",\"label\":\"位置\",\"align\":\"center\"}},_vm._l((_vm.address),function(item){return _c('el-table-column',{key:item.id,attrs:{\"label\":item.label,\"align\":\"center\",\"prop\":item.prop,\"width\":item.width,\"show-overflow-tooltip\":true}})})),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"houseUseArea\",\"label\":\"使用面积(m²)\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"houseBuildAreas\",\"label\":\"建筑面积(m²)\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"housetypeName\",\"label\":\"房屋类型\",\"align\":\"center\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"table-operate-box\",attrs:{\"id\":\"operateBox\"}},[_c('div',{staticClass:\"operate-btn\"},[_vm._v(\"\\n        总计  \\n        \"),_c('span',[_vm._v(\"房间数量:\"+_vm._s(_vm.total))]),_vm._v(\" \"),_c('span',[_vm._v(\"使用面积:\"+_vm._s(_vm.houseUseAreaSum)+\"m²\")]),_vm._v(\" \"),_c('span',[_vm._v(\"建筑面积:\"+_vm._s(_vm.houseBuildAreaSum)+\"m²\")])]),_vm._v(\" \"),_c('div',{staticClass:\"operate-pager\"},[_c('table-pagination',{attrs:{\"currentPage\":_vm.currentPage,\"pageSize\":_vm.pageSize,\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"page-change\":_vm.changePage}})],1)])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e587621\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/useManagement/spareRoom.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e587621\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./spareRoom.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./spareRoom.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./spareRoom.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e587621\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./spareRoom.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/useManagement/spareRoom.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"spareRoom\">\r\n    <div class=\"query-box\" id=\"queryBox\">\r\n      <div class=\"clearfix\">\r\n        <div class=\"query-item\">\r\n          <div class=\"query-title\">房屋类型：</div>\r\n          <div class=\"query-input\">\r\n            <el-select v-model=\"housetypeId\" placeholder=\"请选择房屋类型\">\r\n              <el-option\r\n                v-for=\"item in unitOptions\"\r\n                :key=\"item.housetypeId\"\r\n                :label=\"item.housetypeName\"\r\n                :value=\"item.housetypeId\"\r\n              ></el-option>\r\n            </el-select>\r\n          </div>\r\n        </div>\r\n        <div class=\"query-item\" style=\"margin-left:50px\">\r\n          <div class=\"query-title\">单位名称：</div>\r\n          <div class=\"query-input\">\r\n            <el-select v-model=\"unitIdList\" filterable multiple placeholder=\"请选择单位名称\">\r\n              <el-option\r\n                v-for=\"item in unitArr\"\r\n                :key=\"item.unitId\"\r\n                :label=\"item.unitName\"\r\n                :value=\"item.unitId\"\r\n              ></el-option>\r\n            </el-select>\r\n          </div>\r\n        </div>\r\n        <div class=\"query-item\" style=\"margin-left:50px\">\r\n          <div class=\"query-title\">位置：</div>\r\n          <div class=\"query-input\">\r\n            <tree-select\r\n              @loadNode=\"loadNodes\"\r\n              @handleCheckChange=\"handleCheckChange\"\r\n              @handleNodeExpand=\"handleNodeExpand\"\r\n              :treeShow=\"treeShow\"\r\n              :inputWidth=\"'100%'\"\r\n              :inputHeight=\"'34px'\"\r\n            ></tree-select>\r\n          </div>\r\n        </div>\r\n        <div class=\"query-btn\">\r\n          <search-btn @clickBtn=\"search\"></search-btn>\r\n          <reset-btn @clickBtn=\"reset\"></reset-btn>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"table-box\">\r\n      <table-component\r\n        :tableData=\"tableData\"\r\n        :tableHeight=\"tableHeight\"\r\n        @select=\"handleSelectionChange\"\r\n      >\r\n        <el-table-column type=\"index\" width=\"50\" label=\"编号\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"position\" label=\"位置\" align=\"center\">\r\n          <el-table-column\r\n            v-for=\"item in address\"\r\n            :label=\"item.label\"\r\n            align=\"center\"\r\n            :prop=\"item.prop\"\r\n            :width=\"item.width\"\r\n            :key=\"item.id\"\r\n            :show-overflow-tooltip=\"true\"\r\n          ></el-table-column>\r\n        </el-table-column>\r\n        <el-table-column prop=\"houseUseArea\" label=\"使用面积(m²)\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"houseBuildAreas\" label=\"建筑面积(m²)\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"housetypeName\" label=\"房屋类型\" align=\"center\"></el-table-column>\r\n      </table-component>\r\n      <div class=\"table-operate-box\" id=\"operateBox\">\r\n        <div class=\"operate-btn\">\r\n          总计&nbsp;&nbsp;\r\n          <span>房间数量:{{total}}</span>\r\n          <span>使用面积:{{houseUseAreaSum}}m²</span>\r\n          <span>建筑面积:{{houseBuildAreaSum}}m²</span>\r\n        </div>\r\n        <div class=\"operate-pager\">\r\n          <table-pagination\r\n            @size-change=\"changeSize\"\r\n            @page-change=\"changePage\"\r\n            :currentPage=\"currentPage\"\r\n            :pageSize=\"pageSize\"\r\n            :total=\"total\"\r\n          ></table-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { SpareRoom, getUnitLists } from \"./api\";\r\nimport { getYardTree } from \"../home/api\";\r\nimport { getHouseTypeList } from \"@/axios/commonApi\";\r\nimport { eventBus } from \"@/eventBus/eventBus\";\r\nimport searchBtn from \"@/components/button/searchBtn\";\r\nimport resetBtn from \"@/components/button/resetBtn\";\r\nimport treeSelect from \"@/components/treeSelect/treeSelect_2\";\r\nimport tableComponent from \"@/components/table/table2.vue\";\r\nimport tableBtnGroup from \"@/components/tableGroup/tableBtnGroup\";\r\nimport tablePagination from \"@/components/tableGroup/tablePagination\";\r\nimport { log } from \"util\";\r\nexport default {\r\n  components: {\r\n    searchBtn,\r\n    resetBtn,\r\n    treeSelect,\r\n    tableBtnGroup,\r\n    tablePagination,\r\n    tableComponent\r\n  },\r\n  data() {\r\n    return {\r\n      housetypeId: \"\",\r\n      unitIdList: [],\r\n      unitArr: [],\r\n      unitOptions: [],\r\n      treeShow: true,\r\n      form: {\r\n        yardId: \"\",\r\n        buildId: \"\",\r\n        floorName: \"\",\r\n        houseId: \"\"\r\n      },\r\n      loading: null,\r\n      tableData: [],\r\n      tableHeight: 0,\r\n      currentPage: 1,\r\n      pageSize: 15,\r\n      total: 1,\r\n      address: [\r\n        {\r\n          id: 1,\r\n          label: \"院落\",\r\n          prop: \"yardName\",\r\n          width: 200\r\n        },\r\n        {\r\n          id: 2,\r\n          label: \"楼座\",\r\n          prop: \"buildName\",\r\n          width: 100\r\n        },\r\n        {\r\n          id: 3,\r\n          label: \"楼层\",\r\n          prop: \"floorName\",\r\n          width: 100\r\n        },\r\n        {\r\n          id: 4,\r\n          label: \"房间\",\r\n          prop: \"houseNumber\",\r\n          width: 100\r\n        }\r\n      ],\r\n      houseUseAreaSum: 0,\r\n      houseBuildAreaSum: 0\r\n    };\r\n  },\r\n  created() {\r\n    this.getHouseType();\r\n    // this.getList();\r\n  },\r\n  methods: {\r\n    // 开始加载\r\n    loadingStart(classname) {\r\n      if (!this.loading) {\r\n        this.loading = this.$loading({\r\n          lock: true,\r\n          text: '正在加载...',\r\n          spinner: 'el-icon-loading',\r\n          target: classname,\r\n          customClass: 'loading-box'\r\n        });\r\n      }\r\n    },\r\n    // 结束加载\r\n    loadingEnd() {\r\n      if (this.loading) {\r\n        this.loading.close();\r\n        this.loading = null;\r\n      }\r\n    },\r\n    // 获取选中的row\r\n    handleSelectionChange(data) {\r\n      this.selectData = data;\r\n    },\r\n    //   获取使用单位列表\r\n    getUnit() {\r\n      getUnitLists().then(res => {\r\n        this.unitArr = res;\r\n      });\r\n    },\r\n    // 改变页面条数\r\n    changeSize(size) {\r\n      this.currentPage = 1\r\n      this.pageSize = size;\r\n      this.getList();\r\n    },\r\n    // 改变页面页数\r\n    changePage(page) {\r\n      this.currentPage = page;\r\n      this.getList();\r\n    },\r\n    search() {\r\n      this.currentPage = 1;\r\n      this.getList();\r\n    },\r\n    reset() {\r\n      this.currentPage = 1;\r\n      eventBus.$emit(\"clearTreeSelectVal\");\r\n      this.housetypeId = \"\"\r\n      this.form.yardId = ''\r\n      this.form.buildId = ''\r\n      this.form.floorName = ''\r\n      this.form.houseId = ''\r\n      this.unitIdList = []\r\n      this.getList();\r\n    },\r\n    //获取使用凡物类型\r\n    getHouseType() {\r\n      getHouseTypeList().then(res => {\r\n        this.unitOptions = res;\r\n      });\r\n    },\r\n    getList() {\r\n      this.loadingStart('.table-box');\r\n      SpareRoom(this.currentPage, this.pageSize, this.form, this.housetypeId, this.unitIdList)\r\n        .then(res => {\r\n          this.loadingEnd();\r\n          this.tableData = []\r\n          this.total = 0\r\n          this.houseBuildAreaSum = res.houseBuildAreaSum ? res.houseBuildAreaSum.toFixed(2) : 0\r\n          this.houseUseAreaSum = res.houseUseAreaSum ? res.houseUseAreaSum.toFixed(2) : 0\r\n          if (res.spareRoomDtoPage.records.length > 0) {\r\n            this.tableData = res.spareRoomDtoPage.records;\r\n            this.total = res.spareRoomDtoPage.total;\r\n            this.tableData.forEach(item => {\r\n              if (item.useBuildArea) {\r\n                if (item.houseUseArea) {\r\n                  item.houseBuildAreas = item.houseUseArea.toFixed(2);\r\n                } else {\r\n                  item.houseBuildAreas = '-'\r\n                }\r\n                item.houseUseArea = '-'\r\n              } else {\r\n                item.houseBuildAreas = (item.houseUseArea / item.buildCoe).toFixed(2);\r\n                item.houseUseArea = item.houseUseArea ? item.houseUseArea.toFixed(2) : \"\"\r\n              }\r\n            });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.loadingEnd();\r\n          const msg = err.result ? err.result : '获取超标房间信息列表失败';\r\n          this.$message({\r\n            message: msg,\r\n            type: \"error\"\r\n          });\r\n        });\r\n    },\r\n    //   加载树节点\r\n    loadNodes(node, resolve) {\r\n      if (node.level === 0) {\r\n        getYardTree(null, 0, null)\r\n          .then(res => {\r\n            res.forEach(item => {\r\n              if (!item.expand || item.expand === undefined) {\r\n                item.leaf = true;\r\n              }\r\n            });\r\n            return resolve(res);\r\n          })\r\n          .catch(err => {\r\n            const msg = err.result ? err.result : '树获取失败';\r\n            this.$message({\r\n              message: msg,\r\n              type: \"error\"\r\n            });\r\n          });\r\n        setTimeout(() => {\r\n          if (\r\n            this.form.yardId &&\r\n            !this.form.buildId &&\r\n            !this.form.floorName &&\r\n            !this.form.houseId\r\n          ) {\r\n            let tempObj = {};\r\n            tempObj.level = 1;\r\n            tempObj.id_yard = this.form.yardId;\r\n            eventBus.$emit(\"setTreeDefaultVal\", tempObj);\r\n          } else if (\r\n            this.form.yardId &&\r\n            this.form.buildId &&\r\n            !this.form.floorName &&\r\n            !this.form.houseId\r\n          ) {\r\n            let tempObj = {};\r\n            tempObj.level = 2;\r\n            tempObj.id_yard = this.form.yardId;\r\n            tempObj.id_build = `${this.form.yardId}:${this.form.buildId}`;\r\n            eventBus.$emit(\"setTreeDefaultVal\", tempObj);\r\n          } else if (\r\n            this.form.yardId &&\r\n            this.form.buildId &&\r\n            this.form.floorName &&\r\n            !this.form.houseId\r\n          ) {\r\n            let tempObj = {};\r\n            tempObj.level = 3;\r\n            tempObj.id_yard = this.form.yardId;\r\n            tempObj.id_build = `${this.form.yardId}:${this.form.buildId}`;\r\n            tempObj.buildId = this.form.buildId;\r\n            tempObj.id_floor = `${this.form.yardId}:${this.form.buildId}:${\r\n              this.form.floorName\r\n              }`;\r\n            eventBus.$emit(\"setTreeDefaultVal\", tempObj);\r\n          } else if (\r\n            this.form.yardId &&\r\n            this.form.buildId &&\r\n            this.form.floorName &&\r\n            this.form.houseId\r\n          ) {\r\n            let tempObj = {};\r\n            tempObj.level = 4;\r\n            tempObj.id_yard = this.form.yardId;\r\n            tempObj.id_build = `${this.form.yardId}:${this.form.buildId}`;\r\n            tempObj.id_floor = `${this.form.yardId}:${this.form.buildId}:${\r\n              this.form.floorName\r\n              }`;\r\n            tempObj.floorName = this.form.floorName;\r\n            tempObj.id_house = this.form.houseId;\r\n            eventBus.$emit(\"setTreeDefaultVal\", tempObj);\r\n          }\r\n        }, 1000);\r\n      } else if (node.level === 3) {\r\n        const repairRemind_buildId =\r\n          sessionStorage.getItem(\"repairRemind_buildId\") - 0;\r\n        getYardTree(node.data.value, 3, null, repairRemind_buildId)\r\n          .then(res => {\r\n            res.forEach(item => {\r\n              if (!item.expand || item.expand === undefined) {\r\n                item.leaf = true;\r\n              }\r\n            });\r\n            return resolve(res);\r\n          })\r\n          .catch(err => {\r\n            const msg = err.result ? err.result : '树获取失败';\r\n            this.$message({\r\n              message: msg,\r\n              type: \"error\"\r\n            });\r\n          });\r\n      } else {\r\n        getYardTree(node.data.value, node.data.type, null)\r\n          .then(res => {\r\n            res.forEach(item => {\r\n              if (!item.expand || item.expand === undefined) {\r\n                item.leaf = true;\r\n              }\r\n            });\r\n            return resolve(res);\r\n          })\r\n          .catch(err => {\r\n            const msg = err.result ? err.result : '树获取失败';\r\n            this.$message({\r\n              message: msg,\r\n              type: \"error\"\r\n            });\r\n          });\r\n      }\r\n    },\r\n    // 选中树节点\r\n    handleCheckChange(data) {\r\n      this.form.yardId = ''\r\n      this.form.buildId = ''\r\n      this.form.floorName = ''\r\n      this.form.houseId = ''\r\n      this.currentLevel = data.type;\r\n      if (data.type === 1) {\r\n        this.form.yardId = data.value;\r\n      } else if (data.type === 2) {\r\n        this.form.buildId = data.value;\r\n      } else if (data.type === 3) {\r\n        this.form.floorName = data.value;\r\n      } else {\r\n        this.form.houseId = data.value;\r\n      }\r\n    },\r\n    // 展开树节点\r\n    handleNodeExpand(data, node) {\r\n      if (node.level === 1) {\r\n        this.form.yardId = data.value;\r\n      } else if (node.level === 2) {\r\n        this.form.buildId = data.value;\r\n        sessionStorage.setItem(\"repairRemind_buildId\", data.value);\r\n      } else if (node.level === 3) {\r\n        this.form.floorName = data.value;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    setTimeout(() => {\r\n      this.getUnit()\r\n      let mainDivH = $(\"#mainDiv\").height();\r\n      let queryBoxH = $(\"#queryBox\").outerHeight(true);\r\n      let operateBoxH = $(\"#operateBox\").height();\r\n      this.tableHeight = mainDivH - queryBoxH - operateBoxH;\r\n      this.getList()\r\n    }, 1);\r\n  }\r\n};\r\n</script>\r\n<style>\r\n#spareRoom .query-box {\r\n  position: relative;\r\n  margin-bottom: 20px;\r\n}\r\n#spareRoom .query-item {\r\n  font-size: 16px;\r\n  /* height: 32px; */\r\n  line-height: 32px;\r\n  float: left;\r\n  width: 20%;\r\n}\r\n#spareRoom .query-item > div {\r\n  float: left;\r\n}\r\n#spareRoom .query-item > .query-input {\r\n  width: calc(100% - 80px);\r\n}\r\n#spareRoom .query-item .el-select {\r\n  width: 100%;\r\n}\r\n#spareRoom .query-item .el-date-editor.el-input,\r\n#spareRoom .query-item .el-input__inner {\r\n  height: 32px;\r\n  line-height: 32px;\r\n  width: 100%;\r\n}\r\n#spareRoom .query-btn {\r\n  float: right;\r\n}\r\n#spareRoom .table-operate-box {\r\n  width: 100%;\r\n  height: 66px;\r\n  background: #d9eef6;\r\n  position: relative;\r\n}\r\n#spareRoom .operate-btn {\r\n  position: absolute;\r\n  left: 19px;\r\n  top: 17px;\r\n  height: 32px;\r\n  line-height: 32px;\r\n}\r\n#spareRoom .operate-btn span {\r\n  display: inline-block;\r\n  margin-right: 40px;\r\n}\r\n#spareRoom .operate-pager {\r\n  position: absolute;\r\n  right: 19px;\r\n  top: 17px;\r\n}\r\n/* #spareRoom .query-box .el-select>.el-input{\r\n  width: 200px;\r\n} */\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/useManagement/spareRoom.vue"],"sourceRoot":""}