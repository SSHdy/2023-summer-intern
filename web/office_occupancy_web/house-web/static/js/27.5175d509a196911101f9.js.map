{"version":3,"sources":["webpack:///src/pages/useManagement/unitOverproof.vue","webpack:///./src/pages/useManagement/unitOverproof.vue?8078","webpack:///./src/pages/useManagement/unitOverproof.vue"],"names":["__webpack_exports__","components","searchBtn","__WEBPACK_IMPORTED_MODULE_1__components_button_searchBtn__","resetBtn","__WEBPACK_IMPORTED_MODULE_2__components_button_resetBtn__","tablePagination","__WEBPACK_IMPORTED_MODULE_4__components_tableGroup_tablePagination__","tableComponent","__WEBPACK_IMPORTED_MODULE_3__components_table_table2_vue__","data","unitIdList","unitOptions","loading","tableData","tableHeight","baseOffice","id","label","prop","width","office","service","equip","methods","loadingStart","classname","this","$loading","lock","text","spinner","target","customClass","loadingEnd","close","search","getList","reset","getUserUnitDic","_this","Object","__WEBPACK_IMPORTED_MODULE_0__api__","then","res","catch","err","msg","result","$message","message","type","_this2","length","forEach","item","key","toFixed","obj","number","unitName","buildAreaSum","houseUseAreaSum","fuShuAraeSum","jiBenUseArea","jiBenStandardArea","jiBenExcessArea","jiBenExcessRatio","useAreaByBanGong","standardAreaByBanGong","excessAreaByBanGong","excessRatioByBanGong","useAreaByFuWu","standardAreaByFuWu","excessAreaByFuWu","excessRatioByFuWu","useAreaBySheBei","standardAreaBySheBei","excessAreaBySheBei","excessRatioBySheBei","es","push","mounted","_this3","setTimeout","mainDivH","$","height","queryBoxH","outerHeight","useManagement_unitOverproof","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","staticStyle","filterable","multiple","placeholder","model","value","callback","$$v","expression","_l","unitId","on","clickBtn","align","show-overflow-tooltip","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","unitOverproof"],"mappings":"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","file":"static/js/27.5175d509a196911101f9.js","sourcesContent":["<template>\r\n  <div id=\"unitOverproof\">\r\n    <div class=\"query-box\" id=\"queryBox\">\r\n      <div class=\"clearfix\">\r\n        <div class=\"query-item\">\r\n          <div class=\"query-title\">单位名称：</div>\r\n          <div class=\"query-input\">\r\n            <el-select filterable multiple v-model=\"unitIdList\" placeholder=\"请选择单位名称\" style=\"width:100%\">\r\n              <el-option\r\n                v-for=\"item in unitOptions\"\r\n                :key=\"item.unitId\"\r\n                :label=\"item.unitName\"\r\n                :value=\"item.unitId\"\r\n              ></el-option>\r\n            </el-select>\r\n          </div>\r\n        </div>\r\n        <div class=\"query-btn\">\r\n          <search-btn @clickBtn=\"search\"></search-btn>\r\n          <reset-btn @clickBtn=\"reset\"></reset-btn>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"table-box\">\r\n      <table-component :tableData=\"tableData\" :tableHeight=\"tableHeight\">\r\n        <el-table-column prop=\"number\" width=\"50\" label=\"序号\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"unitName\" label=\"单位名称\" align=\"center\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n        <el-table-column\r\n          prop=\"buildAreaSum\"\r\n          label=\"总建筑面积(m²)\"\r\n          align=\"center\"\r\n          width=\"70\"\r\n          :show-overflow-tooltip=\"true\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"houseUseAreaSum\"\r\n          label=\"总使用面积(m²)\"\r\n          align=\"center\"\r\n          width=\"70\"\r\n          :show-overflow-tooltip=\"true\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"fuShuAraeSum\"\r\n          label=\"附属用房建筑面积(m²)\"\r\n          align=\"center\"\r\n          width=\"100\"\r\n          :show-overflow-tooltip=\"true\"\r\n        ></el-table-column>\r\n        <el-table-column label=\"基本办公用房\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n          <el-table-column\r\n            v-for=\"item in baseOffice\"\r\n            :label=\"item.label\"\r\n            align=\"center\"\r\n            :prop=\"item.prop\"\r\n            :width=\"item.width\"\r\n            :key=\"item.id\"\r\n            :show-overflow-tooltip=\"true\"\r\n          ></el-table-column>\r\n        </el-table-column>\r\n        <el-table-column label=\"办公室\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n          <el-table-column\r\n            v-for=\"item in office\"\r\n            :label=\"item.label\"\r\n            align=\"center\"\r\n            :prop=\"item.prop\"\r\n            :width=\"item.width\"\r\n            :key=\"item.id\"\r\n            :show-overflow-tooltip=\"true\"\r\n          ></el-table-column>\r\n        </el-table-column>\r\n        <el-table-column label=\"服务用房\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n          <el-table-column\r\n            v-for=\"item in service\"\r\n            :label=\"item.label\"\r\n            align=\"center\"\r\n            :prop=\"item.prop\"\r\n            :width=\"item.width\"\r\n            :key=\"item.id\"\r\n            :show-overflow-tooltip=\"true\"\r\n          ></el-table-column>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"pspecifiedArea\"\r\n          label=\"设备用房\"\r\n          align=\"center\"\r\n          :show-overflow-tooltip=\"true\"\r\n        >\r\n          <el-table-column\r\n            v-for=\"item in equip\"\r\n            :label=\"item.label\"\r\n            align=\"center\"\r\n            :prop=\"item.prop\"\r\n            :width=\"item.width\"\r\n            :key=\"item.id\"\r\n            :show-overflow-tooltip=\"true\"\r\n          ></el-table-column>\r\n        </el-table-column>\r\n      </table-component>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getUnitExcessInfo, getUnitList } from \"./api\";\r\nimport searchBtn from \"@/components/button/searchBtn\";\r\nimport resetBtn from \"@/components/button/resetBtn\";\r\nimport tableComponent from \"@/components/table/table2.vue\";\r\nimport tablePagination from \"@/components/tableGroup/tablePagination\";\r\nimport { log } from \"util\";\r\nexport default {\r\n  components: {\r\n    searchBtn,\r\n    resetBtn,\r\n    tablePagination,\r\n    tableComponent\r\n  },\r\n  data() {\r\n    return {\r\n      unitIdList: [],\r\n      unitOptions: [],\r\n      loading: null,\r\n      tableData: [],\r\n      tableHeight: 0,\r\n      baseOffice: [\r\n        {\r\n          id: 1,\r\n          label: \"实际使用面积(m²)\",\r\n          prop: \"jiBenUseArea\",\r\n          width: 100\r\n        },\r\n        {\r\n          id: 2,\r\n          label: \"核定使用面积(m²)\",\r\n          prop: \"jiBenStandardArea\",\r\n          width: 100\r\n        },\r\n        {\r\n          id: 3,\r\n          label: \"超标面积(m²)\",\r\n          prop: \"jiBenExcessArea\"\r\n        },\r\n        {\r\n          id: 4,\r\n          label: \"超标比例(%)\",\r\n          prop: \"jiBenExcessRatio\"\r\n        }\r\n      ],\r\n      office: [\r\n        {\r\n          id: 1,\r\n          label: \"实际使用面积(m²)\",\r\n          prop: \"useAreaByBanGong\",\r\n          width: 100\r\n        },\r\n        {\r\n          id: 2,\r\n          label: \"核定使用面积(m²)\",\r\n          prop: \"standardAreaByBanGong\",\r\n          width: 100\r\n        },\r\n        {\r\n          id: 3,\r\n          label: \"超标面积(m²)\",\r\n          prop: \"excessAreaByBanGong\"\r\n        },\r\n        {\r\n          id: 4,\r\n          label: \"超标比例(%)\",\r\n          prop: \"excessRatioByBanGong\"\r\n        }\r\n      ],\r\n      service: [\r\n        {\r\n          id: 1,\r\n          label: \"实际使用面积(m²)\",\r\n          prop: \"useAreaByFuWu\",\r\n          width: 100\r\n        },\r\n        {\r\n          id: 2,\r\n          label: \"核定使用面积(m²)\",\r\n          prop: \"standardAreaByFuWu\",\r\n          width: 100\r\n        },\r\n        {\r\n          id: 3,\r\n          label: \"超标面积(m²)\",\r\n          prop: \"excessAreaByFuWu\"\r\n        },\r\n        {\r\n          id: 4,\r\n          label: \"超标比例(%)\",\r\n          prop: \"excessRatioByFuWu\"\r\n        }\r\n      ],\r\n      equip: [\r\n        {\r\n          id: 1,\r\n          label: \"实际使用面积(m²)\",\r\n          prop: \"useAreaBySheBei\",\r\n          width: 100\r\n        },\r\n        {\r\n          id: 2,\r\n          label: \"核定使用面积(m²)\",\r\n          prop: \"standardAreaBySheBei\",\r\n          width: 100\r\n        },\r\n        {\r\n          id: 3,\r\n          label: \"超标面积(m²)\",\r\n          prop: \"excessAreaBySheBei\"\r\n        },\r\n        {\r\n          id: 4,\r\n          label: \"超标比例(%)\",\r\n          prop: \"excessRatioBySheBei\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  methods: {\r\n    // 开始加载\r\n    loadingStart(classname) {\r\n      if (!this.loading) {\r\n        this.loading = this.$loading({\r\n          lock: true,\r\n          text: \"正在加载...\",\r\n          spinner: \"el-icon-loading\",\r\n          target: classname,\r\n          customClass: \"loading-box\"\r\n        });\r\n      }\r\n    },\r\n    // 结束加载\r\n    loadingEnd() {\r\n      if (this.loading) {\r\n        this.loading.close();\r\n        this.loading = null;\r\n      }\r\n    },\r\n    search() {\r\n      this.getList();\r\n    },\r\n    reset() {\r\n      this.unitIdList = [];\r\n      this.getList();\r\n    },\r\n    // 用户权限下的单位字典项\r\n    getUserUnitDic() {\r\n      getUnitList()\r\n        .then(res => {\r\n          this.unitOptions = res;\r\n        })\r\n        .catch(err => {\r\n          const msg = err.result ? err.result : \"单位下拉选项获取失败\";\r\n          this.$message({\r\n            message: msg,\r\n            type: \"error\"\r\n          });\r\n        });\r\n    },\r\n    getList() {\r\n      this.loadingStart(\".table-box\");\r\n      getUnitExcessInfo(this.unitIdList)\r\n        .then(res => {\r\n          this.tableData = res;\r\n          if (res.length > 0) {\r\n            res.forEach(item => {\r\n              for (let key in item) {\r\n                if (key !== \"number\" && key !== \"unitName\") {\r\n                  item[key] = item[key] ? item[key].toFixed(2) : 0;\r\n                }\r\n              }\r\n            });\r\n\r\n            let obj = {\r\n              number: \"合计\",\r\n              unitName: \"-\",\r\n              buildAreaSum: 0,\r\n              houseUseAreaSum: 0,\r\n              fuShuAraeSum: 0,\r\n              jiBenUseArea: 0,\r\n              jiBenStandardArea: 0,\r\n              jiBenExcessArea: 0,\r\n              jiBenExcessRatio: 0,\r\n              useAreaByBanGong: 0,\r\n              standardAreaByBanGong: 0,\r\n              excessAreaByBanGong: 0,\r\n              excessRatioByBanGong: 0,\r\n              useAreaByFuWu: 0,\r\n              standardAreaByFuWu: 0,\r\n              excessAreaByFuWu: 0,\r\n              excessRatioByFuWu: 0,\r\n              useAreaBySheBei: 0,\r\n              standardAreaBySheBei: 0,\r\n              excessAreaBySheBei: 0,\r\n              excessRatioBySheBei: 0\r\n            };\r\n\r\n            res.forEach(es => {\r\n              for (let key in obj) {\r\n                if (\r\n                  key !== \"number\" &&\r\n                  key !== \"unitName\" &&\r\n                  key !== \"jiBenExcessRatio\" &&\r\n                  key !== \"excessRatioByBanGong\" &&\r\n                  key !== \"excessRatioByFuWu\" &&\r\n                  key !== \"excessRatioBySheBei\"\r\n                ) {\r\n                  obj[key] += (es[key] - 0);\r\n                }\r\n              }\r\n            });\r\n            obj.excessRatioBySheBei = obj.useAreaBySheBei ? (obj.excessAreaBySheBei / obj.useAreaBySheBei) * 100 : '-';\r\n            obj.excessRatioByFuWu = obj.useAreaByFuWu ? (obj.excessAreaByFuWu / obj.useAreaByFuWu) * 100 : '-';\r\n            obj.excessRatioByBanGong = obj.useAreaByBanGong ? (obj.excessAreaByBanGong / obj.useAreaByBanGong) * 100 : '-';\r\n            obj.jiBenExcessRatio = obj.jiBenUseArea ? (obj.jiBenExcessArea / obj.jiBenUseArea) * 100 : '-';\r\n            for (let key in obj) {\r\n              if (key !== \"number\" && key !== \"unitName\") {\r\n                obj[key] = obj[key].toFixed(2);\r\n              }\r\n            }\r\n            this.tableData.push(obj)\r\n          }\r\n          this.loadingEnd();\r\n        })\r\n        .catch(err => {\r\n          this.loadingEnd();\r\n          const msg = err.result ? err.result : \"超标单位列表获取失败\";\r\n          this.$message({\r\n            message: msg,\r\n            type: \"error\"\r\n          });\r\n        });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getUserUnitDic();\r\n    this.getList();\r\n    setTimeout(() => {\r\n      let mainDivH = $(\"#mainDiv\").height();\r\n      let queryBoxH = $(\"#queryBox\").outerHeight(true);\r\n      this.tableHeight = mainDivH - queryBoxH;\r\n    }, 1);\r\n  }\r\n};\r\n</script>\r\n<style>\r\n#unitOverproof .query-box {\r\n  margin-bottom: 20px;\r\n}\r\n#unitOverproof .query-item {\r\n  font-size: 16px;\r\n  /* height: 32px; */\r\n  line-height: 32px;\r\n  float: left;\r\n  width: 20%;\r\n}\r\n#unitOverproof .query-item > div {\r\n  float: left;\r\n}\r\n#unitOverproof .query-item > .query-input {\r\n  width: calc(100% - 80px);\r\n}\r\n#unitOverproof .query-item .el-date-editor.el-input,\r\n#unitOverproof .query-item .el-input__inner {\r\n  height: 32px;\r\n  line-height: 32px;\r\n  width: 100%;\r\n}\r\n#unitOverproof .query-btn {\r\n  float: right;\r\n}\r\n#unitOverproof .table-operate-box {\r\n  width: 100%;\r\n  height: 66px;\r\n  background: #d9eef6;\r\n  position: relative;\r\n}\r\n#unitOverproof .operate-btn {\r\n  position: absolute;\r\n  left: 19px;\r\n  top: 17px;\r\n}\r\n#unitOverproof .operate-pager {\r\n  position: absolute;\r\n  right: 19px;\r\n  top: 17px;\r\n}\r\n#unitOverproof .el-table .cell {\r\n  line-height: inherit;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n#unitOverproof .el-table th div {\r\n  line-height: inherit;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/useManagement/unitOverproof.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"unitOverproof\"}},[_c('div',{staticClass:\"query-box\",attrs:{\"id\":\"queryBox\"}},[_c('div',{staticClass:\"clearfix\"},[_c('div',{staticClass:\"query-item\"},[_c('div',{staticClass:\"query-title\"},[_vm._v(\"单位名称：\")]),_vm._v(\" \"),_c('div',{staticClass:\"query-input\"},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"multiple\":\"\",\"placeholder\":\"请选择单位名称\"},model:{value:(_vm.unitIdList),callback:function ($$v) {_vm.unitIdList=$$v},expression:\"unitIdList\"}},_vm._l((_vm.unitOptions),function(item){return _c('el-option',{key:item.unitId,attrs:{\"label\":item.unitName,\"value\":item.unitId}})}))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"query-btn\"},[_c('search-btn',{on:{\"clickBtn\":_vm.search}}),_vm._v(\" \"),_c('reset-btn',{on:{\"clickBtn\":_vm.reset}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"table-box\"},[_c('table-component',{attrs:{\"tableData\":_vm.tableData,\"tableHeight\":_vm.tableHeight}},[_c('el-table-column',{attrs:{\"prop\":\"number\",\"width\":\"50\",\"label\":\"序号\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"unitName\",\"label\":\"单位名称\",\"align\":\"center\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"buildAreaSum\",\"label\":\"总建筑面积(m²)\",\"align\":\"center\",\"width\":\"70\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"houseUseAreaSum\",\"label\":\"总使用面积(m²)\",\"align\":\"center\",\"width\":\"70\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"fuShuAraeSum\",\"label\":\"附属用房建筑面积(m²)\",\"align\":\"center\",\"width\":\"100\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"基本办公用房\",\"align\":\"center\",\"show-overflow-tooltip\":true}},_vm._l((_vm.baseOffice),function(item){return _c('el-table-column',{key:item.id,attrs:{\"label\":item.label,\"align\":\"center\",\"prop\":item.prop,\"width\":item.width,\"show-overflow-tooltip\":true}})})),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"办公室\",\"align\":\"center\",\"show-overflow-tooltip\":true}},_vm._l((_vm.office),function(item){return _c('el-table-column',{key:item.id,attrs:{\"label\":item.label,\"align\":\"center\",\"prop\":item.prop,\"width\":item.width,\"show-overflow-tooltip\":true}})})),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"服务用房\",\"align\":\"center\",\"show-overflow-tooltip\":true}},_vm._l((_vm.service),function(item){return _c('el-table-column',{key:item.id,attrs:{\"label\":item.label,\"align\":\"center\",\"prop\":item.prop,\"width\":item.width,\"show-overflow-tooltip\":true}})})),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pspecifiedArea\",\"label\":\"设备用房\",\"align\":\"center\",\"show-overflow-tooltip\":true}},_vm._l((_vm.equip),function(item){return _c('el-table-column',{key:item.id,attrs:{\"label\":item.label,\"align\":\"center\",\"prop\":item.prop,\"width\":item.width,\"show-overflow-tooltip\":true}})}))],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-43b08674\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/useManagement/unitOverproof.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-43b08674\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./unitOverproof.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./unitOverproof.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./unitOverproof.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-43b08674\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./unitOverproof.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/useManagement/unitOverproof.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}