webpackJsonp([39],{THb0:function(e,t,a){"use strict";(function(e){var r=a("HI+P"),i=a("5kkW"),l=a("3a1n"),o=a("FAvH"),s=a("uSev"),n=a("GR1E");t.a={components:{tableComponent:s.a,tableBtnGroup:o.a,tablePagination:n.a,searchBtn:i.a,resetBtn:l.a},data:function(){return{loading:null,tableData:[],tableHeight:0,selectData:[],currentPage:1,pageSize:15,total:1,Form:{repairModuleId:"",repairPartsId:""},repairPartsOpts:[],repairModuleOpts:[]}},methods:{loadingStart:function(e){this.loading||(this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"el-icon-loading",target:e,customClass:"loading-box"}))},loadingEnd:function(){this.loading&&(this.loading.close(),this.loading=null)},getRepairModuleList:function(){var e=this;Object(r.r)().then(function(t){e.repairModuleOpts=t}).catch(function(t){var a=t.result?t.result:"获取维修部位列表失败";e.$message({message:a,type:"error"})})},getRepairPartsList:function(){var e=this;Object(r.u)().then(function(t){e.repairPartsOpts=t}).catch(function(t){var a=t.result?t.result:"获取维修部位信息列表失败";e.$message({message:a,type:"error"})})},getRepairModulePageLists:function(){var e=this;this.loadingStart(".table-box"),Object(r.s)(this.currentPage,this.pageSize,this.Form.repairModuleId,this.Form.repairPartsId).then(function(t){e.total=t.total,t.records.forEach(function(t){t.completionTime&&(t.completionTime=e.formatDate(t.completionTime)),t.repairQuality&&(t.repairQuality=e.formatDate(t.repairQuality)),t.repairModuleArea&&(t.repairModuleArea=t.repairModuleArea.toFixed(2))}),e.tableData=t.records,e.loadingEnd()}).catch(function(t){var a=t.result?t.result:"获取维修模块信息管理列表失败";e.$message({message:a,type:"error"}),e.loadingEnd()})},changeSize:function(e){this.currentPage=1,this.pageSize=e,this.getRepairModulePageLists()},changePage:function(e){this.currentPage=e,this.getRepairModulePageLists()},search:function(){this.currentPage=1,this.getRepairModulePageLists()},reset:function(){this.currentPage=1,this.Form.repairModuleId="",this.Form.repairPartsId="",this.getRepairModulePageLists()},formatDate:function(e){var t=new Date(e),a="yyyy-MM-dd",r={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+i+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?r[i]:("00"+r[i]).substr((""+r[i]).length)));return a}},created:function(){this.getRepairModuleList(),this.getRepairPartsList(),this.getRepairModulePageLists()},mounted:function(){var t=this;setTimeout(function(){var a=e("#mainDiv").height(),r=e("#queryBox").outerHeight(!0),i=e("#operateBox").height();t.tableHeight=a-r-i},1)}}}).call(t,a("7t+N"))},pAHb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("THb0"),i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"qualityAssuranceDate"}},[a("div",{staticClass:"query-box",attrs:{id:"queryBox"}},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"query-item"},[a("div",{staticClass:"query-title"},[e._v("维修地点：")]),e._v(" "),a("div",{staticClass:"query-input"},[a("el-select",{attrs:{placeholder:"请选择维修地点",size:"small"},model:{value:e.Form.repairModuleId,callback:function(t){e.$set(e.Form,"repairModuleId",t)},expression:"Form.repairModuleId"}},e._l(e.repairModuleOpts,function(e){return a("el-option",{key:e.repairModuleId,attrs:{label:e.repairModulePosition,value:e.repairModuleId}})}))],1)]),e._v(" "),a("div",{staticClass:"query-item"},[a("div",{staticClass:"query-title"},[e._v("维修部位：")]),e._v(" "),a("div",{staticClass:"query-input"},[a("el-select",{attrs:{placeholder:"请选择维修部位",size:"small"},model:{value:e.Form.repairPartsId,callback:function(t){e.$set(e.Form,"repairPartsId",t)},expression:"Form.repairPartsId"}},e._l(e.repairPartsOpts,function(e){return a("el-option",{key:e.repairPartsId,attrs:{label:e.repairPartName,value:e.repairPartsId}})}))],1)]),e._v(" "),a("div",{staticClass:"query-btn"},[a("search-btn",{on:{clickBtn:e.search}}),e._v(" "),a("reset-btn",{on:{clickBtn:e.reset}})],1)])]),e._v(" "),a("div",{staticClass:"table-box"},[a("table-component",{attrs:{tableData:e.tableData,tableHeight:e.tableHeight}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"repairModulePosition",label:"维修地点",align:"center","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"repairPartName",label:"维修部位",align:"center","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"repairQuality",label:"质保日期",align:"center","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"repairPartQuality",label:"质保期(年)",align:"center","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"completionTime",label:"竣工时间",align:"center","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"repairModuleArea",label:"维修面积(m²)",align:"center","show-overflow-tooltip":!0}})],1),e._v(" "),a("div",{staticClass:"table-operate-box",attrs:{id:"operateBox"}},[a("div",{staticClass:"operate-pager"},[a("table-pagination",{attrs:{currentPage:e.currentPage,pageSize:e.pageSize,total:e.total},on:{"size-change":e.changeSize,"page-change":e.changePage}})],1)])],1)])},staticRenderFns:[]};var l=function(e){a("rCuM")},o=a("VU/8")(r.a,i,!1,l,null,null);t.default=o.exports},rCuM:function(e,t){}});
//# sourceMappingURL=39.fc87319843c0becdef25.js.map