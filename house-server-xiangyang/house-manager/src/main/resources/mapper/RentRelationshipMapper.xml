<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ryzw.housemanager.mapper.RentRelationshipMapper">
    <select id="selectRentCount" resultType="int">
        select count(*)
        from housingUse hu
        right join rent_relationship rs
        on hu.housingUse_id = rs.housingUse_id
        <where>
            hu.is_use = 1
            <if test="houseIds != null and houseIds.size()>0">
                and hu.house_id in
                <foreach collection="houseIds" open="(" close=")" separator="," index="index" item="item">
                    #{item}
                </foreach>
            </if>
        </where>
    </select>
</mapper>
